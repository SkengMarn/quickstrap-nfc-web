function Gp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var jd={exports:{}},Bi={},Sd={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),Jp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),em=Symbol.for("react.provider"),tm=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),sm=Symbol.for("react.memo"),im=Symbol.for("react.lazy"),Su=Symbol.iterator;function am(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var Nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ed=Object.assign,Cd={};function yn(e,t,r){this.props=e,this.context=t,this.refs=Cd,this.updater=r||Nd}yn.prototype.isReactComponent={};yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Td(){}Td.prototype=yn.prototype;function wl(e,t,r){this.props=e,this.context=t,this.refs=Cd,this.updater=r||Nd}var _l=wl.prototype=new Td;_l.constructor=wl;Ed(_l,yn.prototype);_l.isPureReactComponent=!0;var Nu=Array.isArray,Pd=Object.prototype.hasOwnProperty,bl={current:null},Od={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Pd.call(t,n)&&!Od.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ws,type:e,key:i,ref:a,props:s,_owner:bl.current}}function om(e,t){return{$$typeof:ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function lm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Eu=/\/+/g;function _a(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lm(""+e.key):t.toString(36)}function Zs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ws:case Jp:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+_a(a,0):n,Nu(s)?(r="",e!=null&&(r=e.replace(Eu,"$&/")+"/"),Zs(s,t,r,"",function(c){return c})):s!=null&&(kl(s)&&(s=om(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Eu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Nu(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+_a(i,o);a+=Zs(i,t,r,u,s)}else if(u=am(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+_a(i,o++),a+=Zs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ps(e,t,r){if(e==null)return e;var n=[],s=0;return Zs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function um(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},ei={transition:null},cm={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ei,ReactCurrentOwner:bl};function $d(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ps,forEach:function(e,t,r){Ps(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ps(e,function(){t++}),t},toArray:function(e){return Ps(e,function(t){return t})||[]},only:function(e){if(!kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=yn;z.Fragment=Xp;z.Profiler=Zp;z.PureComponent=wl;z.StrictMode=Yp;z.Suspense=nm;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cm;z.act=$d;z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ed({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=bl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Pd.call(t,u)&&!Od.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ws,type:e.type,key:s,ref:i,props:n,_owner:a}};z.createContext=function(e){return e={$$typeof:tm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:em,_context:e},e.Consumer=e};z.createElement=Id;z.createFactory=function(e){var t=Id.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:rm,render:e}};z.isValidElement=kl;z.lazy=function(e){return{$$typeof:im,_payload:{_status:-1,_result:e},_init:um}};z.memo=function(e,t){return{$$typeof:sm,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=ei.transition;ei.transition={};try{e()}finally{ei.transition=t}};z.unstable_act=$d;z.useCallback=function(e,t){return Oe.current.useCallback(e,t)};z.useContext=function(e){return Oe.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};z.useEffect=function(e,t){return Oe.current.useEffect(e,t)};z.useId=function(){return Oe.current.useId()};z.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};z.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Oe.current.useMemo(e,t)};z.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};z.useRef=function(e){return Oe.current.useRef(e)};z.useState=function(e){return Oe.current.useState(e)};z.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};z.useTransition=function(){return Oe.current.useTransition()};z.version="18.3.1";Sd.exports=z;var b=Sd.exports;const W=kd(b),dm=Gp({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=b,hm=Symbol.for("react.element"),pm=Symbol.for("react.fragment"),mm=Object.prototype.hasOwnProperty,gm=fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ym={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)mm.call(t,n)&&!ym.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:hm,type:e,key:i,ref:a,props:s,_owner:gm.current}}Bi.Fragment=pm;Bi.jsx=Rd;Bi.jsxs=Rd;jd.exports=Bi;var l=jd.exports,Ld={exports:{}},qe={},Dd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,D){var U=P.length;P.push(D);e:for(;0<U;){var re=U-1>>>1,ue=P[re];if(0<s(ue,D))P[re]=D,P[U]=ue,U=re;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var D=P[0],U=P.pop();if(U!==D){P[0]=U;e:for(var re=0,ue=P.length,Ir=ue>>>1;re<Ir;){var ut=2*(re+1)-1,$r=P[ut],ct=ut+1,or=P[ct];if(0>s($r,U))ct<ue&&0>s(or,$r)?(P[re]=or,P[ct]=U,re=ct):(P[re]=$r,P[ut]=U,re=ut);else if(ct<ue&&0>s(or,U))P[re]=or,P[ct]=U,re=ct;else break e}}return D}function s(P,D){var U=P.sortIndex-D.sortIndex;return U!==0?U:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,f=null,h=3,x=!1,_=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=P)n(c),D.sortIndex=D.expirationTime,t(u,D);else break;D=r(c)}}function w(P){if(y=!1,m(P),!_)if(r(u)!==null)_=!0,ee(k);else{var D=r(c);D!==null&&K(w,D.startTime-P)}}function k(P,D){_=!1,y&&(y=!1,g(C),C=-1),x=!0;var U=h;try{for(m(D),f=r(u);f!==null&&(!(f.expirationTime>D)||P&&!T());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var ue=re(f.expirationTime<=D);D=e.unstable_now(),typeof ue=="function"?f.callback=ue:f===r(u)&&n(u),m(D)}else n(u);f=r(u)}if(f!==null)var Ir=!0;else{var ut=r(c);ut!==null&&K(w,ut.startTime-D),Ir=!1}return Ir}finally{f=null,h=U,x=!1}}var S=!1,j=null,C=-1,L=5,N=-1;function T(){return!(e.unstable_now()-N<L)}function $(){if(j!==null){var P=e.unstable_now();N=P;var D=!0;try{D=j(!0,P)}finally{D?B():(S=!1,j=null)}}else S=!1}var B;if(typeof p=="function")B=function(){p($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,de=q.port2;q.port1.onmessage=$,B=function(){de.postMessage(null)}}else B=function(){v($,0)};function ee(P){j=P,S||(S=!0,B())}function K(P,D){C=v(function(){P(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){_||x||(_=!0,ee(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var U=h;h=D;try{return P()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=h;h=P;try{return D()}finally{h=U}},e.unstable_scheduleCallback=function(P,D,U){var re=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?re+U:re):U=re,P){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=U+ue,P={id:d++,callback:D,priorityLevel:P,startTime:U,expirationTime:ue,sortIndex:-1},U>re?(P.sortIndex=U,t(c,P),r(u)===null&&P===r(c)&&(y?(g(C),C=-1):y=!0,K(w,U-re))):(P.sortIndex=ue,t(u,P),_||x||(_=!0,ee(k))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var D=h;return function(){var U=h;h=D;try{return P.apply(this,arguments)}finally{h=U}}}})(Ad);Dd.exports=Ad;var vm=Dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=b,Ve=vm;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ud=new Set,Zn={};function Cr(e,t){ln(e,t),ln(e+"Capture",t)}function ln(e,t){for(Zn[e]=t,e=0;e<t.length;e++)Ud.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=Object.prototype.hasOwnProperty,wm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cu={},Tu={};function _m(e){return io.call(Tu,e)?!0:io.call(Cu,e)?!1:wm.test(e)?Tu[e]=!0:(Cu[e]=!0,!1)}function bm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function km(e,t,r,n){if(t===null||typeof t>"u"||bm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var jl=/[\-:]([a-z])/g;function Sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jl,Sl);_e[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jl,Sl);_e[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jl,Sl);_e[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nl(e,t,r,n){var s=_e.hasOwnProperty(t)?_e[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(km(t,r,s,n)&&(r=null),n||s===null?_m(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pt=xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),Md=Symbol.for("react.provider"),zd=Symbol.for("react.context"),Cl=Symbol.for("react.forward_ref"),oo=Symbol.for("react.suspense"),lo=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Fd=Symbol.for("react.offscreen"),Pu=Symbol.iterator;function jn(e){return e===null||typeof e!="object"?null:(e=Pu&&e[Pu]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,ba;function Dn(e){if(ba===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ba=t&&t[1]||""}return`
`+ba+e}var ka=!1;function ja(e,t){if(!e||ka)return"";ka=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{ka=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dn(e):""}function jm(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=ja(e.type,!1),e;case 11:return e=ja(e.type.render,!1),e;case 1:return e=ja(e.type,!0),e;default:return""}}function uo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Br:return"Portal";case ao:return"Profiler";case El:return"StrictMode";case oo:return"Suspense";case lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zd:return(e.displayName||"Context")+".Consumer";case Md:return(e._context.displayName||"Context")+".Provider";case Cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tl:return t=e.displayName||null,t!==null?t:uo(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return uo(e(t))}catch{}}return null}function Sm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uo(t);case 8:return t===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nm(e){var t=Bd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=Nm(e))}function Wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Bd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function co(e,t){var r=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ou(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=er(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vd(e,t){t=t.checked,t!=null&&Nl(e,"checked",t,!1)}function fo(e,t){Vd(e,t);var r=er(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ho(e,t.type,r):t.hasOwnProperty("defaultValue")&&ho(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ho(e,t,r){(t!=="number"||hi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var An=Array.isArray;function en(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+er(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $u(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(An(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:er(r)}}function qd(e,t){var r=er(t.value),n=er(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ru(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,Kd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function es(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Em=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(e){Em.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fn[t]=Fn[e]})});function Gd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fn.hasOwnProperty(e)&&Fn[e]?(""+t).trim():t+"px"}function Qd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Gd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Cm=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(e,t){if(t){if(Cm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function yo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function Pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xo=null,tn=null,rn=null;function Lu(e){if(e=ks(e)){if(typeof xo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Ki(t),xo(e.stateNode,e.type,t))}}function Jd(e){tn?rn?rn.push(e):rn=[e]:tn=e}function Xd(){if(tn){var e=tn,t=rn;if(rn=tn=null,Lu(e),t)for(e=0;e<t.length;e++)Lu(t[e])}}function Yd(e,t){return e(t)}function Zd(){}var Sa=!1;function ef(e,t,r){if(Sa)return e(t,r);Sa=!0;try{return Yd(e,t,r)}finally{Sa=!1,(tn!==null||rn!==null)&&(Zd(),Xd())}}function ts(e,t){var r=e.stateNode;if(r===null)return null;var n=Ki(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var wo=!1;if(St)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{wo=!1}function Tm(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Bn=!1,pi=null,mi=!1,_o=null,Pm={onError:function(e){Bn=!0,pi=e}};function Om(e,t,r,n,s,i,a,o,u){Bn=!1,pi=null,Tm.apply(Pm,arguments)}function Im(e,t,r,n,s,i,a,o,u){if(Om.apply(this,arguments),Bn){if(Bn){var c=pi;Bn=!1,pi=null}else throw Error(E(198));mi||(mi=!0,_o=c)}}function Tr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Du(e){if(Tr(e)!==e)throw Error(E(188))}function $m(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Du(s),e;if(i===n)return Du(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function rf(e){return e=$m(e),e!==null?nf(e):null}function nf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nf(e);if(t!==null)return t;e=e.sibling}return null}var sf=Ve.unstable_scheduleCallback,Au=Ve.unstable_cancelCallback,Rm=Ve.unstable_shouldYield,Lm=Ve.unstable_requestPaint,le=Ve.unstable_now,Dm=Ve.unstable_getCurrentPriorityLevel,Ol=Ve.unstable_ImmediatePriority,af=Ve.unstable_UserBlockingPriority,gi=Ve.unstable_NormalPriority,Am=Ve.unstable_LowPriority,of=Ve.unstable_IdlePriority,Wi=null,pt=null;function Um(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Fm,Mm=Math.log,zm=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Mm(e)/zm|0)|0}var Rs=64,Ls=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Un(o):(i&=a,i!==0&&(n=Un(i)))}else a=r&~s,a!==0?n=Un(a):i!==0&&(n=Un(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-at(t),s=1<<r,n|=e[r],t&=~s;return n}function Bm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Bm(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lf(){var e=Rs;return Rs<<=1,!(Rs&4194240)&&(Rs=64),e}function Na(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=r}function Vm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-at(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Il(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var V=0;function uf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cf,$l,df,ff,hf,ko=!1,Ds=[],qt=null,Ht=null,Kt=null,rs=new Map,ns=new Map,Mt=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function Nn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&$l(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Hm(e,t,r,n,s){switch(t){case"focusin":return qt=Nn(qt,e,t,r,n,s),!0;case"dragenter":return Ht=Nn(Ht,e,t,r,n,s),!0;case"mouseover":return Kt=Nn(Kt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return rs.set(i,Nn(rs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ns.set(i,Nn(ns.get(i)||null,e,t,r,n,s)),!0}return!1}function pf(e){var t=gr(e.target);if(t!==null){var r=Tr(t);if(r!==null){if(t=r.tag,t===13){if(t=tf(r),t!==null){e.blockedOn=t,hf(e.priority,function(){df(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vo=n,r.target.dispatchEvent(n),vo=null}else return t=ks(r),t!==null&&$l(t),e.blockedOn=r,!1;t.shift()}return!0}function Mu(e,t,r){ti(e)&&r.delete(t)}function Km(){ko=!1,qt!==null&&ti(qt)&&(qt=null),Ht!==null&&ti(Ht)&&(Ht=null),Kt!==null&&ti(Kt)&&(Kt=null),rs.forEach(Mu),ns.forEach(Mu)}function En(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Km)))}function ss(e){function t(s){return En(s,e)}if(0<Ds.length){En(Ds[0],e);for(var r=1;r<Ds.length;r++){var n=Ds[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qt!==null&&En(qt,e),Ht!==null&&En(Ht,e),Kt!==null&&En(Kt,e),rs.forEach(t),ns.forEach(t),r=0;r<Mt.length;r++)n=Mt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&(r=Mt[0],r.blockedOn===null);)pf(r),r.blockedOn===null&&Mt.shift()}var nn=Pt.ReactCurrentBatchConfig,vi=!0;function Gm(e,t,r,n){var s=V,i=nn.transition;nn.transition=null;try{V=1,Rl(e,t,r,n)}finally{V=s,nn.transition=i}}function Qm(e,t,r,n){var s=V,i=nn.transition;nn.transition=null;try{V=4,Rl(e,t,r,n)}finally{V=s,nn.transition=i}}function Rl(e,t,r,n){if(vi){var s=jo(e,t,r,n);if(s===null)Da(e,t,n,xi,r),Uu(e,n);else if(Hm(s,e,t,r,n))n.stopPropagation();else if(Uu(e,n),t&4&&-1<qm.indexOf(e)){for(;s!==null;){var i=ks(s);if(i!==null&&cf(i),i=jo(e,t,r,n),i===null&&Da(e,t,n,xi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Da(e,t,n,null,r)}}var xi=null;function jo(e,t,r,n){if(xi=null,e=Pl(n),e=gr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xi=e,null}function mf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case Ol:return 1;case af:return 4;case gi:case Am:return 16;case of:return 536870912;default:return 16}default:return 16}}var Bt=null,Ll=null,ri=null;function gf(){if(ri)return ri;var e,t=Ll,r=t.length,n,s="value"in Bt?Bt.value:Bt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ri=s.slice(e,1<n?1-n:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function zu(){return!1}function He(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?As:zu,this.isPropagationStopped=zu,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=He(vn),bs=ae({},vn,{view:0,detail:0}),Jm=He(bs),Ea,Ca,Cn,Vi=ae({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cn&&(Cn&&e.type==="mousemove"?(Ea=e.screenX-Cn.screenX,Ca=e.screenY-Cn.screenY):Ca=Ea=0,Cn=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Fu=He(Vi),Xm=ae({},Vi,{dataTransfer:0}),Ym=He(Xm),Zm=ae({},bs,{relatedTarget:0}),Ta=He(Zm),eg=ae({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=He(eg),rg=ae({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ng=He(rg),sg=ae({},vn,{data:0}),Bu=He(sg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=og[e])?!!t[e]:!1}function Al(){return lg}var ug=ae({},bs,{key:function(e){if(e.key){var t=ig[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=He(ug),dg=ae({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=He(dg),fg=ae({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),hg=He(fg),pg=ae({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=He(pg),gg=ae({},Vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=He(gg),vg=[9,13,27,32],Ul=St&&"CompositionEvent"in window,Wn=null;St&&"documentMode"in document&&(Wn=document.documentMode);var xg=St&&"TextEvent"in window&&!Wn,yf=St&&(!Ul||Wn&&8<Wn&&11>=Wn),Vu=" ",qu=!1;function vf(e,t){switch(e){case"keyup":return vg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function wg(e,t){switch(e){case"compositionend":return xf(t);case"keypress":return t.which!==32?null:(qu=!0,Vu);case"textInput":return e=t.data,e===Vu&&qu?null:e;default:return null}}function _g(e,t){if(Vr)return e==="compositionend"||!Ul&&vf(e,t)?(e=gf(),ri=Ll=Bt=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yf&&t.locale!=="ko"?null:t.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bg[e.type]:t==="textarea"}function wf(e,t,r,n){Jd(n),t=wi(t,"onChange"),0<t.length&&(r=new Dl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vn=null,is=null;function kg(e){Of(e,0)}function qi(e){var t=Kr(e);if(Wd(t))return e}function jg(e,t){if(e==="change")return t}var _f=!1;if(St){var Pa;if(St){var Oa="oninput"in document;if(!Oa){var Ku=document.createElement("div");Ku.setAttribute("oninput","return;"),Oa=typeof Ku.oninput=="function"}Pa=Oa}else Pa=!1;_f=Pa&&(!document.documentMode||9<document.documentMode)}function Gu(){Vn&&(Vn.detachEvent("onpropertychange",bf),is=Vn=null)}function bf(e){if(e.propertyName==="value"&&qi(is)){var t=[];wf(t,is,e,Pl(e)),ef(kg,t)}}function Sg(e,t,r){e==="focusin"?(Gu(),Vn=t,is=r,Vn.attachEvent("onpropertychange",bf)):e==="focusout"&&Gu()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(is)}function Eg(e,t){if(e==="click")return qi(t)}function Cg(e,t){if(e==="input"||e==="change")return qi(t)}function Tg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:Tg;function as(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!io.call(t,s)||!lt(e[s],t[s]))return!1}return!0}function Qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ju(e,t){var r=Qu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qu(r)}}function kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jf(){for(var e=window,t=hi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hi(e.document)}return t}function Ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pg(e){var t=jf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kf(r.ownerDocument.documentElement,r)){if(n!==null&&Ml(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ju(r,i);var a=Ju(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Og=St&&"documentMode"in document&&11>=document.documentMode,qr=null,So=null,qn=null,No=!1;function Xu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;No||qr==null||qr!==hi(n)||(n=qr,"selectionStart"in n&&Ml(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qn&&as(qn,n)||(qn=n,n=wi(So,"onSelect"),0<n.length&&(t=new Dl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qr)))}function Us(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},Ia={},Sf={};St&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Hi(e){if(Ia[e])return Ia[e];if(!Hr[e])return e;var t=Hr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sf)return Ia[e]=t[r];return e}var Nf=Hi("animationend"),Ef=Hi("animationiteration"),Cf=Hi("animationstart"),Tf=Hi("transitionend"),Pf=new Map,Yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){Pf.set(e,t),Cr(t,[e])}for(var $a=0;$a<Yu.length;$a++){var Ra=Yu[$a],Ig=Ra.toLowerCase(),$g=Ra[0].toUpperCase()+Ra.slice(1);nr(Ig,"on"+$g)}nr(Nf,"onAnimationEnd");nr(Ef,"onAnimationIteration");nr(Cf,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(Tf,"onTransitionEnd");ln("onMouseEnter",["mouseout","mouseover"]);ln("onMouseLeave",["mouseout","mouseover"]);ln("onPointerEnter",["pointerout","pointerover"]);ln("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Zu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Im(n,t,void 0,e),e.currentTarget=null}function Of(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Zu(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Zu(s,o,c),i=u}}}if(mi)throw e=_o,mi=!1,_o=null,e}function Y(e,t){var r=t[Oo];r===void 0&&(r=t[Oo]=new Set);var n=e+"__bubble";r.has(n)||(If(t,e,2,!1),r.add(n))}function La(e,t,r){var n=0;t&&(n|=4),If(r,e,n,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function os(e){if(!e[Ms]){e[Ms]=!0,Ud.forEach(function(r){r!=="selectionchange"&&(Rg.has(r)||La(r,!1,e),La(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,La("selectionchange",!1,t))}}function If(e,t,r,n){switch(mf(t)){case 1:var s=Gm;break;case 4:s=Qm;break;default:s=Rl}r=s.bind(null,t,r,e),s=void 0,!wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Da(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=gr(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}ef(function(){var c=i,d=Pl(r),f=[];e:{var h=Pf.get(e);if(h!==void 0){var x=Dl,_=e;switch(e){case"keypress":if(ni(r)===0)break e;case"keydown":case"keyup":x=cg;break;case"focusin":_="focus",x=Ta;break;case"focusout":_="blur",x=Ta;break;case"beforeblur":case"afterblur":x=Ta;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=hg;break;case Nf:case Ef:case Cf:x=tg;break;case Tf:x=mg;break;case"scroll":x=Jm;break;case"wheel":x=yg;break;case"copy":case"cut":case"paste":x=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Wu}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var p=c,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=ts(p,g),w!=null&&y.push(ls(p,w,m)))),v)break;p=p.return}0<y.length&&(h=new x(h,_,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&r!==vo&&(_=r.relatedTarget||r.fromElement)&&(gr(_)||_[Nt]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(_=r.relatedTarget||r.toElement,x=c,_=_?gr(_):null,_!==null&&(v=Tr(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(x=null,_=c),x!==_)){if(y=Fu,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Wu,w="onPointerLeave",g="onPointerEnter",p="pointer"),v=x==null?h:Kr(x),m=_==null?h:Kr(_),h=new y(w,p+"leave",x,r,d),h.target=v,h.relatedTarget=m,w=null,gr(d)===c&&(y=new y(g,p+"enter",_,r,d),y.target=m,y.relatedTarget=v,w=y),v=w,x&&_)t:{for(y=x,g=_,p=0,m=y;m;m=Rr(m))p++;for(m=0,w=g;w;w=Rr(w))m++;for(;0<p-m;)y=Rr(y),p--;for(;0<m-p;)g=Rr(g),m--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Rr(y),g=Rr(g)}y=null}else y=null;x!==null&&ec(f,h,x,y,!1),_!==null&&v!==null&&ec(f,v,_,y,!0)}}e:{if(h=c?Kr(c):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var k=jg;else if(Hu(h))if(_f)k=Cg;else{k=Ng;var S=Sg}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Eg);if(k&&(k=k(e,c))){wf(f,k,r,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ho(h,"number",h.value)}switch(S=c?Kr(c):window,e){case"focusin":(Hu(S)||S.contentEditable==="true")&&(qr=S,So=c,qn=null);break;case"focusout":qn=So=qr=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Xu(f,r,d);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":Xu(f,r,d)}var j;if(Ul)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Vr?vf(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(yf&&r.locale!=="ko"&&(Vr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Vr&&(j=gf()):(Bt=d,Ll="value"in Bt?Bt.value:Bt.textContent,Vr=!0)),S=wi(c,C),0<S.length&&(C=new Bu(C,e,null,r,d),f.push({event:C,listeners:S}),j?C.data=j:(j=xf(r),j!==null&&(C.data=j)))),(j=xg?wg(e,r):_g(e,r))&&(c=wi(c,"onBeforeInput"),0<c.length&&(d=new Bu("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=j))}Of(f,t)})}function ls(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ts(e,r),i!=null&&n.unshift(ls(e,i,s)),i=ts(e,t),i!=null&&n.push(ls(e,i,s))),e=e.return}return n}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ec(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=ts(r,i),u!=null&&a.unshift(ls(r,u,o))):s||(u=ts(r,i),u!=null&&a.push(ls(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Lg=/\r\n?/g,Dg=/\u0000|\uFFFD/g;function tc(e){return(typeof e=="string"?e:""+e).replace(Lg,`
`).replace(Dg,"")}function zs(e,t,r){if(t=tc(t),tc(e)!==t&&r)throw Error(E(425))}function _i(){}var Eo=null,Co=null;function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,Ag=typeof clearTimeout=="function"?clearTimeout:void 0,rc=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof rc<"u"?function(e){return rc.resolve(null).then(e).catch(Mg)}:Po;function Mg(e){setTimeout(function(){throw e})}function Aa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ss(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ss(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),ht="__reactFiber$"+xn,us="__reactProps$"+xn,Nt="__reactContainer$"+xn,Oo="__reactEvents$"+xn,zg="__reactListeners$"+xn,Fg="__reactHandles$"+xn;function gr(e){var t=e[ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nt]||r[ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nc(e);e!==null;){if(r=e[ht])return r;e=nc(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[ht]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Ki(e){return e[us]||null}var Io=[],Gr=-1;function sr(e){return{current:e}}function Z(e){0>Gr||(e.current=Io[Gr],Io[Gr]=null,Gr--)}function J(e,t){Gr++,Io[Gr]=e.current,e.current=t}var tr={},Ne=sr(tr),Ae=sr(!1),br=tr;function un(e,t){var r=e.type.contextTypes;if(!r)return tr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(e){return e=e.childContextTypes,e!=null}function bi(){Z(Ae),Z(Ne)}function sc(e,t,r){if(Ne.current!==tr)throw Error(E(168));J(Ne,t),J(Ae,r)}function $f(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,Sm(e)||"Unknown",s));return ae({},r,n)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,br=Ne.current,J(Ne,e),J(Ae,Ae.current),!0}function ic(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=$f(e,t,br),n.__reactInternalMemoizedMergedChildContext=e,Z(Ae),Z(Ne),J(Ne,e)):Z(Ae),J(Ae,r)}var _t=null,Gi=!1,Ua=!1;function Rf(e){_t===null?_t=[e]:_t.push(e)}function Bg(e){Gi=!0,Rf(e)}function ir(){if(!Ua&&_t!==null){Ua=!0;var e=0,t=V;try{var r=_t;for(V=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_t=null,Gi=!1}catch(s){throw _t!==null&&(_t=_t.slice(e+1)),sf(Ol,ir),s}finally{V=t,Ua=!1}}return null}var Qr=[],Jr=0,ji=null,Si=0,Ke=[],Ge=0,kr=null,bt=1,kt="";function cr(e,t){Qr[Jr++]=Si,Qr[Jr++]=ji,ji=e,Si=t}function Lf(e,t,r){Ke[Ge++]=bt,Ke[Ge++]=kt,Ke[Ge++]=kr,kr=e;var n=bt;e=kt;var s=32-at(n)-1;n&=~(1<<s),r+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,bt=1<<32-at(t)+s|r<<s|n,kt=i+e}else bt=1<<i|r<<s|n,kt=e}function zl(e){e.return!==null&&(cr(e,1),Lf(e,1,0))}function Fl(e){for(;e===ji;)ji=Qr[--Jr],Qr[Jr]=null,Si=Qr[--Jr],Qr[Jr]=null;for(;e===kr;)kr=Ke[--Ge],Ke[Ge]=null,kt=Ke[--Ge],Ke[Ge]=null,bt=Ke[--Ge],Ke[Ge]=null}var We=null,Be=null,te=!1,it=null;function Df(e,t){var r=Qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ac(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Be=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kr!==null?{id:bt,overflow:kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,We=e,Be=null,!0):!1;default:return!1}}function $o(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ro(e){if(te){var t=Be;if(t){var r=t;if(!ac(e,t)){if($o(e))throw Error(E(418));t=Gt(r.nextSibling);var n=We;t&&ac(e,t)?Df(n,r):(e.flags=e.flags&-4097|2,te=!1,We=e)}}else{if($o(e))throw Error(E(418));e.flags=e.flags&-4097|2,te=!1,We=e}}}function oc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Fs(e){if(e!==We)return!1;if(!te)return oc(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!To(e.type,e.memoizedProps)),t&&(t=Be)){if($o(e))throw Af(),Error(E(418));for(;t;)Df(e,t),t=Gt(t.nextSibling)}if(oc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Be=Gt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Be=null}}else Be=We?Gt(e.stateNode.nextSibling):null;return!0}function Af(){for(var e=Be;e;)e=Gt(e.nextSibling)}function cn(){Be=We=null,te=!1}function Bl(e){it===null?it=[e]:it.push(e)}var Wg=Pt.ReactCurrentBatchConfig;function Tn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Bs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lc(e){var t=e._init;return t(e._payload)}function Uf(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Yt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,m,w){return p===null||p.tag!==6?(p=qa(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function u(g,p,m,w){var k=m.type;return k===Wr?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===At&&lc(k)===p.type)?(w=s(p,m.props),w.ref=Tn(g,p,m),w.return=g,w):(w=ci(m.type,m.key,m.props,null,g.mode,w),w.ref=Tn(g,p,m),w.return=g,w)}function c(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Ha(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,k){return p===null||p.tag!==7?(p=wr(m,g.mode,w,k),p.return=g,p):(p=s(p,m),p.return=g,p)}function f(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=qa(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Os:return m=ci(p.type,p.key,p.props,null,g.mode,m),m.ref=Tn(g,null,p),m.return=g,m;case Br:return p=Ha(p,g.mode,m),p.return=g,p;case At:var w=p._init;return f(g,w(p._payload),m)}if(An(p)||jn(p))return p=wr(p,g.mode,m,null),p.return=g,p;Bs(g,p)}return null}function h(g,p,m,w){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:o(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:return m.key===k?u(g,p,m,w):null;case Br:return m.key===k?c(g,p,m,w):null;case At:return k=m._init,h(g,p,k(m._payload),w)}if(An(m)||jn(m))return k!==null?null:d(g,p,m,w,null);Bs(g,m)}return null}function x(g,p,m,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,o(p,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Os:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,k);case Br:return g=g.get(w.key===null?m:w.key)||null,c(p,g,w,k);case At:var S=w._init;return x(g,p,m,S(w._payload),k)}if(An(w)||jn(w))return g=g.get(m)||null,d(p,g,w,k,null);Bs(p,w)}return null}function _(g,p,m,w){for(var k=null,S=null,j=p,C=p=0,L=null;j!==null&&C<m.length;C++){j.index>C?(L=j,j=null):L=j.sibling;var N=h(g,j,m[C],w);if(N===null){j===null&&(j=L);break}e&&j&&N.alternate===null&&t(g,j),p=i(N,p,C),S===null?k=N:S.sibling=N,S=N,j=L}if(C===m.length)return r(g,j),te&&cr(g,C),k;if(j===null){for(;C<m.length;C++)j=f(g,m[C],w),j!==null&&(p=i(j,p,C),S===null?k=j:S.sibling=j,S=j);return te&&cr(g,C),k}for(j=n(g,j);C<m.length;C++)L=x(j,g,C,m[C],w),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?C:L.key),p=i(L,p,C),S===null?k=L:S.sibling=L,S=L);return e&&j.forEach(function(T){return t(g,T)}),te&&cr(g,C),k}function y(g,p,m,w){var k=jn(m);if(typeof k!="function")throw Error(E(150));if(m=k.call(m),m==null)throw Error(E(151));for(var S=k=null,j=p,C=p=0,L=null,N=m.next();j!==null&&!N.done;C++,N=m.next()){j.index>C?(L=j,j=null):L=j.sibling;var T=h(g,j,N.value,w);if(T===null){j===null&&(j=L);break}e&&j&&T.alternate===null&&t(g,j),p=i(T,p,C),S===null?k=T:S.sibling=T,S=T,j=L}if(N.done)return r(g,j),te&&cr(g,C),k;if(j===null){for(;!N.done;C++,N=m.next())N=f(g,N.value,w),N!==null&&(p=i(N,p,C),S===null?k=N:S.sibling=N,S=N);return te&&cr(g,C),k}for(j=n(g,j);!N.done;C++,N=m.next())N=x(j,g,C,N.value,w),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?C:N.key),p=i(N,p,C),S===null?k=N:S.sibling=N,S=N);return e&&j.forEach(function($){return t(g,$)}),te&&cr(g,C),k}function v(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===Wr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:e:{for(var k=m.key,S=p;S!==null;){if(S.key===k){if(k=m.type,k===Wr){if(S.tag===7){r(g,S.sibling),p=s(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===At&&lc(k)===S.type){r(g,S.sibling),p=s(S,m.props),p.ref=Tn(g,S,m),p.return=g,g=p;break e}r(g,S);break}else t(g,S);S=S.sibling}m.type===Wr?(p=wr(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=ci(m.type,m.key,m.props,null,g.mode,w),w.ref=Tn(g,p,m),w.return=g,g=w)}return a(g);case Br:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Ha(m,g.mode,w),p.return=g,g=p}return a(g);case At:return S=m._init,v(g,p,S(m._payload),w)}if(An(m))return _(g,p,m,w);if(jn(m))return y(g,p,m,w);Bs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=qa(m,g.mode,w),p.return=g,g=p),a(g)):r(g,p)}return v}var dn=Uf(!0),Mf=Uf(!1),Ni=sr(null),Ei=null,Xr=null,Wl=null;function Vl(){Wl=Xr=Ei=null}function ql(e){var t=Ni.current;Z(Ni),e._currentValue=t}function Lo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function sn(e,t){Ei=e,Wl=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function Ye(e){var t=e._currentValue;if(Wl!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(Ei===null)throw Error(E(308));Xr=e,Ei.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var yr=null;function Hl(e){yr===null?yr=[e]:yr.push(e)}function zf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Hl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Et(e,n)}function Et(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ut=!1;function Kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ff(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Et(e,r)}return s=n.interleaved,s===null?(t.next=t,Hl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Et(e,r)}function si(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Il(e,r)}}function uc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ci(e,t,r,n){var s=e.updateQueue;Ut=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,d=c=u=null,o=i;do{var h=o.lane,x=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,y=o;switch(h=t,x=r,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(x,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,h=typeof _=="function"?_.call(x,f,h):_,h==null)break e;f=ae({},f,h);break e;case 2:Ut=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else x={eventTime:x,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=x,u=f):d=d.next=x,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sr|=a,e.lanes=a,e.memoizedState=f}}function cc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var js={},mt=sr(js),cs=sr(js),ds=sr(js);function vr(e){if(e===js)throw Error(E(174));return e}function Gl(e,t){switch(J(ds,t),J(cs,e),J(mt,js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mo(t,e)}Z(mt),J(mt,t)}function fn(){Z(mt),Z(cs),Z(ds)}function Bf(e){vr(ds.current);var t=vr(mt.current),r=mo(t,e.type);t!==r&&(J(cs,e),J(mt,r))}function Ql(e){cs.current===e&&(Z(mt),Z(cs))}var ne=sr(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ma=[];function Jl(){for(var e=0;e<Ma.length;e++)Ma[e]._workInProgressVersionPrimary=null;Ma.length=0}var ii=Pt.ReactCurrentDispatcher,za=Pt.ReactCurrentBatchConfig,jr=0,se=null,he=null,ge=null,Pi=!1,Hn=!1,fs=0,Vg=0;function be(){throw Error(E(321))}function Xl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lt(e[r],t[r]))return!1;return!0}function Yl(e,t,r,n,s,i){if(jr=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ii.current=e===null||e.memoizedState===null?Gg:Qg,e=r(n,s),Hn){i=0;do{if(Hn=!1,fs=0,25<=i)throw Error(E(301));i+=1,ge=he=null,t.updateQueue=null,ii.current=Jg,e=r(n,s)}while(Hn)}if(ii.current=Oi,t=he!==null&&he.next!==null,jr=0,ge=he=se=null,Pi=!1,t)throw Error(E(300));return e}function Zl(){var e=fs!==0;return fs=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?se.memoizedState=ge=e:ge=ge.next=e,ge}function Ze(){if(he===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=ge===null?se.memoizedState:ge.next;if(t!==null)ge=t,he=e;else{if(e===null)throw Error(E(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ge===null?se.memoizedState=ge=e:ge=ge.next=e}return ge}function hs(e,t){return typeof t=="function"?t(e):t}function Fa(e){var t=Ze(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=he,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((jr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,a=n):u=u.next=f,se.lanes|=d,Sr|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,lt(n,t.memoizedState)||(De=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,Sr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ba(e){var t=Ze(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);lt(i,t.memoizedState)||(De=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Wf(){}function Vf(e,t){var r=se,n=Ze(),s=t(),i=!lt(n.memoizedState,s);if(i&&(n.memoizedState=s,De=!0),n=n.queue,eu(Kf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,ps(9,Hf.bind(null,r,n,s,t),void 0,null),ye===null)throw Error(E(349));jr&30||qf(r,t,s)}return s}function qf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hf(e,t,r,n){t.value=r,t.getSnapshot=n,Gf(t)&&Qf(e)}function Kf(e,t,r){return r(function(){Gf(t)&&Qf(e)})}function Gf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lt(e,r)}catch{return!0}}function Qf(e){var t=Et(e,1);t!==null&&ot(t,e,1,-1)}function dc(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},t.queue=e,e=e.dispatch=Kg.bind(null,se,e),[t.memoizedState,e]}function ps(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jf(){return Ze().memoizedState}function ai(e,t,r,n){var s=ft();se.flags|=e,s.memoizedState=ps(1|t,r,void 0,n===void 0?null:n)}function Qi(e,t,r,n){var s=Ze();n=n===void 0?null:n;var i=void 0;if(he!==null){var a=he.memoizedState;if(i=a.destroy,n!==null&&Xl(n,a.deps)){s.memoizedState=ps(t,r,i,n);return}}se.flags|=e,s.memoizedState=ps(1|t,r,i,n)}function fc(e,t){return ai(8390656,8,e,t)}function eu(e,t){return Qi(2048,8,e,t)}function Xf(e,t){return Qi(4,2,e,t)}function Yf(e,t){return Qi(4,4,e,t)}function Zf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eh(e,t,r){return r=r!=null?r.concat([e]):null,Qi(4,4,Zf.bind(null,t,e),r)}function tu(){}function th(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rh(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nh(e,t,r){return jr&21?(lt(r,t)||(r=lf(),se.lanes|=r,Sr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=r)}function qg(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var n=za.transition;za.transition={};try{e(!1),t()}finally{V=r,za.transition=n}}function sh(){return Ze().memoizedState}function Hg(e,t,r){var n=Xt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ih(e))ah(t,r);else if(r=zf(e,t,r,n),r!==null){var s=Pe();ot(r,e,n,s),oh(r,t,n)}}function Kg(e,t,r){var n=Xt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ih(e))ah(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,lt(o,a)){var u=t.interleaved;u===null?(s.next=s,Hl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=zf(e,t,s,n),r!==null&&(s=Pe(),ot(r,e,n,s),oh(r,t,n))}}function ih(e){var t=e.alternate;return e===se||t!==null&&t===se}function ah(e,t){Hn=Pi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Il(e,r)}}var Oi={readContext:Ye,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Gg={readContext:Ye,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:fc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ai(4194308,4,Zf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return ai(4,2,e,t)},useMemo:function(e,t){var r=ft();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ft();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Hg.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:dc,useDebugValue:tu,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=dc(!1),t=e[0];return e=qg.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=se,s=ft();if(te){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),ye===null)throw Error(E(349));jr&30||qf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,fc(Kf.bind(null,n,i,e),[e]),n.flags|=2048,ps(9,Hf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ft(),t=ye.identifierPrefix;if(te){var r=kt,n=bt;r=(n&~(1<<32-at(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qg={readContext:Ye,useCallback:th,useContext:Ye,useEffect:eu,useImperativeHandle:eh,useInsertionEffect:Xf,useLayoutEffect:Yf,useMemo:rh,useReducer:Fa,useRef:Jf,useState:function(){return Fa(hs)},useDebugValue:tu,useDeferredValue:function(e){var t=Ze();return nh(t,he.memoizedState,e)},useTransition:function(){var e=Fa(hs)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Wf,useSyncExternalStore:Vf,useId:sh,unstable_isNewReconciler:!1},Jg={readContext:Ye,useCallback:th,useContext:Ye,useEffect:eu,useImperativeHandle:eh,useInsertionEffect:Xf,useLayoutEffect:Yf,useMemo:rh,useReducer:Ba,useRef:Jf,useState:function(){return Ba(hs)},useDebugValue:tu,useDeferredValue:function(e){var t=Ze();return he===null?t.memoizedState=e:nh(t,he.memoizedState,e)},useTransition:function(){var e=Ba(hs)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Wf,useSyncExternalStore:Vf,useId:sh,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Do(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ji={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Xt(e),i=jt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Qt(e,i,s),t!==null&&(ot(t,e,s,n),si(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Xt(e),i=jt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Qt(e,i,s),t!==null&&(ot(t,e,s,n),si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),n=Xt(e),s=jt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Qt(e,s,n),t!==null&&(ot(t,e,n,r),si(t,e,n))}};function hc(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!as(r,n)||!as(s,i):!0}function lh(e,t,r){var n=!1,s=tr,i=t.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Ue(t)?br:Ne.current,n=t.contextTypes,i=(n=n!=null)?un(e,s):tr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ji,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function pc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ji.enqueueReplaceState(t,t.state,null)}function Ao(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Kl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Ue(t)?br:Ne.current,s.context=un(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Do(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ji.enqueueReplaceState(s,s.state,null),Ci(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var r="",n=t;do r+=jm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Wa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function uh(e,t,r){r=jt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$i||($i=!0,Go=n),Uo(e,t)},r}function ch(e,t,r){r=jt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Uo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Uo(e,t),typeof n!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function mc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Xg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=d0.bind(null,e,t,r),t.then(e,e))}function gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jt(-1,1),t.tag=2,Qt(r,t,1))),r.lanes|=1),e)}var Yg=Pt.ReactCurrentOwner,De=!1;function Ce(e,t,r,n){t.child=e===null?Mf(t,null,r,n):dn(t,e.child,r,n)}function vc(e,t,r,n,s){r=r.render;var i=t.ref;return sn(t,s),n=Yl(e,t,r,n,i,s),r=Zl(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(te&&r&&zl(t),t.flags|=1,Ce(e,t,n,s),t.child)}function xc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!uu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,dh(e,t,i,n,s)):(e=ci(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:as,r(a,n)&&e.ref===t.ref)return Ct(e,t,s)}return t.flags|=1,e=Yt(i,n),e.ref=t.ref,e.return=t,t.child=e}function dh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(as(i,n)&&e.ref===t.ref)if(De=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Ct(e,t,s)}return Mo(e,t,r,n,s)}function fh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Zr,Fe),Fe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Zr,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(Zr,Fe),Fe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,J(Zr,Fe),Fe|=n;return Ce(e,t,s,r),t.child}function hh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mo(e,t,r,n,s){var i=Ue(r)?br:Ne.current;return i=un(t,i),sn(t,s),r=Yl(e,t,r,n,i,s),n=Zl(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(te&&n&&zl(t),t.flags|=1,Ce(e,t,r,s),t.child)}function wc(e,t,r,n,s){if(Ue(r)){var i=!0;ki(t)}else i=!1;if(sn(t,s),t.stateNode===null)oi(e,t),lh(t,r,n),Ao(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Ue(r)?br:Ne.current,c=un(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&pc(t,a,n,c),Ut=!1;var h=t.memoizedState;a.state=h,Ci(t,n,a,s),u=t.memoizedState,o!==n||h!==u||Ae.current||Ut?(typeof d=="function"&&(Do(t,r,d,n),u=t.memoizedState),(o=Ut||hc(t,r,o,n,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Ff(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:rt(t.type,o),a.props=c,f=t.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ye(u):(u=Ue(r)?br:Ne.current,u=un(t,u));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==u)&&pc(t,a,n,u),Ut=!1,h=t.memoizedState,a.state=h,Ci(t,n,a,s);var _=t.memoizedState;o!==f||h!==_||Ae.current||Ut?(typeof x=="function"&&(Do(t,r,x,n),_=t.memoizedState),(c=Ut||hc(t,r,c,n,h,_,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),a.props=n,a.state=_,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return zo(e,t,r,n,i,s)}function zo(e,t,r,n,s,i){hh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&ic(t,r,!1),Ct(e,t,i);n=t.stateNode,Yg.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=dn(t,e.child,null,i),t.child=dn(t,null,o,i)):Ce(e,t,o,i),t.memoizedState=n.state,s&&ic(t,r,!0),t.child}function ph(e){var t=e.stateNode;t.pendingContext?sc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sc(e,t.context,!1),Gl(e,t.containerInfo)}function _c(e,t,r,n,s){return cn(),Bl(s),t.flags|=256,Ce(e,t,r,n),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function mh(e,t,r){var n=t.pendingProps,s=ne.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),J(ne,s&1),e===null)return Ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Zi(a,n,0,null),e=wr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bo(r),t.memoizedState=Fo,e):ru(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Zg(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Yt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Yt(o,i):(i=wr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Bo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Fo,n}return i=e.child,e=i.sibling,n=Yt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ru(e,t){return t=Zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,r,n){return n!==null&&Bl(n),dn(t,e.child,null,r),e=ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Wa(Error(E(422))),Ws(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Zi({mode:"visible",children:n.children},s,0,null),i=wr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&dn(t,e.child,null,a),t.child.memoizedState=Bo(a),t.memoizedState=Fo,i);if(!(t.mode&1))return Ws(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(E(419)),n=Wa(i,n,void 0),Ws(e,t,a,n)}if(o=(a&e.childLanes)!==0,De||o){if(n=ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Et(e,s),ot(n,e,s,-1))}return lu(),n=Wa(Error(E(421))),Ws(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=f0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Be=Gt(s.nextSibling),We=t,te=!0,it=null,e!==null&&(Ke[Ge++]=bt,Ke[Ge++]=kt,Ke[Ge++]=kr,bt=e.id,kt=e.overflow,kr=t),t=ru(t,n.children),t.flags|=4096,t)}function bc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lo(e.return,t,r)}function Va(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function gh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bc(e,r,t);else if(e.tag===19)bc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(J(ne,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ti(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Va(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Va(t,!0,r,null,i);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Yt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function e0(e,t,r){switch(t.tag){case 3:ph(t),cn();break;case 5:Bf(t);break;case 1:Ue(t.type)&&ki(t);break;case 4:Gl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;J(Ni,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(J(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?mh(e,t,r):(J(ne,ne.current&1),e=Ct(e,t,r),e!==null?e.sibling:null);J(ne,ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(ne,ne.current),n)break;return null;case 22:case 23:return t.lanes=0,fh(e,t,r)}return Ct(e,t,r)}var yh,Wo,vh,xh;yh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wo=function(){};vh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vr(mt.current);var i=null;switch(r){case"input":s=co(e,s),n=co(e,n),i=[];break;case"select":s=ae({},s,{value:void 0}),n=ae({},n,{value:void 0}),i=[];break;case"textarea":s=po(e,s),n=po(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_i)}go(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Y("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};xh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pn(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function t0(e,t,r){var n=t.pendingProps;switch(Fl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Ue(t.type)&&bi(),ke(t),null;case 3:return n=t.stateNode,fn(),Z(Ae),Z(Ne),Jl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(Xo(it),it=null))),Wo(e,t),ke(t),null;case 5:Ql(t);var s=vr(ds.current);if(r=t.type,e!==null&&t.stateNode!=null)vh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ke(t),null}if(e=vr(mt.current),Fs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ht]=t,n[us]=i,e=(t.mode&1)!==0,r){case"dialog":Y("cancel",n),Y("close",n);break;case"iframe":case"object":case"embed":Y("load",n);break;case"video":case"audio":for(s=0;s<Mn.length;s++)Y(Mn[s],n);break;case"source":Y("error",n);break;case"img":case"image":case"link":Y("error",n),Y("load",n);break;case"details":Y("toggle",n);break;case"input":Ou(n,i),Y("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Y("invalid",n);break;case"textarea":$u(n,i),Y("invalid",n)}go(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&zs(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&zs(n.textContent,o,e),s=["children",""+o]):Zn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Y("scroll",n)}switch(r){case"input":Is(n),Iu(n,i,!0);break;case"textarea":Is(n),Ru(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_i)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ht]=t,e[us]=n,yh(e,t,!1,!1),t.stateNode=e;e:{switch(a=yo(r,n),r){case"dialog":Y("cancel",e),Y("close",e),s=n;break;case"iframe":case"object":case"embed":Y("load",e),s=n;break;case"video":case"audio":for(s=0;s<Mn.length;s++)Y(Mn[s],e);s=n;break;case"source":Y("error",e),s=n;break;case"img":case"image":case"link":Y("error",e),Y("load",e),s=n;break;case"details":Y("toggle",e),s=n;break;case"input":Ou(e,n),s=co(e,n),Y("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ae({},n,{value:void 0}),Y("invalid",e);break;case"textarea":$u(e,n),s=po(e,n),Y("invalid",e);break;default:s=n}go(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Qd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Kd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&es(e,u):typeof u=="number"&&es(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Y("scroll",e):u!=null&&Nl(e,i,u,a))}switch(r){case"input":Is(e),Iu(e,n,!1);break;case"textarea":Is(e),Ru(e);break;case"option":n.value!=null&&e.setAttribute("value",""+er(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?en(e,!!n.multiple,i,!1):n.defaultValue!=null&&en(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_i)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)xh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=vr(ds.current),vr(mt.current),Fs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ht]=t,(i=n.nodeValue!==r)&&(e=We,e!==null))switch(e.tag){case 3:zs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ht]=t,t.stateNode=n}return ke(t),null;case 13:if(Z(ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Be!==null&&t.mode&1&&!(t.flags&128))Af(),cn(),t.flags|=98560,i=!1;else if(i=Fs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ht]=t}else cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else it!==null&&(Xo(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?pe===0&&(pe=3):lu())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return fn(),Wo(e,t),e===null&&os(t.stateNode.containerInfo),ke(t),null;case 10:return ql(t.type._context),ke(t),null;case 17:return Ue(t.type)&&bi(),ke(t),null;case 19:if(Z(ne),i=t.memoizedState,i===null)return ke(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Pn(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ti(e),a!==null){for(t.flags|=128,Pn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return J(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>pn&&(t.flags|=128,n=!0,Pn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ti(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!te)return ke(t),null}else 2*le()-i.renderingStartTime>pn&&r!==1073741824&&(t.flags|=128,n=!0,Pn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,r=ne.current,J(ne,n?r&1|2:r&1),t):(ke(t),null);case 22:case 23:return ou(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fe&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function r0(e,t){switch(Fl(t),t.tag){case 1:return Ue(t.type)&&bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),Z(Ae),Z(Ne),Jl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ql(t),null;case 13:if(Z(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(ne),null;case 4:return fn(),null;case 10:return ql(t.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var Vs=!1,Se=!1,n0=typeof WeakSet=="function"?WeakSet:Set,O=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function Vo(e,t,r){try{r()}catch(n){oe(e,t,n)}}var kc=!1;function s0(e,t){if(Eo=vi,e=jf(),Ml(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var x;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===e)break t;if(h===r&&++c===s&&(o=a),h===i&&++d===n&&(u=a),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Co={focusedElem:e,selectionRange:r},vi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,v=_.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:rt(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){oe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return _=kc,kc=!1,_}function Kn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vo(t,r,i)}s=s.next}while(s!==n)}}function Xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[us],delete t[Oo],delete t[zg],delete t[Fg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _h(e){return e.tag===5||e.tag===3||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ho(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_i));else if(n!==4&&(e=e.child,e!==null))for(Ho(e,t,r),e=e.sibling;e!==null;)Ho(e,t,r),e=e.sibling}function Ko(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ko(e,t,r),e=e.sibling;e!==null;)Ko(e,t,r),e=e.sibling}var xe=null,nt=!1;function Rt(e,t,r){for(r=r.child;r!==null;)bh(e,t,r),r=r.sibling}function bh(e,t,r){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Wi,r)}catch{}switch(r.tag){case 5:Se||Yr(r,t);case 6:var n=xe,s=nt;xe=null,Rt(e,t,r),xe=n,nt=s,xe!==null&&(nt?(e=xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xe.removeChild(r.stateNode));break;case 18:xe!==null&&(nt?(e=xe,r=r.stateNode,e.nodeType===8?Aa(e.parentNode,r):e.nodeType===1&&Aa(e,r),ss(e)):Aa(xe,r.stateNode));break;case 4:n=xe,s=nt,xe=r.stateNode.containerInfo,nt=!0,Rt(e,t,r),xe=n,nt=s;break;case 0:case 11:case 14:case 15:if(!Se&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Vo(r,t,a),s=s.next}while(s!==n)}Rt(e,t,r);break;case 1:if(!Se&&(Yr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){oe(r,t,o)}Rt(e,t,r);break;case 21:Rt(e,t,r);break;case 22:r.mode&1?(Se=(n=Se)||r.memoizedState!==null,Rt(e,t,r),Se=n):Rt(e,t,r);break;default:Rt(e,t,r)}}function Sc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new n0),t.forEach(function(n){var s=h0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function et(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:xe=o.stateNode,nt=!1;break e;case 3:xe=o.stateNode.containerInfo,nt=!0;break e;case 4:xe=o.stateNode.containerInfo,nt=!0;break e}o=o.return}if(xe===null)throw Error(E(160));bh(i,a,s),xe=null,nt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){oe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kh(t,e),t=t.sibling}function kh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(et(t,e),dt(e),n&4){try{Kn(3,e,e.return),Xi(3,e)}catch(y){oe(e,e.return,y)}try{Kn(5,e,e.return)}catch(y){oe(e,e.return,y)}}break;case 1:et(t,e),dt(e),n&512&&r!==null&&Yr(r,r.return);break;case 5:if(et(t,e),dt(e),n&512&&r!==null&&Yr(r,r.return),e.flags&32){var s=e.stateNode;try{es(s,"")}catch(y){oe(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Vd(s,i),yo(o,a);var c=yo(o,i);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?Qd(s,f):d==="dangerouslySetInnerHTML"?Kd(s,f):d==="children"?es(s,f):Nl(s,d,f,c)}switch(o){case"input":fo(s,i);break;case"textarea":qd(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?en(s,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?en(s,!!i.multiple,i.defaultValue,!0):en(s,!!i.multiple,i.multiple?[]:"",!1))}s[us]=i}catch(y){oe(e,e.return,y)}}break;case 6:if(et(t,e),dt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){oe(e,e.return,y)}}break;case 3:if(et(t,e),dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ss(t.containerInfo)}catch(y){oe(e,e.return,y)}break;case 4:et(t,e),dt(e);break;case 13:et(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(iu=le())),n&4&&Sc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Se=(c=Se)||d,et(t,e),Se=c):et(t,e),dt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(f=O=d;O!==null;){switch(h=O,x=h.child,h.tag){case 0:case 11:case 14:case 15:Kn(4,h,h.return);break;case 1:Yr(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(y){oe(n,r,y)}}break;case 5:Yr(h,h.return);break;case 22:if(h.memoizedState!==null){Ec(f);continue}}x!==null?(x.return=h,O=x):Ec(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Gd("display",a))}catch(y){oe(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){oe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:et(t,e),dt(e),n&4&&Sc(e);break;case 21:break;default:et(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_h(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(es(s,""),n.flags&=-33);var i=jc(e);Ko(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=jc(e);Ho(e,o,a);break;default:throw Error(E(161))}}catch(u){oe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i0(e,t,r){O=e,jh(e)}function jh(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Vs;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Se;o=Vs;var c=Se;if(Vs=a,(Se=u)&&!c)for(O=s;O!==null;)a=O,u=a.child,a.tag===22&&a.memoizedState!==null?Cc(s):u!==null?(u.return=a,O=u):Cc(s);for(;i!==null;)O=i,jh(i),i=i.sibling;O=s,Vs=o,Se=c}Nc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Nc(e)}}function Nc(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Se||Xi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Se)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:rt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cc(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cc(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ss(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Se||t.flags&512&&qo(t)}catch(h){oe(t,t.return,h)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function Ec(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function Cc(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xi(4,t)}catch(u){oe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){oe(t,s,u)}}var i=t.return;try{qo(t)}catch(u){oe(t,i,u)}break;case 5:var a=t.return;try{qo(t)}catch(u){oe(t,a,u)}}}catch(u){oe(t,t.return,u)}if(t===e){O=null;break}var o=t.sibling;if(o!==null){o.return=t.return,O=o;break}O=t.return}}var a0=Math.ceil,Ii=Pt.ReactCurrentDispatcher,nu=Pt.ReactCurrentOwner,Je=Pt.ReactCurrentBatchConfig,F=0,ye=null,ce=null,we=0,Fe=0,Zr=sr(0),pe=0,ms=null,Sr=0,Yi=0,su=0,Gn=null,Re=null,iu=0,pn=1/0,vt=null,$i=!1,Go=null,Jt=null,qs=!1,Wt=null,Ri=0,Qn=0,Qo=null,li=-1,ui=0;function Pe(){return F&6?le():li!==-1?li:li=le()}function Xt(e){return e.mode&1?F&2&&we!==0?we&-we:Wg.transition!==null?(ui===0&&(ui=lf()),ui):(e=V,e!==0||(e=window.event,e=e===void 0?16:mf(e.type)),e):1}function ot(e,t,r,n){if(50<Qn)throw Qn=0,Qo=null,Error(E(185));_s(e,r,n),(!(F&2)||e!==ye)&&(e===ye&&(!(F&2)&&(Yi|=r),pe===4&&zt(e,we)),Me(e,n),r===1&&F===0&&!(t.mode&1)&&(pn=le()+500,Gi&&ir()))}function Me(e,t){var r=e.callbackNode;Wm(e,t);var n=yi(e,e===ye?we:0);if(n===0)r!==null&&Au(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Au(r),t===1)e.tag===0?Bg(Tc.bind(null,e)):Rf(Tc.bind(null,e)),Ug(function(){!(F&6)&&ir()}),r=null;else{switch(uf(n)){case 1:r=Ol;break;case 4:r=af;break;case 16:r=gi;break;case 536870912:r=of;break;default:r=gi}r=Ih(r,Sh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Sh(e,t){if(li=-1,ui=0,F&6)throw Error(E(327));var r=e.callbackNode;if(an()&&e.callbackNode!==r)return null;var n=yi(e,e===ye?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Li(e,n);else{t=n;var s=F;F|=2;var i=Eh();(ye!==e||we!==t)&&(vt=null,pn=le()+500,xr(e,t));do try{u0();break}catch(o){Nh(e,o)}while(!0);Vl(),Ii.current=i,F=s,ce!==null?t=0:(ye=null,we=0,t=pe)}if(t!==0){if(t===2&&(s=bo(e),s!==0&&(n=s,t=Jo(e,s))),t===1)throw r=ms,xr(e,0),zt(e,n),Me(e,le()),r;if(t===6)zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!o0(s)&&(t=Li(e,n),t===2&&(i=bo(e),i!==0&&(n=i,t=Jo(e,i))),t===1))throw r=ms,xr(e,0),zt(e,n),Me(e,le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:dr(e,Re,vt);break;case 3:if(zt(e,n),(n&130023424)===n&&(t=iu+500-le(),10<t)){if(yi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Po(dr.bind(null,e,Re,vt),t);break}dr(e,Re,vt);break;case 4:if(zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-at(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*a0(n/1960))-n,10<n){e.timeoutHandle=Po(dr.bind(null,e,Re,vt),n);break}dr(e,Re,vt);break;case 5:dr(e,Re,vt);break;default:throw Error(E(329))}}}return Me(e,le()),e.callbackNode===r?Sh.bind(null,e):null}function Jo(e,t){var r=Gn;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=Li(e,t),e!==2&&(t=Re,Re=r,t!==null&&Xo(t)),e}function Xo(e){Re===null?Re=e:Re.push.apply(Re,e)}function o0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!lt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~su,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function Tc(e){if(F&6)throw Error(E(327));an();var t=yi(e,0);if(!(t&1))return Me(e,le()),null;var r=Li(e,t);if(e.tag!==0&&r===2){var n=bo(e);n!==0&&(t=n,r=Jo(e,n))}if(r===1)throw r=ms,xr(e,0),zt(e,t),Me(e,le()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,Re,vt),Me(e,le()),null}function au(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(pn=le()+500,Gi&&ir())}}function Nr(e){Wt!==null&&Wt.tag===0&&!(F&6)&&an();var t=F;F|=1;var r=Je.transition,n=V;try{if(Je.transition=null,V=1,e)return e()}finally{V=n,Je.transition=r,F=t,!(F&6)&&ir()}}function ou(){Fe=Zr.current,Z(Zr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ag(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(Fl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bi();break;case 3:fn(),Z(Ae),Z(Ne),Jl();break;case 5:Ql(n);break;case 4:fn();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:ql(n.type._context);break;case 22:case 23:ou()}r=r.return}if(ye=e,ce=e=Yt(e.current,null),we=Fe=t,pe=0,ms=null,su=Yi=Sr=0,Re=Gn=null,yr!==null){for(t=0;t<yr.length;t++)if(r=yr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}yr=null}return e}function Nh(e,t){do{var r=ce;try{if(Vl(),ii.current=Oi,Pi){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pi=!1}if(jr=0,ge=he=se=null,Hn=!1,fs=0,nu.current=null,r===null||r.return===null){pe=1,ms=t,ce=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=we,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=gc(a);if(x!==null){x.flags&=-257,yc(x,a,o,i,t),x.mode&1&&mc(i,c,t),t=x,u=c;var _=t.updateQueue;if(_===null){var y=new Set;y.add(u),t.updateQueue=y}else _.add(u);break e}else{if(!(t&1)){mc(i,c,t),lu();break e}u=Error(E(426))}}else if(te&&o.mode&1){var v=gc(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),yc(v,a,o,i,t),Bl(hn(u,o));break e}}i=u=hn(u,o),pe!==4&&(pe=2),Gn===null?Gn=[i]:Gn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=uh(i,u,t);uc(i,g);break e;case 1:o=u;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Jt===null||!Jt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=ch(i,o,t);uc(i,w);break e}}i=i.return}while(i!==null)}Th(r)}catch(k){t=k,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function Eh(){var e=Ii.current;return Ii.current=Oi,e===null?Oi:e}function lu(){(pe===0||pe===3||pe===2)&&(pe=4),ye===null||!(Sr&268435455)&&!(Yi&268435455)||zt(ye,we)}function Li(e,t){var r=F;F|=2;var n=Eh();(ye!==e||we!==t)&&(vt=null,xr(e,t));do try{l0();break}catch(s){Nh(e,s)}while(!0);if(Vl(),F=r,Ii.current=n,ce!==null)throw Error(E(261));return ye=null,we=0,pe}function l0(){for(;ce!==null;)Ch(ce)}function u0(){for(;ce!==null&&!Rm();)Ch(ce)}function Ch(e){var t=Oh(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?Th(e):ce=t,nu.current=null}function Th(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=r0(r,t),r!==null){r.flags&=32767,ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,ce=null;return}}else if(r=t0(r,t,Fe),r!==null){ce=r;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);pe===0&&(pe=5)}function dr(e,t,r){var n=V,s=Je.transition;try{Je.transition=null,V=1,c0(e,t,r,n)}finally{Je.transition=s,V=n}return null}function c0(e,t,r,n){do an();while(Wt!==null);if(F&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Vm(e,i),e===ye&&(ce=ye=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qs||(qs=!0,Ih(gi,function(){return an(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var a=V;V=1;var o=F;F|=4,nu.current=null,s0(e,r),kh(r,e),Pg(Co),vi=!!Eo,Co=Eo=null,e.current=r,i0(r),Lm(),F=o,V=a,Je.transition=i}else e.current=r;if(qs&&(qs=!1,Wt=e,Ri=s),i=e.pendingLanes,i===0&&(Jt=null),Um(r.stateNode),Me(e,le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if($i)throw $i=!1,e=Go,Go=null,e;return Ri&1&&e.tag!==0&&an(),i=e.pendingLanes,i&1?e===Qo?Qn++:(Qn=0,Qo=e):Qn=0,ir(),null}function an(){if(Wt!==null){var e=uf(Ri),t=Je.transition,r=V;try{if(Je.transition=null,V=16>e?16:e,Wt===null)var n=!1;else{if(e=Wt,Wt=null,Ri=0,F&6)throw Error(E(331));var s=F;for(F|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Kn(8,d,i)}var f=d.child;if(f!==null)f.return=d,O=f;else for(;O!==null;){d=O;var h=d.sibling,x=d.return;if(wh(d),d===c){O=null;break}if(h!==null){h.return=x,O=h;break}O=x}}}var _=i.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){a=O;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,O=m;else e:for(a=p;O!==null;){if(o=O,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xi(9,o)}}catch(k){oe(o,o.return,k)}if(o===a){O=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,O=w;break e}O=o.return}}if(F=s,ir(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Wi,e)}catch{}n=!0}return n}finally{V=r,Je.transition=t}}return!1}function Pc(e,t,r){t=hn(r,t),t=uh(e,t,1),e=Qt(e,t,1),t=Pe(),e!==null&&(_s(e,1,t),Me(e,t))}function oe(e,t,r){if(e.tag===3)Pc(e,e,r);else for(;t!==null;){if(t.tag===3){Pc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jt===null||!Jt.has(n))){e=hn(r,e),e=ch(t,e,1),t=Qt(t,e,1),e=Pe(),t!==null&&(_s(t,1,e),Me(t,e));break}}t=t.return}}function d0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(we&r)===r&&(pe===4||pe===3&&(we&130023424)===we&&500>le()-iu?xr(e,0):su|=r),Me(e,t)}function Ph(e,t){t===0&&(e.mode&1?(t=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):t=1);var r=Pe();e=Et(e,t),e!==null&&(_s(e,t,r),Me(e,r))}function f0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ph(e,r)}function h0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Ph(e,r)}var Oh;Oh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)De=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return De=!1,e0(e,t,r);De=!!(e.flags&131072)}else De=!1,te&&t.flags&1048576&&Lf(t,Si,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;oi(e,t),e=t.pendingProps;var s=un(t,Ne.current);sn(t,r),s=Yl(null,t,n,e,s,r);var i=Zl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(n)?(i=!0,ki(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kl(t),s.updater=Ji,t.stateNode=s,s._reactInternals=t,Ao(t,n,e,r),t=zo(null,t,n,!0,i,r)):(t.tag=0,te&&i&&zl(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(oi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=m0(n),e=rt(n,e),s){case 0:t=Mo(null,t,n,e,r);break e;case 1:t=wc(null,t,n,e,r);break e;case 11:t=vc(null,t,n,e,r);break e;case 14:t=xc(null,t,n,rt(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),Mo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),wc(e,t,n,s,r);case 3:e:{if(ph(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Ff(e,t),Ci(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hn(Error(E(423)),t),t=_c(e,t,n,r,s);break e}else if(n!==s){s=hn(Error(E(424)),t),t=_c(e,t,n,r,s);break e}else for(Be=Gt(t.stateNode.containerInfo.firstChild),We=t,te=!0,it=null,r=Mf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cn(),n===s){t=Ct(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return Bf(t),e===null&&Ro(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,To(n,s)?a=null:i!==null&&To(n,i)&&(t.flags|=32),hh(e,t),Ce(e,t,a,r),t.child;case 6:return e===null&&Ro(t),null;case 13:return mh(e,t,r);case 4:return Gl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=dn(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),vc(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,J(Ni,n._currentValue),n._currentValue=a,i!==null)if(lt(i.value,a)){if(i.children===s.children&&!Ae.current){t=Ct(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=jt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Lo(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Lo(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,sn(t,r),s=Ye(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=rt(n,t.pendingProps),s=rt(n.type,s),xc(e,t,n,s,r);case 15:return dh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),oi(e,t),t.tag=1,Ue(n)?(e=!0,ki(t)):e=!1,sn(t,r),lh(t,n,s),Ao(t,n,s,r),zo(null,t,n,!0,e,r);case 19:return gh(e,t,r);case 22:return fh(e,t,r)}throw Error(E(156,t.tag))};function Ih(e,t){return sf(e,t)}function p0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,r,n){return new p0(e,t,r,n)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m0(e){if(typeof e=="function")return uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cl)return 11;if(e===Tl)return 14}return 2}function Yt(e,t){var r=e.alternate;return r===null?(r=Qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ci(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")uu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wr:return wr(r.children,s,i,t);case El:a=8,s|=8;break;case ao:return e=Qe(12,r,t,s|2),e.elementType=ao,e.lanes=i,e;case oo:return e=Qe(13,r,t,s),e.elementType=oo,e.lanes=i,e;case lo:return e=Qe(19,r,t,s),e.elementType=lo,e.lanes=i,e;case Fd:return Zi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Md:a=10;break e;case zd:a=9;break e;case Cl:a=11;break e;case Tl:a=14;break e;case At:a=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Qe(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function wr(e,t,r,n){return e=Qe(7,e,n,t),e.lanes=r,e}function Zi(e,t,r,n){return e=Qe(22,e,n,t),e.elementType=Fd,e.lanes=r,e.stateNode={isHidden:!1},e}function qa(e,t,r){return e=Qe(6,e,null,t),e.lanes=r,e}function Ha(e,t,r){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cu(e,t,r,n,s,i,a,o,u){return e=new g0(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(i),e}function y0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $h(e){if(!e)return tr;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ue(r))return $f(e,r,t)}return t}function Rh(e,t,r,n,s,i,a,o,u){return e=cu(r,n,!0,e,s,i,a,o,u),e.context=$h(null),r=e.current,n=Pe(),s=Xt(r),i=jt(n,s),i.callback=t??null,Qt(r,i,s),e.current.lanes=s,_s(e,s,n),Me(e,n),e}function ea(e,t,r,n){var s=t.current,i=Pe(),a=Xt(s);return r=$h(r),t.context===null?t.context=r:t.pendingContext=r,t=jt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qt(s,t,a),e!==null&&(ot(e,s,a,i),si(e,s,a)),a}function Di(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Oc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function du(e,t){Oc(e,t),(e=e.alternate)&&Oc(e,t)}function v0(){return null}var Lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function fu(e){this._internalRoot=e}ta.prototype.render=fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));ea(e,t,null,null)};ta.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){ea(null,e,null,null)}),t[Nt]=null}};function ta(e){this._internalRoot=e}ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=ff();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&t!==0&&t<Mt[r].priority;r++);Mt.splice(r,0,e),r===0&&pf(e)}};function hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ic(){}function x0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Di(a);i.call(c)}}var a=Rh(t,n,e,0,null,!1,!1,"",Ic);return e._reactRootContainer=a,e[Nt]=a.current,os(e.nodeType===8?e.parentNode:e),Nr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Di(u);o.call(c)}}var u=cu(e,0,!1,null,null,!1,!1,"",Ic);return e._reactRootContainer=u,e[Nt]=u.current,os(e.nodeType===8?e.parentNode:e),Nr(function(){ea(t,u,r,n)}),u}function na(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=Di(a);o.call(u)}}ea(t,a,e,s)}else a=x0(r,t,e,s,n);return Di(a)}cf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Un(t.pendingLanes);r!==0&&(Il(t,r|1),Me(t,le()),!(F&6)&&(pn=le()+500,ir()))}break;case 13:Nr(function(){var n=Et(e,1);if(n!==null){var s=Pe();ot(n,e,1,s)}}),du(e,1)}};$l=function(e){if(e.tag===13){var t=Et(e,134217728);if(t!==null){var r=Pe();ot(t,e,134217728,r)}du(e,134217728)}};df=function(e){if(e.tag===13){var t=Xt(e),r=Et(e,t);if(r!==null){var n=Pe();ot(r,e,t,n)}du(e,t)}};ff=function(){return V};hf=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};xo=function(e,t,r){switch(t){case"input":if(fo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ki(n);if(!s)throw Error(E(90));Wd(n),fo(n,s)}}}break;case"textarea":qd(e,r);break;case"select":t=r.value,t!=null&&en(e,!!r.multiple,t,!1)}};Yd=au;Zd=Nr;var w0={usingClientEntryPoint:!1,Events:[ks,Kr,Ki,Jd,Xd,au]},On={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_0={bundleType:On.bundleType,version:On.version,rendererPackageName:On.rendererPackageName,rendererConfig:On.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rf(e),e===null?null:e.stateNode},findFiberByHostInstance:On.findFiberByHostInstance||v0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Wi=Hs.inject(_0),pt=Hs}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w0;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(t))throw Error(E(200));return y0(e,t,null,r)};qe.createRoot=function(e,t){if(!hu(e))throw Error(E(299));var r=!1,n="",s=Lh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=cu(e,1,!1,null,null,r,!1,n,s),e[Nt]=t.current,os(e.nodeType===8?e.parentNode:e),new fu(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=rf(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Nr(e)};qe.hydrate=function(e,t,r){if(!ra(t))throw Error(E(200));return na(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!hu(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Lh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Rh(t,null,e,1,r??null,s,!1,i,a),e[Nt]=t.current,os(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ta(t)};qe.render=function(e,t,r){if(!ra(t))throw Error(E(200));return na(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!ra(e))throw Error(E(40));return e._reactRootContainer?(Nr(function(){na(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};qe.unstable_batchedUpdates=au;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ra(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return na(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function Dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dh)}catch(e){console.error(e)}}Dh(),Ld.exports=qe;var b0=Ld.exports,Ah,$c=b0;Ah=$c.createRoot,$c.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}var Vt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vt||(Vt={}));const Rc="popstate";function k0(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Yo("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ai(s)}return S0(t,r,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j0(){return Math.random().toString(36).substr(2,8)}function Lc(e,t){return{usr:e.state,key:e.key,idx:t}}function Yo(e,t,r,n){return r===void 0&&(r=null),gs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wn(t):t,{state:r,key:t&&t.key||n||j0()})}function Ai(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function S0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Vt.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(gs({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Vt.Pop;let v=d(),g=v==null?null:v-c;c=v,u&&u({action:o,location:y.location,delta:g})}function h(v,g){o=Vt.Push;let p=Yo(y.location,v,g);c=d()+1;let m=Lc(p,c),w=y.createHref(p);try{a.pushState(m,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}i&&u&&u({action:o,location:y.location,delta:1})}function x(v,g){o=Vt.Replace;let p=Yo(y.location,v,g);c=d();let m=Lc(p,c),w=y.createHref(p);a.replaceState(m,"",w),i&&u&&u({action:o,location:y.location,delta:0})}function _(v){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof v=="string"?v:Ai(v);return p=p.replace(/ $/,"%20"),ie(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return o},get location(){return e(s,a)},listen(v){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Rc,f),u=v,()=>{s.removeEventListener(Rc,f),u=null}},createHref(v){return t(s,v)},createURL:_,encodeLocation(v){let g=_(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:x,go(v){return a.go(v)}};return y}var Dc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Dc||(Dc={}));function N0(e,t,r){return r===void 0&&(r="/"),E0(e,t,r)}function E0(e,t,r,n){let s=typeof t=="string"?wn(t):t,i=mn(s.pathname||"/",r);if(i==null)return null;let a=Mh(e);C0(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=M0(i);o=A0(a[u],c)}return o}function Mh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(ie(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Zt([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Mh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:L0(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of zh(i.path))s(i,a,u)}),t}function zh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=zh(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function C0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:D0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const T0=/^:[\w-]+$/,P0=3,O0=2,I0=1,$0=10,R0=-2,Ac=e=>e==="*";function L0(e,t){let r=e.split("/"),n=r.length;return r.some(Ac)&&(n+=R0),t&&(n+=O0),r.filter(s=>!Ac(s)).reduce((s,i)=>s+(T0.test(i)?P0:i===""?I0:$0),n)}function D0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function A0(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Zo({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Zt([i,f.pathname]),pathnameBase:W0(Zt([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Zt([i,f.pathnameBase]))}return a}function Zo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=U0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:x}=d;if(h==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const _=o[f];return x&&!_?c[h]=void 0:c[h]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function U0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Uh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function M0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function z0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?wn(e):e;return{pathname:r?r.startsWith("/")?r:F0(r,t):t,search:V0(n),hash:q0(s)}}function F0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ka(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pu(e,t){let r=B0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=wn(e):(s=gs({},e),ie(!s.pathname||!s.pathname.includes("?"),Ka("?","pathname","search",s)),ie(!s.pathname||!s.pathname.includes("#"),Ka("#","pathname","hash",s)),ie(!s.search||!s.search.includes("#"),Ka("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let u=z0(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Zt=e=>e.join("/").replace(/\/\/+/g,"/"),W0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,q0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fh=["post","put","patch","delete"];new Set(Fh);const K0=["get",...Fh];new Set(K0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}const sa=b.createContext(null),Bh=b.createContext(null),Ot=b.createContext(null),ia=b.createContext(null),gt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Wh=b.createContext(null);function G0(e,t){let{relative:r}=t===void 0?{}:t;_n()||ie(!1);let{basename:n,navigator:s}=b.useContext(Ot),{hash:i,pathname:a,search:o}=aa(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Zt([n,a])),s.createHref({pathname:u,search:o,hash:i})}function _n(){return b.useContext(ia)!=null}function It(){return _n()||ie(!1),b.useContext(ia).location}function Vh(e){b.useContext(Ot).static||b.useLayoutEffect(e)}function $t(){let{isDataRoute:e}=b.useContext(gt);return e?uy():Q0()}function Q0(){_n()||ie(!1);let e=b.useContext(sa),{basename:t,future:r,navigator:n}=b.useContext(Ot),{matches:s}=b.useContext(gt),{pathname:i}=It(),a=JSON.stringify(pu(s,r.v7_relativeSplatPath)),o=b.useRef(!1);return Vh(()=>{o.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=mu(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Zt([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}const J0=b.createContext(null);function X0(e){let t=b.useContext(gt).outlet;return t&&b.createElement(J0.Provider,{value:e},t)}function Pr(){let{matches:e}=b.useContext(gt),t=e[e.length-1];return t?t.params:{}}function aa(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Ot),{matches:s}=b.useContext(gt),{pathname:i}=It(),a=JSON.stringify(pu(s,n.v7_relativeSplatPath));return b.useMemo(()=>mu(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Y0(e,t){return Z0(e,t)}function Z0(e,t,r,n){_n()||ie(!1);let{navigator:s}=b.useContext(Ot),{matches:i}=b.useContext(gt),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=It(),d;if(t){var f;let v=typeof t=="string"?wn(t):t;u==="/"||(f=v.pathname)!=null&&f.startsWith(u)||ie(!1),d=v}else d=c;let h=d.pathname||"/",x=h;if(u!=="/"){let v=u.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=N0(e,{pathname:x}),y=sy(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Zt([u,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Zt([u,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?b.createElement(ia.Provider,{value:{location:ys({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vt.Pop}},y):y}function ey(){let e=ly(),t=H0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const ty=b.createElement(ey,null);class ry extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(gt.Provider,{value:this.props.routeContext},b.createElement(Wh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ny(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(sa);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(gt.Provider,{value:t},n)}function sy(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||ie(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:x}=r,_=f.route.loader&&h[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||_){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let x,_=!1,y=null,v=null;r&&(x=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||ty,u&&(c<0&&h===0?(cy("route-fallback"),_=!0,v=null):c===h&&(_=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),p=()=>{let m;return x?m=y:_?m=v:f.route.Component?m=b.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,b.createElement(ny,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(ry,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var qh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qh||{}),Hh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hh||{});function iy(e){let t=b.useContext(sa);return t||ie(!1),t}function ay(e){let t=b.useContext(Bh);return t||ie(!1),t}function oy(e){let t=b.useContext(gt);return t||ie(!1),t}function Kh(e){let t=oy(),r=t.matches[t.matches.length-1];return r.route.id||ie(!1),r.route.id}function ly(){var e;let t=b.useContext(Wh),r=ay(),n=Kh();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function uy(){let{router:e}=iy(qh.UseNavigateStable),t=Kh(Hh.UseNavigateStable),r=b.useRef(!1);return Vh(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ys({fromRouteId:t},i)))},[e,t])}const Uc={};function cy(e,t,r){Uc[e]||(Uc[e]=!0)}function dy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ks(e){let{to:t,replace:r,state:n,relative:s}=e;_n()||ie(!1);let{future:i,static:a}=b.useContext(Ot),{matches:o}=b.useContext(gt),{pathname:u}=It(),c=$t(),d=mu(t,pu(o,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function fy(e){return X0(e.context)}function fe(e){ie(!1)}function hy(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Vt.Pop,navigator:i,static:a=!1,future:o}=e;_n()&&ie(!1);let u=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:i,static:a,future:ys({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=wn(n));let{pathname:d="/",search:f="",hash:h="",state:x=null,key:_="default"}=n,y=b.useMemo(()=>{let v=mn(d,u);return v==null?null:{location:{pathname:v,search:f,hash:h,state:x,key:_},navigationType:s}},[u,d,f,h,x,_,s]);return y==null?null:b.createElement(Ot.Provider,{value:c},b.createElement(ia.Provider,{children:r,value:y}))}function py(e){let{children:t,location:r}=e;return Y0(el(t),r)}new Promise(()=>{});function el(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,el(n.props.children,i));return}n.type!==fe&&ie(!1),!n.props.index||!n.props.children||ie(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=el(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(this,arguments)}function Gh(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function my(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gy(e,t){return e.button===0&&(!t||t==="_self")&&!my(e)}function tl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function yy(e,t){let r=tl(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const vy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xy=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wy="6";try{window.__reactRouterVersion=wy}catch{}const _y=b.createContext({isTransitioning:!1}),by="startTransition",Mc=dm[by];function ky(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=k0({window:s,v5Compat:!0}));let a=i.current,[o,u]=b.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=b.useCallback(f=>{c&&Mc?Mc(()=>u(f)):u(f)},[u,c]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>dy(n),[n]),b.createElement(hy,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=Gh(t,vy),{basename:x}=b.useContext(Ot),_,y=!1;if(typeof c=="string"&&Sy.test(c)&&(_=c,jy))try{let m=new URL(window.location.href),w=c.startsWith("//")?new URL(m.protocol+c):new URL(c),k=mn(w.pathname,x);w.origin===m.origin&&k!=null?c=k+w.search+w.hash:y=!0}catch{}let v=G0(c,{relative:s}),g=Ey(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:s,viewTransition:f});function p(m){n&&n(m),m.defaultPrevented||g(m)}return b.createElement("a",Ui({},h,{href:_||v,onClick:y||i?n:p,ref:r,target:u}))}),zc=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:c,children:d}=t,f=Gh(t,xy),h=aa(u,{relative:f.relative}),x=It(),_=b.useContext(Bh),{navigator:y,basename:v}=b.useContext(Ot),g=_!=null&&Cy(h)&&c===!0,p=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,m=x.pathname,w=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(m=m.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&v&&(w=mn(w,v)||w);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let S=m===p||!a&&m.startsWith(p)&&m.charAt(k)==="/",j=w!=null&&(w===p||!a&&w.startsWith(p)&&w.charAt(p.length)==="/"),C={isActive:S,isPending:j,isTransitioning:g},L=S?n:void 0,N;typeof i=="function"?N=i(C):N=[i,S?"active":null,j?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(C):o;return b.createElement(Q,Ui({},f,{"aria-current":L,className:N,ref:r,style:T,to:u,viewTransition:c}),typeof d=="function"?d(C):d)});var rl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rl||(rl={}));var Fc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fc||(Fc={}));function Ny(e){let t=b.useContext(sa);return t||ie(!1),t}function Ey(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=$t(),c=It(),d=aa(e,{relative:a});return b.useCallback(f=>{if(gy(f,r)){f.preventDefault();let h=n!==void 0?n:Ai(c)===Ai(d);u(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,u,d,n,s,r,e,i,a,o])}function Qh(e){let t=b.useRef(tl(e)),r=b.useRef(!1),n=It(),s=b.useMemo(()=>yy(n.search,r.current?null:t.current),[n.search]),i=$t(),a=b.useCallback((o,u)=>{const c=tl(typeof o=="function"?o(s):o);r.current=!0,i("?"+c,u)},[i,s]);return[s,a]}function Cy(e,t){t===void 0&&(t={});let r=b.useContext(_y);r==null&&ie(!1);let{basename:n}=Ny(rl.useViewTransitionState),s=aa(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=mn(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=mn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zo(s.pathname,a)!=null||Zo(s.pathname,i)!=null}const Ty="modulepreload",Py=function(e){return"/"+e},Bc={},Ss=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Py(u),u in Bc)return;Bc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Ty,c||(f.as="script"),f.crossOrigin="",f.href=u,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,x)=>{f.addEventListener("load",h),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Oy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>bn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class gu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Iy extends gu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wc extends gu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Vc extends gu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nl||(nl={}));var $y=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Ry{constructor(t,{headers:r={},customFetch:n,region:s=nl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Oy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return $y(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(o["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(y=>{throw new Iy(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Wc(f);if(!f.ok)throw new Vc(f);let x=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield f.json():x==="application/octet-stream"?_=yield f.blob():x==="text/event-stream"?_=f:x==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Vc||s instanceof Wc?s.context:void 0}}})}}var Le={},yu={},oa={},Ns={},la={},ua={},Ly=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=Ly();const Dy=gn.fetch,Jh=gn.fetch.bind(gn),Xh=gn.Headers,Ay=gn.Request,Uy=gn.Response,bn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xh,Request:Ay,Response:Uy,default:Jh,fetch:Dy},Symbol.toStringTag,{value:"Module"})),My=Qp(bn);var ca={};Object.defineProperty(ca,"__esModule",{value:!0});let zy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ca.default=zy;var Yh=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});const Fy=Yh(My),By=Yh(ca);let Wy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Fy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let c=null,d=null,f=null,h=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,x="OK")}catch{i.status===404&&y===""?(h=204,x="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,x="OK"),c&&this.shouldThrowOnError)throw new By.default(c)}return{error:c,data:d,count:f,status:h,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ua.default=Wy;var Vy=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const qy=Vy(ua);let Hy=class extends qy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};la.default=Hy;var Ky=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ns,"__esModule",{value:!0});const Gy=Ky(la);let Qy=class extends Gy.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ns.default=Qy;var Jy=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});const In=Jy(Ns);let Xy=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new In.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new In.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new In.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new In.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new In.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};oa.default=Xy;var da={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.version=void 0;fa.version="0.0.0-automated";Object.defineProperty(da,"__esModule",{value:!0});da.DEFAULT_HEADERS=void 0;const Yy=fa;da.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yy.version}`};var Zh=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yu,"__esModule",{value:!0});const Zy=Zh(oa),ev=Zh(Ns),tv=da;let rv=class ep{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},tv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Zy.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ep(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new ev.default({method:a,url:o,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};yu.default=rv;var kn=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const tp=kn(yu);Le.PostgrestClient=tp.default;const rp=kn(oa);Le.PostgrestQueryBuilder=rp.default;const np=kn(Ns);Le.PostgrestFilterBuilder=np.default;const sp=kn(la);Le.PostgrestTransformBuilder=sp.default;const ip=kn(ua);Le.PostgrestBuilder=ip.default;const ap=kn(ca);Le.PostgrestError=ap.default;var nv=Le.default={PostgrestClient:tp.default,PostgrestQueryBuilder:rp.default,PostgrestFilterBuilder:np.default,PostgrestTransformBuilder:sp.default,PostgrestBuilder:ip.default,PostgrestError:ap.default};const{PostgrestClient:sv,PostgrestQueryBuilder:R1,PostgrestFilterBuilder:L1,PostgrestTransformBuilder:D1,PostgrestBuilder:A1,PostgrestError:U1}=nv;function iv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const av=iv(),ov="2.11.15",lv=`realtime-js/${ov}`,uv="1.0.0",op=1e4,cv=1e3;var Jn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jn||(Jn={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var st;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(st||(st={}));var sl;(function(e){e.websocket="websocket"})(sl||(sl={}));var mr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mr||(mr={}));class dv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class lp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(G||(G={}));const qc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=fv(a,e,t,s),i),{})},fv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?up(i,a):il(a)},up=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gv(t,r)}switch(e){case G.bool:return hv(t);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return pv(t);case G.json:case G.jsonb:return mv(t);case G.timestamp:return yv(t);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return il(t);default:return il(t)}},il=e=>e,hv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>up(t,o))}return e},yv=e=>typeof e=="string"?e.replace(" ","T"):e,cp=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ga{constructor(t,r,n={},s=op){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hc||(Hc={}));class Xn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Xn.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(v=>v.presence_ref),x=f.map(v=>v.presence_ref),_=d.filter(v=>x.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);_.length>0&&(o[c]=_),y.length>0&&(u[c]=y)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const f=t[o].map(x=>x.presence_ref),h=d.filter(x=>f.indexOf(x.presence_ref)<0);t[o].unshift(...h)}n(o,d,u)}),this.map(a,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kc||(Kc={}));var Gc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gc||(Gc={}));var xt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class vu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ga(this,st.join,this.params,this.timeout),this.rejoinTimer=new lp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Xn(this),this.broadcastEndpointURL=cp(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(xt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(xt.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(xt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,x=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,_=[];for(let y=0;y<x;y++){const v=h[y],{filter:{event:g,schema:p,table:m,filter:w}}=v,k=d&&d[y];if(k&&k.event===g&&k.schema===p&&k.table===m&&k.filter===w)_.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=je.errored,t==null||t(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(xt.SUBSCRIBED);return}}).receive("error",d=>{this.state=je.errored,t==null||t(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ga(this,st.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ga(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=st;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var _,y,v;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((v=(y=x.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(x=>x.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(x=>{var _,y,v,g,p,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in x){const w=x.id,k=(_=x.filter)===null||_===void 0?void 0:_.event;return w&&((y=r.ids)===null||y===void 0?void 0:y.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(p=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===a}).map(x=>{if(typeof h=="object"&&"ids"in h){const _=h.data,{schema:y,table:v,commit_timestamp:g,type:p,errors:m}=_;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(_))}x.callback(h,n)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(st.close,{},t)}_onError(t){this._on(st.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qc(t.columns,t.old_record)),r}}const Qc=()=>{},vv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=op,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qc,this.ref=0,this.logger=Qc,this.conn=null,this.sendBuffer=[],this.serializer=new dv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ss(async()=>{const{default:u}=await Promise.resolve().then(()=>bn);return{default:u}},void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${sl.websocket}`,this.httpEndpoint=cp(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=av),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jn.connecting:return mr.Connecting;case Jn.open:return mr.Open;case Jn.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new vu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:lv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(st.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(cv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(st.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([vv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class xu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wv extends xu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class al extends xu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var _v=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const dp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>bn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},bv=()=>_v(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>bn),void 0)).Response:Response}),ol=e=>{if(Array.isArray(e))return e.map(r=>ol(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ol(n)}),t},kv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Or=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jv=(e,t,r)=>Or(void 0,void 0,void 0,function*(){const n=yield bv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new wv(Qa(s),i,a))}).catch(s=>{t(new al(Qa(s),s))}):t(new al(Qa(e),e))}),Sv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(kv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Es(e,t,r,n,s,i){return Or(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,Sv(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>jv(u,o,n))})})}function Mi(e,t,r,n){return Or(this,void 0,void 0,function*(){return Es(e,"GET",t,r,n)})}function wt(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Es(e,"POST",t,n,s,r)})}function ll(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Es(e,"PUT",t,n,s,r)})}function Nv(e,t,r,n){return Or(this,void 0,void 0,function*(){return Es(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fp(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Es(e,"DELETE",t,n,s,r)})}var $e=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Ev={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cv{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=dp(s)}uploadOrUpdate(t,r,n,s){return $e(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Jc),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?ll:wt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(t,r,n){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Jc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield ll(this.fetch,o.toString(),u,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(u){if(me(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return $e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new xu("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}update(t,r,n){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return $e(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}copy(t,r,n){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return $e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return $e(this,void 0,void 0,function*(){try{const s=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}download(t,r){return $e(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Mi(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}info(t){return $e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ol(n),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}exists(t){return $e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Nv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(me(n)&&n instanceof al){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return $e(this,void 0,void 0,function*(){try{return{data:yield fp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}list(t,r,n){return $e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ev),r),{prefix:t||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Tv="2.10.4",Pv={"X-Client-Info":`storage-js/${Tv}`};var Lr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Ov{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Pv),r),this.fetch=dp(n)}listBuckets(){return Lr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}getBucket(t){return Lr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Lr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Lr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Lr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Lr(this,void 0,void 0,function*(){try{return{data:yield fp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}}class Iv extends Ov{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Cv(this.url,this.headers,t,this.fetch)}}const $v="2.53.0";let zn="";typeof Deno<"u"?zn="deno":typeof document<"u"?zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zn="react-native":zn="node";const Rv={"X-Client-Info":`supabase-js-${zn}/${$v}`},Lv={headers:Rv},Dv={schema:"public"},Av={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uv={};var Mv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const zv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Jh:t=fetch,(...r)=>t(...r)},Fv=()=>typeof Headers>"u"?Xh:Headers,Bv=(e,t,r)=>{const n=zv(r),s=Fv();return(i,a)=>Mv(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Wv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function Vv(e){return e.endsWith("/")?e:e+"/"}function qv(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:u,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Wv(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const hp="2.71.1",zr=30*1e3,ul=3,Ja=ul*zr,Hv="http://localhost:9999",Kv="supabase.auth.token",Gv={"X-Client-Info":`gotrue-js/${hp}`},cl="X-Supabase-Api-Version",pp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jv=10*60*1e3;class wu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Xv extends wu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Yv(e){return A(e)&&e.name==="AuthApiError"}class mp extends wu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ar extends wu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Dt extends ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zv(e){return A(e)&&e.name==="AuthSessionMissingError"}class Gs extends ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qs extends ar{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Js extends ar{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ex(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xc extends ar{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dl extends ar{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xa(e){return A(e)&&e.name==="AuthRetryableFetchError"}class Yc extends ar{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fl extends ar{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zc=` 	
\r=`.split(""),tx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zc.length;t+=1)e[Zc[t].charCodeAt(0)]=-2;for(let t=0;t<zi.length;t+=1)e[zi[t].charCodeAt(0)]=t;return e})();function ed(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zi[n]),t.queuedBits-=6}}function gp(e,t,r){const n=tx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function td(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{sx(a,n,r)};for(let a=0;a<e.length;a+=1)gp(e.charCodeAt(a),s,i);return t.join("")}function rx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}rx(n,t)}}function sx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ix(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)gp(e.charCodeAt(s),r,n);return new Uint8Array(t)}function ax(e){const t=[];return nx(e,r=>t.push(r)),new Uint8Array(t)}function ox(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ed(s,r,n)),ed(null,r,n),t.join("")}function lx(e){return Math.round(Date.now()/1e3)+e}function ux(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},yp=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function cx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const vp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>bn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},dx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ur=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lt=async(e,t)=>{await e.removeItem(t)};class ha{constructor(){this.promise=new ha.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ha.promiseConstructor=Promise;function Ya(e){const t=e.split(".");if(t.length!==3)throw new fl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Qv.test(t[n]))throw new fl("JWT not in base64url format");return{header:JSON.parse(td(t[0])),payload:JSON.parse(td(t[1])),signature:ix(t[2]),raw:{header:t[0],payload:t[1]}}}async function fx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function px(e){return("0"+e.toString(16)).substr(-2)}function mx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,px).join("")}async function gx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await gx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(e,t,r=!1){const n=mx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Fr(e,`${t}-code-verifier`,s);const i=await yx(n);return[i,n===i?"plain":"s256"]}const vx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xx(e){const t=e.headers.get(cl);if(!t||!t.match(vx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _x(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(e){if(!bx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Za(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rd(e){return JSON.parse(JSON.stringify(e))}var kx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const fr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jx=[502,503,504];async function nd(e){var t;if(!dx(e))throw new dl(fr(e),0);if(jx.includes(e.status))throw new dl(fr(e),e.status);let r;try{r=await e.json()}catch(i){throw new mp(fr(i),i)}let n;const s=xx(e);if(s&&s.getTime()>=pp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yc(fr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Dt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Yc(fr(r),e.status,r.weak_password.reasons);throw new Xv(fr(r),e.status||500,n)}const Sx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function M(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[cl]||(i[cl]=pp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Nx(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Nx(e,t,r,n,s,i){const a=Sx(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new dl(fr(u),0)}if(o.ok||await nd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await nd(u)}}function yt(e){var t;let r=null;Px(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=lx(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function sd(e){const t=yt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ft(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ex(e){return{data:e,error:null}}function Cx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=kx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function Tx(e){return e}function Px(e){return e.access_token&&e.refresh_token&&e.expires_in}const eo=["global","local","others"];var Ox=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Ix{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=eo[0]){if(eo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eo.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ft})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ox(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Cx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ft})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tx});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,x=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(_.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(A(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ar(t);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ft})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ar(t);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ft})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ar(t);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ft})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ar(t.userId);try{const{data:r,error:n}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ar(t.userId),Ar(t.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}function id(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function $x(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ur={debug:!!(globalThis&&yp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Rx extends xp{}async function Lx(e,t,r){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ur.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}$x();const Dx={url:Hv,storageKey:Kv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ad(e,t,r){return await r()}const Mr={};class vs{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vs.nextInstanceID,vs.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Dx),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ix({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vp(s.fetch),this.lock=s.lock||ad,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Lx:this.lock=ad,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:yp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=id(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=id(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Mr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Mr[this.storageKey]=Object.assign(Object.assign({},Mr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Mr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Mr[this.storageKey]=Object.assign(Object.assign({},Mr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=cx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),tt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ex(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?{error:r}:{error:new mp("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:yt}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Dr(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:x,code_challenge_method:_},xform:yt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yt})}else throw new Qs("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sd})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sd})}else throw new Qs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,u,c,d,f,h,x;let _,y;if("message"in t)_=t.message,y=t.signature;else{const{chain:v,wallet:g,statement:p,options:m}=t;let w;if(tt())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const k=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)_=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(_),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:v,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:ox(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:yt});if(g)throw g;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Gs}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:g})}catch(v){if(A(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await ur(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:yt});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yt}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Gs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Dr(this.storage,this.storageKey));const{error:f}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Qs("You must provide either an email or phone number.")}catch(o){if(A(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Dr(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Ex})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Dt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Qs("You must provide either an email or phone number and a type")}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ja:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await ur(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Za()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ft}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ft})})}catch(r){if(A(r))return Zv(r)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Dt;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await Dr(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:Ft});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ya(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(A(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Dt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!tt())throw new Js("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Js(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xc("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!a||!c)throw new Js("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;u&&(h=parseInt(u));const x=h-d;x*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${f}s`);const _=h-f;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,h,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(A(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Yv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ux(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dr(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:f,error:h}=i;if(h)throw h;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return tt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(A(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hx(async s=>(s>0&&await fx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Xa(i)&&Date.now()+a-n<zr})}catch(n){if(this._debug(r,"error",n),A(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),tt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ur(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Fr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Za()}else if(s&&!s.user&&!s.user){const a=await ur(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Lt(this.storage,this.storageKey+"-user"),await Fr(this.storage,this.storageKey,s)):s.user=Za()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ja;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ja}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Xa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ha;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),A(i)){const a={session:null,error:i};return Xa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=rd(s);await Fr(this.storage,this.storageKey,i)}else{const s=rd(r);await Fr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zr}ms, refresh threshold is ${ul} ticks`),s<=ul&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Dr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ya(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Jv>s)return n;const{data:i,error:a}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:_}=await this.getSession();if(_||!x.session)return{data:null,error:_};n=x.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=Ya(n);r!=null&&r.allowExpired||wx(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:s,signature:a},error:null}}const d=_x(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,ax(`${o}.${u}`)))throw new fl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}vs.nextInstanceID=0;const Ax=vs;class Ux extends Ax{constructor(t){super(t)}}var Mx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class zx{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Vv(t),u=new URL(o);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Dv,realtime:Uv,auth:Object.assign(Object.assign({},Av),{storageKey:c}),global:Lv},f=qv(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Bv(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new sv(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Iv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Ry(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Mx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ux({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new xv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fx=(e,t,r)=>new zx(e,t,r);function Bx(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Bx()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Wx=typeof window<"u",Vx="https://pmrxyisasfaimumuobvu.supabase.co",qx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtcnh5aXNhc2ZhaW11bXVvYnZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ2ODMsImV4cCI6MjA2ODg2MDY4M30.rVsKq08Ynw82RkCntxWFXOTgP8T0cGyhJvqfrnOH4YQ",I=Fx(Vx,qx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:Wx}});function wp(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=wp(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _r(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=wp(e))&&(n&&(n+=" "),n+=t);return n}function Hx(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Hx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cs=e=>typeof e=="number"&&!isNaN(e),Er=e=>typeof e=="string",Tt=e=>typeof e=="function",Kx=e=>Er(e)||Cs(e),hl=e=>Er(e)||Tt(e)?e:null,Gx=(e,t)=>e===!1||Cs(e)&&e>0?e:t,pl=e=>b.isValidElement(e)||Er(e)||Tt(e)||Cs(e);function Qx(e,t,r=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function Jx({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:a,preventExitTransition:o,done:u,nodeRef:c,isIn:d,playToast:f}){let h=r?`${e}--${a}`:e,x=r?`${t}--${a}`:t,_=b.useRef(0);return b.useLayoutEffect(()=>{let y=c.current,v=h.split(" "),g=p=>{p.target===c.current&&(f(),y.removeEventListener("animationend",g),y.removeEventListener("animationcancel",g),_.current===0&&p.type!=="animationcancel"&&y.classList.remove(...v))};y.classList.add(...v),y.addEventListener("animationend",g),y.addEventListener("animationcancel",g)},[]),b.useEffect(()=>{let y=c.current,v=()=>{y.removeEventListener("animationend",v),n?Qx(y,u,s):u()};d||(o?v():(_.current=1,y.className+=` ${x}`,y.addEventListener("animationend",v)))},[d]),W.createElement(W.Fragment,null,i)}}function od(e,t){return{content:_p(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function _p(e,t,r=!1){return b.isValidElement(e)&&!Er(e.type)?b.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Tt(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function Xx({closeToast:e,theme:t,ariaLabel:r="close"}){return W.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},W.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},W.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Yx({delay:e,isRunning:t,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:a,progress:o,rtl:u,isIn:c,theme:d}){let f=s||a&&o===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(h.transform=`scaleX(${o})`);let x=_r("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":u}),_=Tt(i)?i({rtl:u,type:n,defaultClassName:x}):_r(x,i),y={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&r()}};return W.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},W.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),W.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:_,style:h,...y}))}var Zx=1,bp=()=>`${Zx++}`;function ew(e,t,r){let n=1,s=0,i=[],a=[],o=t,u=new Map,c=new Set,d=p=>(c.add(p),()=>c.delete(p)),f=()=>{a=Array.from(u.values()),c.forEach(p=>p())},h=({containerId:p,toastId:m,updateId:w})=>{let k=p?p!==e:e!==1,S=u.has(m)&&w==null;return k||S},x=(p,m)=>{u.forEach(w=>{var k;(m==null||m===w.props.toastId)&&((k=w.toggle)==null||k.call(w,p))})},_=p=>{var m,w;(w=(m=p.props)==null?void 0:m.onClose)==null||w.call(m,p.removalReason),p.isActive=!1},y=p=>{if(p==null)u.forEach(_);else{let m=u.get(p);m&&_(m)}f()},v=()=>{s-=i.length,i=[]},g=p=>{var m,w;let{toastId:k,updateId:S}=p.props,j=S==null;p.staleId&&u.delete(p.staleId),p.isActive=!0,u.set(k,p),f(),r(od(p,j?"added":"updated")),j&&((w=(m=p.props).onOpen)==null||w.call(m))};return{id:e,props:o,observe:d,toggle:x,removeToast:y,toasts:u,clearQueue:v,buildToast:(p,m)=>{if(h(m))return;let{toastId:w,updateId:k,data:S,staleId:j,delay:C}=m,L=k==null;L&&s++;let N={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(m).filter(([$,B])=>B!=null)),toastId:w,updateId:k,data:S,isIn:!1,className:hl(m.className||o.toastClassName),progressClassName:hl(m.progressClassName||o.progressClassName),autoClose:m.isLoading?!1:Gx(m.autoClose,o.autoClose),closeToast($){u.get(w).removalReason=$,y(w)},deleteToast(){let $=u.get(w);if($!=null){if(r(od($,"removed")),u.delete(w),s--,s<0&&(s=0),i.length>0){g(i.shift());return}f()}}};N.closeButton=o.closeButton,m.closeButton===!1||pl(m.closeButton)?N.closeButton=m.closeButton:m.closeButton===!0&&(N.closeButton=pl(o.closeButton)?o.closeButton:!0);let T={content:p,props:N,staleId:j};o.limit&&o.limit>0&&s>o.limit&&L?i.push(T):Cs(C)?setTimeout(()=>{g(T)},C):g(T)},setProps(p){o=p},setToggle:(p,m)=>{let w=u.get(p);w&&(w.toggle=m)},isToastActive:p=>{var m;return(m=u.get(p))==null?void 0:m.isActive},getSnapshot:()=>a}}var Te=new Map,xs=[],ml=new Set,tw=e=>ml.forEach(t=>t(e)),kp=()=>Te.size>0;function rw(){xs.forEach(e=>Sp(e.content,e.options)),xs=[]}var nw=(e,{containerId:t})=>{var r;return(r=Te.get(t||1))==null?void 0:r.toasts.get(e)};function jp(e,t){var r;if(t)return!!((r=Te.get(t))!=null&&r.isToastActive(e));let n=!1;return Te.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function sw(e){if(!kp()){xs=xs.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Kx(e))Te.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Te.get(e.containerId);t?t.removeToast(e.id):Te.forEach(r=>{r.removeToast(e.id)})}}var iw=(e={})=>{Te.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Sp(e,t){pl(e)&&(kp()||xs.push({content:e,options:t}),Te.forEach(r=>{r.buildToast(e,t)}))}function aw(e){var t;(t=Te.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function Np(e,t){Te.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function ow(e){let t=e.containerId||1;return{subscribe(r){let n=ew(t,e,tw);Te.set(t,n);let s=n.observe(r);return rw(),()=>{s(),Te.delete(t)}},setProps(r){var n;(n=Te.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=Te.get(t))==null?void 0:r.getSnapshot()}}}function lw(e){return ml.add(e),()=>{ml.delete(e)}}function uw(e){return e&&(Er(e.toastId)||Cs(e.toastId))?e.toastId:bp()}function Ts(e,t){return Sp(e,t),t.toastId}function pa(e,t){return{...t,type:t&&t.type||e,toastId:uw(t)}}function ma(e){return(t,r)=>Ts(t,pa(e,r))}function R(e,t){return Ts(e,pa("default",t))}R.loading=(e,t)=>Ts(e,pa("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function cw(e,{pending:t,error:r,success:n},s){let i;t&&(i=Er(t)?R.loading(t,s):R.loading(t.render,{...s,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(c,d,f)=>{if(d==null){R.dismiss(i);return}let h={type:c,...a,...s,data:f},x=Er(d)?{render:d}:d;return i?R.update(i,{...h,...x}):R(x.render,{...h,...x}),f},u=Tt(e)?e():e;return u.then(c=>o("success",n,c)).catch(c=>o("error",r,c)),u}R.promise=cw;R.success=ma("success");R.info=ma("info");R.error=ma("error");R.warning=ma("warning");R.warn=R.warning;R.dark=(e,t)=>Ts(e,pa("default",{theme:"dark",...t}));function dw(e){sw(e)}R.dismiss=dw;R.clearWaitingQueue=iw;R.isActive=jp;R.update=(e,t={})=>{let r=nw(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:bp()};i.toastId!==e&&(i.staleId=e);let a=i.render||s;delete i.render,Ts(a,i)}};R.done=e=>{R.update(e,{progress:1})};R.onChange=lw;R.play=e=>Np(!0,e);R.pause=e=>Np(!1,e);function fw(e){var t;let{subscribe:r,getSnapshot:n,setProps:s}=b.useRef(ow(e)).current;s(e);let i=(t=b.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function a(o){if(!i)return[];let u=new Map;return e.newestOnTop&&i.reverse(),i.forEach(c=>{let{position:d}=c.props;u.has(d)||u.set(d,[]),u.get(d).push(c)}),Array.from(u,c=>o(c[0],c[1]))}return{getToastToRender:a,isToastActive:jp,count:i==null?void 0:i.length}}function hw(e){let[t,r]=b.useState(!1),[n,s]=b.useState(!1),i=b.useRef(null),a=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:f}=e;aw({id:e.toastId,containerId:e.containerId,fn:r}),b.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{x()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||g(),window.addEventListener("focus",v),window.addEventListener("blur",g)}function x(){window.removeEventListener("focus",v),window.removeEventListener("blur",g)}function _(j){if(e.draggable===!0||e.draggable===j.pointerType){p();let C=i.current;a.canCloseOnClick=!0,a.canDrag=!0,C.style.transition="none",e.draggableDirection==="x"?(a.start=j.clientX,a.removalDistance=C.offsetWidth*(e.draggablePercent/100)):(a.start=j.clientY,a.removalDistance=C.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(j){let{top:C,bottom:L,left:N,right:T}=i.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&e.pauseOnHover&&j.clientX>=N&&j.clientX<=T&&j.clientY>=C&&j.clientY<=L?g():v()}function v(){r(!0)}function g(){r(!1)}function p(){a.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",k)}function m(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",k)}function w(j){let C=i.current;if(a.canDrag&&C){a.didMove=!0,t&&g(),e.draggableDirection==="x"?a.delta=j.clientX-a.start:a.delta=j.clientY-a.start,a.start!==j.clientX&&(a.canCloseOnClick=!1);let L=e.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;C.style.transform=`translate3d(${L},0)`,C.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function k(){m();let j=i.current;if(a.canDrag&&a.didMove&&j){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let S={onPointerDown:_,onPointerUp:y};return o&&u&&(S.onMouseEnter=g,e.stacked||(S.onMouseLeave=v)),f&&(S.onClick=j=>{d&&d(j),a.canCloseOnClick&&c(!0)}),{playToast:v,pauseToast:g,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:S}}var pw=typeof window<"u"?b.useLayoutEffect:b.useEffect,ga=({theme:e,type:t,isLoading:r,...n})=>W.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function mw(e){return W.createElement(ga,{...e},W.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function gw(e){return W.createElement(ga,{...e},W.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function yw(e){return W.createElement(ga,{...e},W.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function vw(e){return W.createElement(ga,{...e},W.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function xw(){return W.createElement("div",{className:"Toastify__spinner"})}var gl={info:gw,warning:mw,success:yw,error:vw,spinner:xw},ww=e=>e in gl;function _w({theme:e,type:t,isLoading:r,icon:n}){let s=null,i={theme:e,type:t};return n===!1||(Tt(n)?s=n({...i,isLoading:r}):b.isValidElement(n)?s=b.cloneElement(n,i):r?s=gl.spinner():ww(t)&&(s=gl[t](i))),s}var bw=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=hw(e),{closeButton:a,children:o,autoClose:u,onClick:c,type:d,hideProgressBar:f,closeToast:h,transition:x,position:_,className:y,style:v,progressClassName:g,updateId:p,role:m,progress:w,rtl:k,toastId:S,deleteToast:j,isIn:C,isLoading:L,closeOnClick:N,theme:T,ariaLabel:$}=e,B=_r("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":N}),q=Tt(y)?y({rtl:k,position:_,type:d,defaultClassName:B}):_r(B,y),de=_w(e),ee=!!w||!u,K={closeToast:h,type:d,theme:T},P=null;return a===!1||(Tt(a)?P=a(K):b.isValidElement(a)?P=b.cloneElement(a,K):P=Xx(K)),W.createElement(x,{isIn:C,done:j,position:_,preventExitTransition:r,nodeRef:n,playToast:i},W.createElement("div",{id:S,tabIndex:0,onClick:c,"data-in":C,className:q,...s,style:v,ref:n,...C&&{role:m,"aria-label":$}},de!=null&&W.createElement("div",{className:_r("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},de),_p(o,e,!t),P,!e.customProgressBar&&W.createElement(Yx,{...p&&!ee?{key:`p-${p}`}:{},rtl:k,theme:T,delay:u,isRunning:t,isIn:C,closeToast:h,hide:f,type:d,className:g,controlledProgress:ee,progress:w||0})))},kw=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),jw=Jx(kw("bounce",!0)),Sw={position:"top-right",transition:jw,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Nw(e){let t={...Sw,...e},r=e.stacked,[n,s]=b.useState(!0),i=b.useRef(null),{getToastToRender:a,isToastActive:o,count:u}=fw(t),{className:c,style:d,rtl:f,containerId:h,hotKeys:x}=t;function _(v){let g=_r("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":f});return Tt(c)?c({position:v,rtl:f,defaultClassName:g}):_r(g,hl(c))}function y(){r&&(s(!0),R.play())}return pw(()=>{var v;if(r){let g=i.current.querySelectorAll('[data-in="true"]'),p=12,m=(v=t.position)==null?void 0:v.includes("top"),w=0,k=0;Array.from(g).reverse().forEach((S,j)=>{let C=S;C.classList.add("Toastify__toast--stacked"),j>0&&(C.dataset.collapsed=`${n}`),C.dataset.pos||(C.dataset.pos=m?"top":"bot");let L=w*(n?.2:1)+(n?0:p*j);C.style.setProperty("--y",`${m?L:L*-1}px`),C.style.setProperty("--g",`${p}`),C.style.setProperty("--s",`${1-(n?k:0)}`),w+=C.offsetHeight,k+=.025})}},[n,u,r]),b.useEffect(()=>{function v(g){var p;let m=i.current;x(g)&&((p=m.querySelector('[tabIndex="0"]'))==null||p.focus(),s(!1),R.pause()),g.key==="Escape"&&(document.activeElement===m||m!=null&&m.contains(document.activeElement))&&(s(!0),R.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[x]),W.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{r&&(s(!1),R.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((v,g)=>{let p=g.length?{...d}:{...d,pointerEvents:"none"};return W.createElement("div",{tabIndex:-1,className:_(v),"data-stacked":r,style:p,key:`c-${v}`},g.map(({content:m,props:w})=>W.createElement(bw,{...w,stacked:r,collapseAll:y,isIn:o(w.toastId,w.containerId),key:`t-${w.key}`},m)))}))}const Ew=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[a,o]=b.useState(null),u=async c=>{c.preventDefault(),i(!0),o(null);try{const{data:d,error:f}=await I.auth.signInWithPassword({email:e,password:r});if(f)throw f;if(d!=null&&d.user){const{data:h,error:x}=await I.from("profiles").select("role").eq("id",d.user.id).single();if(x)throw x;if(h.role!=="admin")throw await I.auth.signOut(),new Error("Access denied. Admin privileges required.")}}catch(d){const f=d instanceof Error?d.message:"An error occurred during sign in";o(f)}finally{i(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Event Admin Portal"}),l.jsx("h2",{className:"mt-6 text-center text-xl font-bold text-gray-900",children:"Sign in to your account"}),l.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Admin access only"})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[a&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:a}),l.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:c=>t(c.target.value),className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:c=>n(c.target.value),className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300",children:s?"Signing in...":"Sign in"})})]})]})})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,...c},d)=>b.createElement("svg",{ref:d,...Cw,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Tw(e)}`,o].join(" "),...c},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=X("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=X("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=X("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=X("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=X("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=X("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Hw=()=>{const[e,t]=b.useState({totalEvents:0,activeEvents:0,totalWristbands:0,totalCheckins:0}),[r,n]=b.useState([]),[s,i]=b.useState(!0);b.useEffect(()=>{(async()=>{i(!0);try{const{data:u}=await I.from("events").select("id, name, start_date, end_date"),c=new Date,d=(u==null?void 0:u.filter(y=>{const v=new Date(y.start_date),g=new Date(y.end_date);return v<=c&&g>=c}))||[],{count:f}=await I.from("wristbands").select("id",{count:"exact",head:!0}),{count:h}=await I.from("checkin_logs").select("id",{count:"exact",head:!0});t({totalEvents:(u==null?void 0:u.length)||0,activeEvents:d.length,totalWristbands:f||0,totalCheckins:h||0});const{data:x}=await I.from("events").select("*").order("start_date",{ascending:!1}).limit(5),_=await Promise.all((x||[]).map(async y=>{const{count:v}=await I.from("wristbands").select("id",{count:"exact",head:!0}).eq("event_id",y.id),{count:g}=await I.from("checkin_logs").select("id",{count:"exact",head:!0}).eq("event_id",y.id);return{...y,total_wristbands:v||0,checked_in:g||0}}));n(_)}catch(u){console.error("Error fetching dashboard data:",u)}finally{i(!1)}})()},[]);const a=({title:o,value:u,icon:c,color:d})=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`p-3 rounded-lg ${d}`,children:c}),l.jsxs("div",{className:"ml-5",children:[l.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:o}),l.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:u})]})]})});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),l.jsxs(Q,{to:"/events/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(yl,{size:16,className:"mr-2"}),"New Event"]})]}),s?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 animate-pulse",children:[1,2,3,4].map(o=>l.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},o))}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(a,{title:"Total Events",value:e.totalEvents,icon:l.jsx(yl,{size:24,className:"text-blue-600"}),color:"bg-blue-50"}),l.jsx(a,{title:"Active Events",value:e.activeEvents,icon:l.jsx(ld,{size:24,className:"text-green-600"}),color:"bg-green-50"}),l.jsx(a,{title:"Total Wristbands",value:e.totalWristbands,icon:l.jsx(xa,{size:24,className:"text-purple-600"}),color:"bg-purple-50"}),l.jsx(a,{title:"Total Check-ins",value:e.totalCheckins,icon:l.jsx(ld,{size:24,className:"text-amber-600"}),color:"bg-amber-50"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-5 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Events"})}),s?l.jsx("div",{className:"animate-pulse",children:[1,2,3].map(o=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},o))}):r.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event Name"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wristbands"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-ins"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(o=>{const u=new Date(o.start_date),c=new Date(o.end_date),d=new Date>=u&&new Date<=c;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{children:[l.jsx(Q,{to:`/events/${o.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:o.name}),d&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.location||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.total_wristbands}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium",children:o.checked_in}),o.total_wristbands>0&&l.jsxs("span",{className:"ml-2 text-gray-500",children:["(",Math.round(o.checked_in/o.total_wristbands*100),"%)"]})]})})]},o.id)})})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:"No events found"}),l.jsx(Q,{to:"/events/new",className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Create your first event"})]}),r.length>0&&l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:l.jsx(Q,{to:"/events",className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:"View all events"})})]})]})},ve=[];for(let e=0;e<256;++e)ve.push((e+256).toString(16).slice(1));function Kw(e,t=0){return(ve[e[t+0]]+ve[e[t+1]]+ve[e[t+2]]+ve[e[t+3]]+"-"+ve[e[t+4]]+ve[e[t+5]]+"-"+ve[e[t+6]]+ve[e[t+7]]+"-"+ve[e[t+8]]+ve[e[t+9]]+"-"+ve[e[t+10]]+ve[e[t+11]]+ve[e[t+12]]+ve[e[t+13]]+ve[e[t+14]]+ve[e[t+15]]).toLowerCase()}let to;const Gw=new Uint8Array(16);function Qw(){if(!to){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");to=crypto.getRandomValues.bind(crypto)}return to(Gw)}const Jw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cd={randomUUID:Jw};function dd(e,t,r){var s;if(cd.randomUUID&&!e)return cd.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??Qw();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Kw(n)}const fd=e=>{let t;const r=new Set,n=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(x=>x(t,h))}},s=()=>t,o={setState:n,getState:s,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c))},u=t=e(n,s,o);return o},Xw=e=>e?fd(e):fd,Yw=e=>e;function Zw(e,t=Yw){const r=W.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return W.useDebugValue(r),r}const hd=e=>{const t=Xw(e),r=n=>Zw(t,n);return Object.assign(r,t),r},e_=e=>e?hd(e):hd,t_=100,xl=e_((e,t)=>({notifications:[],unreadCount:0,addNotification:r=>{const n=r.category==="system"?{...r,id:Date.now().toString(),timestamp:new Date,read:!1}:{...r,id:Date.now().toString(),timestamp:new Date,read:!1};e(s=>{const i=[n,...s.notifications].slice(0,t_);return{notifications:i,unreadCount:i.filter(a=>!a.read).length}})},markAsRead:r=>{e(n=>{const s=n.notifications.map(i=>i.id===r?{...i,read:!0}:i);return{notifications:s,unreadCount:s.filter(i=>!i.read).length}})},markAllAsRead:()=>{e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0}))},clearNotifications:()=>{e({notifications:[],unreadCount:0})},removeNotification:r=>{e(n=>{const s=n.notifications.filter(i=>i.id!==r);return{notifications:s,unreadCount:s.filter(i=>!i.read).length}})}})),Xs={autoClose:5e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,position:"top-right",hideProgressBar:!1,closeButton:!0,className:"toast-notification"},$n=(e,t,r,n)=>{const{className:s,...i}=e||{};if(s)if(typeof s=="function"){const a=s;return{...i,type:t,autoClose:n,className:o=>{const u=r,c=a(o);return`${u} ${c||""}`.trim()}}}else return{...i,type:t,autoClose:n,className:`${r} ${s}`.trim()};return{...i,type:t,autoClose:n,className:r}},pd={critical:(e,t)=>{R.error(e,$n(t,"error","toast-critical",1e4))},error:(e,t)=>{R.error(e,$n(t,"error","toast-error",8e3))},warning:(e,t)=>{R.warn(e,$n(t,"warning","toast-warning",6e3))},info:(e,t)=>{R.info(e,$n(t,"info","toast-info",5e3))},debug:(e,t)=>{},success:(e,t)=>{R.success(e,$n(t,"success","toast-success",5e3))},trace:(e,t)=>{}},md=(e="info")=>{const t=e.toLowerCase(),r=pd[t];return r||(console.warn(`No toast function found for severity: ${t}, defaulting to 'info'`),pd.info)},r_={critical:console.error,error:console.error,warning:console.warn,info:console.log,debug:console.debug,success:console.log,trace:console.debug},gd=(e,t,r)=>{const n=`[${e.toUpperCase()}] ${t}`;(r_[e]||console.log)(n,r||"")},hr={system:e=>{const t={...e,id:dd(),timestamp:new Date,read:!1,category:"system",code:e.code||"SYSTEM_NOTIFICATION",origin:e.origin||"system",severity:e.severity||"info",message:e.message||"System notification",logToConsole:e.logToConsole??!0,showInUI:e.showInUI??!0,context:e.context||{},toastOptions:{...Xs,...e.toastOptions||{}}};return t.logToConsole&&gd(t.severity,t.message,t.context),t.showInUI&&t.toastOptions&&md(t.severity)(t.message,{...Xs,...t.toastOptions,toastId:t.code||`toast-${Date.now()}`,data:{...t.context,entity:"system",operation:t.origin}}),xl.getState().addNotification(t),t},functional:e=>{e.severity,e.origin;const t={...e,severity:e.severity||"info",entity:e.entity||"unknown",operation:e.operation||"notify",message:e.message||"No message provided",context:e.context||{},data:e.data||{},logToConsole:e.logToConsole??!0,showInUI:e.showInUI??!0,toastOptions:{...Xs,...e.toastOptions||{}}},r={...t,id:dd(),timestamp:new Date,read:!1,category:"functional",severity:t.severity};if(r.logToConsole&&gd(r.severity,`[${r.operation}] ${r.entity}: ${r.message}`,r.context),r.showInUI){const n=md(r.severity),s=r.toastOptions||{};n(r.message,{...s,"data-entity":r.entity,"data-operation":r.operation,className:`toast-${r.severity} ${s.className||""}`.trim()})}return xl.getState().addNotification(r),r},operation:(e,t,r,n={severity:"info"})=>{const s=n.severity||"info",i={...n,operation:e,entity:t,message:r,severity:s};return hr.functional(i)},notify:(e,t={})=>hr.functional({entity:"app",operation:"notify",message:e,severity:"info",context:{},logToConsole:!0,showInUI:!0,toastOptions:{...Xs,...t}}),created:(e,t,r={})=>hr.operation("create",e,t,{data:r,severity:"info",context:{action:"create",entity:e,data:r}}),updated:(e,t,r={})=>hr.operation("update",e,t,{data:r,severity:"info",context:{action:"update",entity:e,data:r}}),deleted:(e,t,r={})=>hr.operation("delete",e,t,{data:r,severity:"warning",context:{action:"delete",entity:e,data:r}}),fetched:(e,t,r={})=>hr.operation("read",e,t,{data:r,severity:"info",context:{action:"read",entity:e,data:r}})},H=hr;var n_={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function s_(e){if(typeof e=="number")return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();r.includes(".")?t=parseFloat(r):t=parseInt(r,10);var n=(e.match(/[^0-9]*$/)||"").toString();return n_[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function ro(e){var t=s_(e);return"".concat(t.value).concat(t.unit)}var i_=function(e,t,r){var n="react-spinners-".concat(e,"-").concat(r);if(typeof window>"u"||!window.document)return n;var s=document.createElement("style");document.head.appendChild(s);var i=s.sheet,a=`
    @keyframes `.concat(n,` {
      `).concat(t,`
    }
  `);return i&&i.insertRule(a,0),n},Fi=function(){return Fi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Fi.apply(this,arguments)},a_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r},o_=i_("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function l_(e){var t=e.loading,r=t===void 0?!0:t,n=e.color,s=n===void 0?"#000000":n,i=e.speedMultiplier,a=i===void 0?1:i,o=e.cssOverride,u=o===void 0?{}:o,c=e.size,d=c===void 0?15:c,f=e.margin,h=f===void 0?2:f,x=a_(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),_=Fi({display:"inherit"},u),y=function(v){return{display:"inline-block",backgroundColor:s,width:ro(d),height:ro(d),margin:ro(h),borderRadius:"100%",animation:"".concat(o_," ").concat(.7/a,"s ").concat(v%2?"0s":"".concat(.35/a,"s")," infinite linear"),animationFillMode:"both"}};return r?b.createElement("span",Fi({style:_},x),b.createElement("span",{style:y(1)}),b.createElement("span",{style:y(2)}),b.createElement("span",{style:y(3)})):null}const yd={primary:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},vd=({children:e,isLoading:t=!1,loadingText:r="Processing...",variant:n="primary",fullWidth:s=!1,disabled:i=!1,className:a="",type:o="button",...u})=>{const c="inline-flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",d=yd[n]||yd.primary,f=s?"w-full":"";return l.jsx("button",{type:o,disabled:i||t,className:`${c} ${d} ${f} ${a}`,...u,children:t?l.jsxs(l.Fragment,{children:[l.jsx(l_,{size:8,color:"#ffffff",className:"mr-2"}),r]}):e})},u_=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null),[a,o]=b.useState(""),u=$t();b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:h,error:x}=await I.from("events").select("*").order("start_date",{ascending:!1});if(x)throw x;t(h||[])}catch(h){console.error("Error fetching events:",h),H.functional({entity:"Events",operation:"read",message:"Could not load events",severity:"error",toastOptions:{autoClose:1e4},context:{error:h instanceof Error?h:new Error("Failed to fetch events")}})}finally{n(!1)}},d=async h=>{const x=e.find(_=>_.id===h);if(x&&window.confirm(`Are you sure you want to delete "${x.name}"? This will permanently delete the event and all associated data including wristbands and check-in logs.`)){i(h);try{H.functional({entity:"Event",operation:"delete",message:`Deleting "${x.name}" and all its related data...`,severity:"warning",toastOptions:{autoClose:3e3}});const _=[I.from("checkin_logs").delete().eq("event_id",h),I.from("wristbands").delete().eq("event_id",h),I.from("event_access").delete().eq("event_id",h)];await Promise.all(_);const{error:y}=await I.from("events").delete().eq("id",h);if(y)throw y;t(e.filter(v=>v.id!==h)),H.functional({entity:"Event",operation:"delete",message:`Event "${x.name}" was successfully deleted.
Note: This action cannot be undone. All related data has been removed.`,severity:"info",toastOptions:{autoClose:8e3},context:{eventId:h,eventName:x.name}})}catch(_){H.functional({entity:"Event",operation:"delete",message:`Failed to delete event "${(x==null?void 0:x.name)||"Unknown"}". Please try again.`,severity:"error",toastOptions:{autoClose:1e4},context:{eventId:h,eventName:x==null?void 0:x.name,error:_ instanceof Error?_:new Error(String(_))}})}finally{i(null)}}},f=W.useMemo(()=>e.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.location&&h.location.toLowerCase().includes(a.toLowerCase())),[e,a]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Events"}),l.jsxs(vd,{onClick:()=>u("/events/new"),variant:"primary",children:[l.jsx(yl,{size:16,className:"mr-2"}),"Create Event"]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(va,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",value:a,onChange:h=>o(h.target.value),placeholder:"Search events...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),r?l.jsx("div",{className:"animate-pulse",children:[1,2,3].map(h=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},h))}):f.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event Name"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(h=>{const x=new Date(h.start_date),_=new Date(h.end_date),y=new Date>=x&&new Date<=_,v=new Date>_;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{children:[l.jsx(Q,{to:`/events/${h.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:h.name}),y&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}),v&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Past"})]})})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[x.toLocaleDateString()," -"," ",_.toLocaleDateString()]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.location||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.total_capacity>0?h.total_capacity:"Unlimited"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx(Q,{to:`/events/${h.id}/edit`,className:"text-blue-600 hover:text-blue-900 mr-4",children:l.jsx(ya,{size:16})}),l.jsx(vd,{onClick:()=>d(h.id),variant:"danger",isLoading:s===h.id,loadingText:"Deleting...",className:"p-2 text-red-600 hover:bg-red-50 hover:text-red-900",title:"Delete event",children:l.jsx(bu,{size:18})})]})]},h.id)})})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:a?"No events found matching your search":"No events found"}),!a&&l.jsx(Q,{to:"/events/new",className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Create your first event"})]})]})]})},Cp=()=>l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),l.jsx("h2",{className:"text-lg font-medium text-gray-700",children:"Loading..."})]})}),c_=()=>{const{id:e}=Pr();$t();const[t,r]=b.useState(null),[n,s]=b.useState({totalWristbands:0,checkedIn:0,categories:[]}),[i,a]=b.useState([]),[o,u]=b.useState(!0),[c,d]=b.useState("overview"),[f,h]=b.useState(null);b.useEffect(()=>{e&&x(e)},[e]);const x=async p=>{u(!0);try{const{data:m,error:w}=await I.from("events").select("*").eq("id",p).single();if(w)throw w;r(m);const{data:k,error:S}=await I.from("wristbands").select("id, category, is_active").eq("event_id",p);if(S)throw S;const{data:j,error:C}=await I.from("checkin_logs").select("wristband_id").eq("event_id",p);if(C)throw C;const L=(k==null?void 0:k.length)||0,N=(j==null?void 0:j.length)||0,T=new Map;k==null||k.forEach(de=>{const ee=de.category||"Uncategorized",K=T.get(ee)||{total:0,checkedIn:0};K.total++,j!=null&&j.some(P=>P.wristband_id===de.id)&&K.checkedIn++,T.set(ee,K)});const $=Array.from(T.entries()).map(([de,ee])=>({name:de,total:ee.total,checkedIn:ee.checkedIn}));s({totalWristbands:L,checkedIn:N,categories:$});const{data:B,error:q}=await I.from("event_access").select(`
          id,
          access_level,
          user_id,
          granted_by,
          created_at,
          profiles!event_access_user_id_fkey (
            email,
            full_name
          ),
          grantedBy:profiles!event_access_granted_by_fkey (
            email
          )
        `).eq("event_id",p);if(q)throw q;a(B||[])}catch(m){console.error("Error fetching event details:",m);const w=m instanceof Error?m.message:"Failed to load event details";h(w)}finally{u(!1)}};if(o)return l.jsx(Cp,{});if(!t)return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Event not found"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"The event you're looking for doesn't exist or you don't have access to it."}),l.jsx(Q,{to:"/events",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Back to events"})]});const _=new Date(t.start_date),y=new Date(t.end_date),v=new Date>=_&&new Date<=y,g=new Date>y;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),v&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}),g&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Past"})]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[_.toLocaleDateString()," - ",y.toLocaleDateString(),t.location&&` • ${t.location}`]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:()=>x(e),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Bw,{size:14,className:"mr-1.5"}),"Refresh"]}),l.jsxs(Q,{to:`/events/${t.id}/edit`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(ya,{size:14,className:"mr-1.5"}),"Edit"]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex",children:[l.jsx("button",{className:`${c==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,onClick:()=>d("overview"),children:"Overview"}),l.jsx("button",{className:`${c==="wristbands"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,onClick:()=>d("wristbands"),children:"Wristbands"}),l.jsx("button",{className:`${c==="access"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,onClick:()=>d("access"),children:"User Access"})]})}),l.jsxs("div",{className:"p-6",children:[c==="overview"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Event Details"}),l.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:_.toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"End Date"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:y.toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Location"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.location||"-"})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Capacity"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.total_capacity>0?t.total_capacity:"Unlimited"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.description||"-"})]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Statistics"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Wristbands"}),l.jsx("p",{className:"mt-1 text-3xl font-semibold text-blue-900",children:n.totalWristbands})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm font-medium text-green-800",children:"Checked In"}),l.jsx("p",{className:"mt-1 text-3xl font-semibold text-green-900",children:n.checkedIn})]}),l.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Check-in Rate"}),l.jsx("p",{className:"mt-1 text-3xl font-semibold text-amber-900",children:n.totalWristbands>0?`${Math.round(n.checkedIn/n.totalWristbands*100)}%`:"-"})]})]})]}),n.categories.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Category Breakdown"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Checked In"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-in Rate"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.categories.map(p=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.total}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.checkedIn}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.checkedIn}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.total>0?`${Math.round(p.checkedIn/p.total*100)}%`:"-"})]},p.name))})]})})]})]}),c==="wristbands"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Wristbands"}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(Q,{to:`/wristbands/new?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Add Wristband"}),l.jsxs(Q,{to:`/wristbands/bulk?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Ep,{size:16,className:"mr-2"}),"Bulk Upload"]}),l.jsxs(Q,{to:`/wristbands/export?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(_u,{size:16,className:"mr-2"}),"Export"]})]})]}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:l.jsx(Q,{to:`/wristbands?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Manage Wristbands"})})]}),c==="access"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"User Access"}),l.jsxs(Q,{to:`/access/new?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(xa,{size:16,className:"mr-2"}),"Grant Access"]})]}),i.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access Level"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Granted By"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Granted On"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(p=>{var m,w,k;return l.jsxs("tr",{children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:((m=p.profiles)==null?void 0:m.full_name)||"Unnamed User"}),l.jsx("div",{className:"text-sm text-gray-500",children:(w=p.profiles)==null?void 0:w.email})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.access_level==="owner"?"bg-purple-100 text-purple-800":p.access_level==="admin"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:p.access_level})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((k=p.grantedBy)==null?void 0:k.email)||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsx(Q,{to:`/access/${p.id}/edit`,className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},p.id)})})]})}):l.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"No users have been granted access to this event yet."}),l.jsx(Q,{to:`/access/new?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Grant access to users"})]})]})]})]})]})},Tp=({isEdit:e=!1})=>{const{id:t}=Pr(),r=$t(),[n,s]=b.useState(!1),[i,a]=b.useState({name:"",description:"",start_date:"",end_date:"",location:"",is_public:!1});b.useEffect(()=>{e&&t&&o()},[t,e]);const o=async()=>{try{s(!0);const{data:d,error:f}=await I.from("events").select("*").eq("id",t).single();if(f)throw f;d&&a(h=>({...h,...d,start_date:d.start_date?new Date(d.start_date).toISOString().slice(0,16):"",end_date:d.end_date?new Date(d.end_date).toISOString().slice(0,16):""}))}catch(d){console.error("Error:",d),R.error("Failed to load event")}finally{s(!1)}},u=d=>{const{name:f,value:h,type:x}=d.target;a(_=>({..._,[f]:x==="checkbox"?d.target.checked:h}))},c=async d=>{var x;if(d.preventDefault(),!i.name){H.functional({entity:"event",operation:"create",message:"Please provide a name for the event",severity:"error",technicalDetails:"Validation failed: Event name is required",showInUI:!0,logToConsole:!0});return}if(!i.start_date){H.functional({entity:"event",operation:"create",message:"Please select a start date for the event",severity:"error",technicalDetails:"Validation failed: Start date is required",showInUI:!0,logToConsole:!0});return}if(!i.end_date){H.functional({entity:"event",operation:"create",message:"Please select an end date for the event",severity:"error",technicalDetails:"Validation failed: End date is required",showInUI:!0,logToConsole:!0});return}const f=new Date(i.start_date),h=new Date(i.end_date);if(isNaN(f.getTime())||isNaN(h.getTime())){H.functional({entity:"event",operation:"create",message:"Please enter valid dates in the correct format",severity:"error",technicalDetails:"Validation failed: Invalid date format",showInUI:!0,logToConsole:!0});return}if(h<=f){H.functional({entity:"event",operation:"create",message:"End date must be after the start date",severity:"error",technicalDetails:"Validation failed: Invalid date range",showInUI:!0,logToConsole:!0});return}s(!0);try{const _={...i,start_date:f.toISOString(),end_date:h.toISOString()},{data:y,error:v}=e&&t?await I.from("events").update(_).eq("id",t).select():await I.from("events").insert([{..._,created_by:(x=(await I.auth.getUser()).data.user)==null?void 0:x.id}]).select();if(v)throw v.code==="23505"?new Error("An event with this name already exists"):v.code==="42501"?new Error("You do not have permission to perform this action"):v.code==="PGRST116"?new Error("Required fields are missing"):v;if(y&&y.length>0)e?H.updated("event",`Event "${i.name}" updated successfully`):H.created("event",`Event "${i.name}" created successfully`),setTimeout(()=>{r("/events",{state:{message:`Event "${i.name}" successfully ${e?"updated":"created"}`,timestamp:Date.now()}})},500);else throw new Error("No data returned from the server")}catch(_){let y="An unknown error occurred",v="";if(_ instanceof Error){if(y=_.message,"code"in _)switch(v=String(_.code),_.code){case"23505":y="An event with this name already exists";break;case"42501":y="You do not have permission to perform this action";break;case"PGRST116":y="Required fields are missing";break}}else typeof _=="string"?y=_:_&&typeof _=="object"&&"message"in _&&(y=String(_.message));const g=`Could not ${e?"update":"create"} event`;H.system({message:g,origin:"EventForm",severity:"error",code:v,context:{message:g,error:_ instanceof Error?_:new Error(y),formData:void 0}})}finally{s(!1)}};return n&&e?l.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):l.jsx("div",{className:"max-w-3xl mx-auto p-6",children:l.jsxs("form",{onSubmit:c,className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-xl font-semibold",children:e?"Edit Event":"New Event"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Name *"}),l.jsx("input",{type:"text",name:"name",value:i.name,onChange:u,className:"w-full p-2 border rounded",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),l.jsx("textarea",{name:"description",value:i.description,onChange:u,className:"w-full p-2 border rounded",rows:3})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date/Time *"}),l.jsx("input",{type:"datetime-local",name:"start_date",value:i.start_date,onChange:u,className:"w-full p-2 border rounded",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date/Time *"}),l.jsx("input",{type:"datetime-local",name:"end_date",value:i.end_date,min:i.start_date,onChange:u,className:"w-full p-2 border rounded",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),l.jsx("input",{type:"text",name:"location",value:i.location,onChange:u,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"is_public",checked:i.is_public,onChange:u,className:"h-4 w-4 rounded"}),l.jsx("label",{className:"ml-2 text-sm",children:"Make event public"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-4 py-2 border rounded",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",disabled:n,children:n?"Saving...":"Save Event"})]})]})})},d_=()=>l.jsx(Tp,{}),f_=()=>{const{id:e}=Pr();return l.jsx(Tp,{isEdit:!0})},h_=()=>{const[e]=Qh(),t=e.get("eventId"),[r,n]=b.useState([]),[s,i]=b.useState([]),[a,o]=b.useState(t),[u,c]=b.useState(null),[d,f]=b.useState([]),[h,x]=b.useState(""),[_,y]=b.useState(!0),[v,g]=b.useState(1),[p,m]=b.useState(0),w=50;b.useEffect(()=>{k(),a&&(S(a),j(a,u,1))},[a,u]);const k=async()=>{try{const{data:T,error:$}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if($)throw $;i(T||[]),!a&&T&&T.length>0&&o(T[0].id)}catch(T){console.error("Error fetching events:",T)}},S=async T=>{try{const{data:$,error:B}=await I.from("wristbands").select("category").eq("event_id",T).order("category");if(B)throw B;const q=[...new Set($==null?void 0:$.map(de=>de.category))];f(q)}catch($){console.error("Error fetching categories:",$)}},j=async(T,$,B)=>{y(!0);try{let q=I.from("wristbands").select("*",{count:"exact"}).eq("event_id",T).order("created_at",{ascending:!1}).range((B-1)*w,B*w-1);$&&(q=q.eq("category",$)),h&&(q=q.ilike("nfc_id",`%${h}%`));const{data:de,count:ee,error:K}=await q;if(K)throw K;n(de||[]),m(ee||0),g(B)}catch(q){console.error("Error fetching wristbands:",q)}finally{y(!1)}},C=async T=>{if(window.confirm("Are you sure you want to delete this wristband?"))try{const{count:$}=await I.from("checkin_logs").select("id",{count:"exact",head:!0}).eq("wristband_id",T);if($&&$>0){if(!window.confirm("This wristband has check-in records. Deleting it will also delete all check-in records. Continue?"))return;await I.from("checkin_logs").delete().eq("wristband_id",T)}const{error:B}=await I.from("wristbands").delete().eq("id",T);if(B)throw B;n(r.filter(q=>q.id!==T)),m(q=>q-1)}catch($){console.error("Error deleting wristband:",$),alert("Failed to delete wristband. Please try again.")}},L=T=>{T.preventDefault(),a&&j(a,u,1)},N=Math.ceil(p/w);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Wristbands"}),l.jsxs(Q,{to:a?`/wristbands/new?event_id=${a}`:"/wristbands/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(vl,{size:16,className:"mr-2"}),"Register Wristband"]}),l.jsx("div",{className:"flex space-x-3",children:a&&l.jsxs(l.Fragment,{children:[l.jsxs(Q,{to:`/wristbands/new?eventId=${a}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(vl,{size:16,className:"mr-2"}),"Add Wristband"]}),l.jsxs(Q,{to:`/wristbands/bulk?eventId=${a}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Ep,{size:16,className:"mr-2"}),"Bulk Upload"]}),l.jsxs(Q,{to:`/wristbands/export?eventId=${a}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(_u,{size:16,className:"mr-2"}),"Export"]})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[l.jsxs("div",{className:"w-full md:w-1/3",children:[l.jsx("label",{htmlFor:"event-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Event"}),l.jsxs("select",{id:"event-select",value:a||"",onChange:T=>o(T.target.value||null),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[l.jsx("option",{value:"",children:"Select an event"}),s.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})]}),d.length>0&&l.jsxs("div",{className:"w-full md:w-1/3",children:[l.jsx("label",{htmlFor:"category-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Category"}),l.jsxs("select",{id:"category-select",value:u||"",onChange:T=>c(T.target.value||null),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[l.jsx("option",{value:"",children:"All Categories"}),d.map(T=>l.jsx("option",{value:T,children:T},T))]})]}),l.jsxs("div",{className:"w-full md:w-1/3",children:[l.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by NFC ID"}),l.jsx("form",{onSubmit:L,children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",id:"search",value:h,onChange:T=>x(T.target.value),placeholder:"Search...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(va,{size:18,className:"text-gray-400"})}),l.jsx("button",{type:"submit",className:"absolute inset-y-0 right-0 px-3 flex items-center bg-blue-600 rounded-r-md text-white",children:"Search"})]})})]})]})}),a?_?l.jsx("div",{className:"animate-pulse",children:[1,2,3,4,5].map(T=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},T))}):r.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NFC ID"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(T=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.nfc_id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.category}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.is_active?"Active":"Inactive"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.created_at).toLocaleDateString()}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx(Q,{to:`/wristbands/${T.id}/edit`,className:"text-blue-600 hover:text-blue-900 mr-4",children:l.jsx(ya,{size:16})}),l.jsx("button",{onClick:()=>C(T.id),className:"text-red-600 hover:text-red-900",children:l.jsx(bu,{size:16})})]})]},T.id))})]})}),N>1&&l.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",l.jsx("span",{className:"font-medium",children:(v-1)*w+1})," ","to"," ",l.jsx("span",{className:"font-medium",children:Math.min(v*w,p)})," ","of ",l.jsx("span",{className:"font-medium",children:p})," results"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>j(a,u,v-1),disabled:v<=1,className:`px-3 py-1 border rounded ${v<=1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),l.jsx("button",{onClick:()=>j(a,u,v+1),disabled:v>=N,className:`px-3 py-1 border rounded ${v>=N?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Next"})]})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:h||u?"No wristbands found matching your criteria":"No wristbands found for this event"}),l.jsx(Q,{to:`/wristbands/new?eventId=${a}`,className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Add your first wristband"})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"Please select an event to view wristbands"})})]})]})},Pp=({isEdit:e=!1})=>{const{id:t}=Pr(),r=It(),n=$t(),[s,i]=b.useState(!1),[a,o]=b.useState([]),[u,c]=b.useState({nfc_id:"",category:"general",is_active:!0,event_id:"",notes:""});b.useEffect(()=>{if(d(),e&&t)f();else{const v=new URLSearchParams(r.search).get("event_id");v&&c(g=>({...g,event_id:v}))}},[t,e,r.search]);const d=async()=>{try{const{data:y,error:v}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(v)throw v;o(y||[])}catch(y){console.error("Error fetching events:",y),R.error("Failed to load events")}},f=async()=>{try{i(!0);const{data:y,error:v}=await I.from("wristbands").select("*").eq("id",t).single();if(v)throw v;y&&c({nfc_id:y.nfc_id,category:y.category||"general",is_active:y.is_active,event_id:y.event_id,notes:y.notes||""})}catch(y){console.error("Error fetching wristband:",y),R.error("Failed to load wristband data")}finally{i(!1)}},h=y=>{const{name:v,value:g,type:p}=y.target,m=p==="checkbox"?y.target.checked:void 0;c(w=>({...w,[v]:p==="checkbox"?m:g}))},x=()=>u.nfc_id.trim()?u.event_id?!0:(R.error("Event is required"),!1):(R.error("NFC ID is required"),!1),_=async y=>{var v;if(y.preventDefault(),!!x()){i(!0);try{if(e&&t){const{error:g}=await I.from("wristbands").update(u).eq("id",t);if(g)throw g;R.success("Wristband updated successfully")}else{const{error:g}=await I.from("wristbands").insert([{...u,created_by:(v=(await I.auth.getUser()).data.user)==null?void 0:v.id}]);if(g)throw g;R.success("Wristband created successfully")}n(u.event_id?`/wristbands?event_id=${u.event_id}`:"/wristbands")}catch(g){console.error(`Error ${e?"updating":"creating"} wristband:`,g),R.error(`Failed to ${e?"update":"create"} wristband`)}finally{i(!1)}}};return s&&e?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-5 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:e?"Edit Wristband":"Register New Wristband"})}),l.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"nfc_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["NFC ID ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"nfc_id",name:"nfc_id",value:u.nfc_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 font-mono",placeholder:"Enter NFC ID",required:!0,disabled:e})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"event_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Event ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{id:"event_id",name:"event_id",value:u.event_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:!!new URLSearchParams(r.search).get("event_id"),children:[l.jsx("option",{value:"",children:"Select an event"}),a.map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),l.jsxs("select",{id:"category",name:"category",value:u.category,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"general",children:"General"}),l.jsx("option",{value:"vip",children:"VIP"}),l.jsx("option",{value:"staff",children:"Staff"}),l.jsx("option",{value:"media",children:"Media"}),l.jsx("option",{value:"vendor",children:"Vendor"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),l.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:h,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional notes"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:u.is_active,onChange:h,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700",children:"Active (can be used for check-ins)"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:s,children:"Cancel"}),l.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:s,children:s?"Saving...":e?"Update Wristband":"Register Wristband"})]})]})]})})},p_=()=>l.jsx(Pp,{}),m_=()=>{const{id:e}=Pr();return l.jsx(Pp,{isEdit:!0})},g_=()=>{const[e]=Qh(),t=e.get("eventId"),[r,n]=b.useState([]),[s,i]=b.useState([]),[a,o]=b.useState(t),[u,c]=b.useState(""),[d,f]=b.useState({start:null,end:null}),[h,x]=b.useState(!0),[_,y]=b.useState(1),[v,g]=b.useState(0),p=50;b.useEffect(()=>{m(),a&&w(a,1)},[a]);const m=async()=>{try{const{data:N,error:T}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(T)throw T;i(N||[]),!a&&N&&N.length>0&&o(N[0].id)}catch(N){console.error("Error fetching events:",N)}},w=async(N,T)=>{x(!0);try{let $=I.from("checkin_logs").select(`
          *,
          wristbands (
            nfc_id,
            category
          ),
          staff:profiles!checkin_logs_staff_id_fkey (
            email,
            full_name
          )
        `,{count:"exact"}).eq("event_id",N).order("timestamp",{ascending:!1}).range((T-1)*p,T*p-1);if(u&&($=$.or(`wristbands.nfc_id.ilike.%${u}%,wristbands.category.ilike.%${u}%`)),d.start&&($=$.gte("timestamp",d.start)),d.end){const ee=new Date(d.end);ee.setDate(ee.getDate()+1),$=$.lt("timestamp",ee.toISOString())}const{data:B,count:q,error:de}=await $;if(de)throw de;n(B||[]),g(q||0),y(T)}catch($){console.error("Error fetching check-ins:",$)}finally{x(!1)}},k=N=>{N.preventDefault(),a&&w(a,1)},S=(N,T)=>{f($=>({...$,[N]:T||null}))},j=()=>{a&&w(a,1)},C=async()=>{if(a)try{let N=I.from("checkin_logs").select(`
          id,
          timestamp,
          location,
          notes,
          wristbands (
            nfc_id,
            category
          ),
          staff:profiles!checkin_logs_staff_id_fkey (
            email,
            full_name
          )
        `).eq("event_id",a).order("timestamp",{ascending:!1});if(u&&(N=N.or(`wristbands.nfc_id.ilike.%${u}%,wristbands.category.ilike.%${u}%`)),d.start&&(N=N.gte("timestamp",d.start)),d.end){const K=new Date(d.end);K.setDate(K.getDate()+1),N=N.lt("timestamp",K.toISOString())}const{data:T,error:$}=await N.select(`
          *,
          wristbands (nfc_id, category),
          staff:profiles (email, full_name)
        `);if($)throw $;if(!T||T.length===0){alert("No check-ins to export");return}let B=`Timestamp,NFC ID,Category,Location,Staff,Notes
`;T.forEach(K=>{var ut,$r,ct,or;const P=new Date(K.timestamp).toLocaleString(),D=((ut=K.wristbands)==null?void 0:ut.nfc_id)||"",U=(($r=K.wristbands)==null?void 0:$r.category)||"",re=K.location||"",ue=((ct=K.staff)==null?void 0:ct.full_name)||((or=K.staff)==null?void 0:or.email)||"",Ir=K.notes?`"${K.notes.replace(/"/g,'""')}"`:"";B+=`${P},${D},${U},${re},${ue},${Ir}
`});const q=new Blob([B],{type:"text/csv;charset=utf-8"}),de=URL.createObjectURL(q),ee=document.createElement("a");ee.href=de,ee.setAttribute("download",`checkins_${new Date().toISOString()}.csv`),document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(de)}catch(N){console.error("Error exporting check-ins:",N),alert("Failed to export check-ins")}},L=Math.ceil(v/p);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Check-in Logs"}),a&&l.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(_u,{size:16,className:"mr-2"}),"Export to CSV"]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"event-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Event"}),l.jsxs("select",{id:"event-select",value:a||"",onChange:N=>o(N.target.value||null),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[l.jsx("option",{value:"",children:"Select an event"}),s.map(N=>l.jsx("option",{value:N.id,children:N.name},N.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),l.jsx("input",{type:"date",id:"start-date",value:d.start||"",onChange:N=>S("start",N.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),l.jsx("input",{type:"date",id:"end-date",value:d.end||"",onChange:N=>S("end",N.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("form",{onSubmit:k,children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:u,onChange:N=>c(N.target.value),placeholder:"Search by NFC ID or category...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(va,{size:18,className:"text-gray-400"})}),l.jsx("button",{type:"submit",className:"absolute inset-y-0 right-0 px-3 flex items-center bg-blue-600 rounded-r-md text-white",children:"Search"})]})})}),l.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Aw,{size:16,className:"mr-2"}),"Apply Filters"]})]})]})}),a?h?l.jsx("div",{className:"animate-pulse",children:[1,2,3,4,5].map(N=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},N))}):r.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NFC ID"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(N=>{var T,$,B,q;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.timestamp).toLocaleString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:((T=N.wristbands)==null?void 0:T.nfc_id)||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:(($=N.wristbands)==null?void 0:$.category)||"Unknown"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.location||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((B=N.staff)==null?void 0:B.full_name)||((q=N.staff)==null?void 0:q.email)||"N/A"}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:N.notes||"-"})]},N.id)})})]})}),L>1&&l.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",l.jsx("span",{className:"font-medium",children:(_-1)*p+1})," ","to"," ",l.jsx("span",{className:"font-medium",children:Math.min(_*p,v)})," ","of ",l.jsx("span",{className:"font-medium",children:v})," results"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>w(a,_-1),disabled:_<=1,className:`px-3 py-1 border rounded ${_<=1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),l.jsx("button",{onClick:()=>w(a,_+1),disabled:_>=L,className:`px-3 py-1 border rounded ${_>=L?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Next"})]})]})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 text-sm",children:u||d.start||d.end?"No check-ins found matching your criteria":"No check-ins found for this event"})}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"Please select an event to view check-in logs"})})]})]})},y_=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState(null),[a,o]=b.useState(""),[u,c]=b.useState(!0);b.useEffect(()=>{d()},[]),b.useEffect(()=>{s?h(s):f()},[s]);const d=async()=>{try{const{data:y,error:v}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(v)throw v;n(y||[])}catch(y){console.error("Error fetching events:",y)}},f=async()=>{c(!0);try{const{data:y,error:v}=await I.from("event_access").select(`
          id,
          access_level,
          user_id,
          event_id,
          granted_by,
          created_at,
          events (
            name
          ),
          profiles!event_access_user_id_fkey (
            email,
            full_name
          ),
          grantedBy:profiles!event_access_granted_by_fkey (
            email,
            full_name
          )
        `).order("created_at",{ascending:!1});if(v)throw v;t(y||[])}catch(y){console.error("Error fetching access list:",y)}finally{c(!1)}},h=async y=>{c(!0);try{const{data:v,error:g}=await I.from("event_access").select(`
          id,
          access_level,
          user_id,
          event_id,
          granted_by,
          created_at,
          events (
            name
          ),
          profiles!event_access_user_id_fkey (
            email,
            full_name
          ),
          grantedBy:profiles!event_access_granted_by_fkey (
            email,
            full_name
          )
        `).eq("event_id",y).order("created_at",{ascending:!1});if(g)throw g;t(v||[])}catch(v){console.error("Error fetching access list:",v)}finally{c(!1)}},x=async y=>{if(window.confirm("Are you sure you want to revoke this access?"))try{const{error:v}=await I.from("event_access").delete().eq("id",y);if(v)throw v;t(e.filter(g=>g.id!==y))}catch(v){console.error("Error deleting access:",v),alert("Failed to revoke access. Please try again.")}},_=a?e.filter(y=>{var v,g,p;return((v=y.profiles)==null?void 0:v.email)&&y.profiles.email.toLowerCase().includes(a.toLowerCase())||((g=y.profiles)==null?void 0:g.full_name)&&y.profiles.full_name.toLowerCase().includes(a.toLowerCase())||((p=y.events)==null?void 0:p.name)&&y.events.name.toLowerCase().includes(a.toLowerCase())}):e;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Management"}),l.jsxs(Q,{to:s?`/access/new?event_id=${s}`:"/access/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(xa,{size:16,className:"mr-2"}),"Grant Access"]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"event-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Event"}),l.jsxs("select",{id:"event-select",value:s||"",onChange:y=>i(y.target.value||null),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[l.jsx("option",{value:"",children:"All Events"}),r.map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",id:"search",value:a,onChange:y=>o(y.target.value),placeholder:"Search by user or event name...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(va,{size:18,className:"text-gray-400"})})]})]})]})}),u?l.jsx("div",{className:"animate-pulse",children:[1,2,3].map(y=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},y))}):_.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access Level"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Granted By"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Granted On"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(y=>{var v,g,p,m,w;return l.jsxs("tr",{children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:((v=y.profiles)==null?void 0:v.full_name)||"Unnamed User"}),l.jsx("div",{className:"text-sm text-gray-500",children:(g=y.profiles)==null?void 0:g.email})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(p=y.events)==null?void 0:p.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.access_level==="owner"?"bg-purple-100 text-purple-800":y.access_level==="admin"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:y.access_level})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((m=y.grantedBy)==null?void 0:m.full_name)||((w=y.grantedBy)==null?void 0:w.email)||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.created_at).toLocaleDateString()}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx(Q,{to:`/access/${y.id}/edit`,className:"text-blue-600 hover:text-blue-900 mr-4",children:l.jsx(ya,{size:16})}),l.jsx("button",{onClick:()=>x(y.id),className:"text-red-600 hover:text-red-900",children:l.jsx(bu,{size:16})})]})]},y.id)})})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:a||s?"No access records found matching your criteria":"No access records found"}),l.jsx(Q,{to:"/access/new",className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Grant access to users"})]})]})]})},Op=({isEdit:e=!1})=>{const{id:t}=Pr(),r=It(),n=$t(),[s,i]=b.useState(!1),[a,o]=b.useState([]),[u,c]=b.useState({user_email:"",event_id:"",role:"scanner"});b.useEffect(()=>{d(),e&&t&&f();const v=new URLSearchParams(r.search).get("event_id");v&&c(g=>({...g,event_id:v}))},[t,e,r.search]);const d=async()=>{try{const{data:v,error:g}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(g)throw g;o(v||[])}catch(v){console.error("Error fetching events:",v),R.error("Failed to load events")}},f=async()=>{var v;try{i(!0);const{data:g,error:p}=await I.from("event_access").select("*, user:user_id(id, email)").eq("id",t).single();if(p)throw p;g&&c({user_email:((v=g.user)==null?void 0:v.email)||"",event_id:g.event_id,role:g.role})}catch(g){console.error("Error fetching access:",g),R.error("Failed to load access data")}finally{i(!1)}},h=v=>{const{name:g,value:p}=v.target;c(m=>({...m,[g]:p}))},x=async v=>{if(v.preventDefault(),!u.user_email||!u.event_id){R.error("Please fill in all required fields");return}i(!0);try{const{data:g,error:p}=await I.from("users").select("id").eq("email",u.user_email.trim()).single();if(p||!g)throw new Error("User not found");e&&t?await _(g.id):await y(g.id),n(u.event_id?`/access?event_id=${u.event_id}`:"/access")}catch(g){console.error("Error:",g),R.error(g.message||"An error occurred")}finally{i(!1)}},_=async v=>{const{error:g}=await I.from("event_access").update({user_id:v,event_id:u.event_id,role:u.role,updated_at:new Date().toISOString()}).eq("id",t);if(g)throw g;R.success("Access updated successfully")},y=async v=>{var p;const{error:g}=await I.from("event_access").insert([{user_id:v,event_id:u.event_id,role:u.role,created_by:(p=(await I.auth.getUser()).data.user)==null?void 0:p.id}]);if(g)throw g;R.success("Access granted successfully")};return s&&e?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-5 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:e?"Edit Access":"Grant Access"})}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"user_email",className:"block text-sm font-medium text-gray-700 mb-1",children:["User Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",id:"user_email",name:"user_email",value:u.user_email,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter user's email",required:!0,disabled:e})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"event_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Event ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{id:"event_id",name:"event_id",value:u.event_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:!!new URLSearchParams(r.search).get("event_id"),children:[l.jsx("option",{value:"",children:"Select an event"}),a.map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{id:"role",name:"role",value:u.role,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[l.jsx("option",{value:"scanner",children:"Scanner"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:s,children:"Cancel"}),l.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:s,children:s?"Saving...":e?"Update Access":"Grant Access"})]})]})]})})},v_=()=>l.jsx(Op,{}),x_=()=>{const{id:e}=Pr();return l.jsx(Op,{isEdit:!0})},w_=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState("account"),[a,o]=b.useState(null),[u,c]=b.useState(null),[d,f]=b.useState({email:"",full_name:"",phone:""}),[h,x]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""});b.useEffect(()=>{_()},[]);const _=async()=>{try{t(!0);const{data:{user:m}}=await I.auth.getUser();if(!m)throw new Error("No user found");const{data:w,error:k}=await I.from("profiles").select("*").eq("id",m.id).single();if(k)throw k;c(w),f({full_name:w.full_name||"",email:m.email||"",phone:w.phone||""})}catch(m){console.error("Error fetching profile:",m);const w="Failed to load profile";H.system({message:w,origin:"SettingsPage",severity:"error",context:{message:w,error:m instanceof Error?m:new Error("Unknown error fetching profile"),technicalDetails:"Failed to fetch profile"}})}finally{t(!1)}},y=m=>{const{name:w,value:k}=m.target;f(S=>({...S,[w]:k}))},v=m=>{const{name:w,value:k}=m.target;x(S=>({...S,[w]:k}))},g=async m=>{m.preventDefault();try{t(!0);const{data:{user:w}}=await I.auth.getUser();if(!w)throw new Error("No user found");const{error:k}=await I.from("profiles").update({full_name:d.full_name,phone:d.phone,updated_at:new Date().toISOString()}).eq("id",w.id);if(k)throw k;if(d.email!==w.email){const{error:S}=await I.auth.updateUser({email:d.email},{emailRedirectTo:`${window.location.origin}/settings`});if(S)throw S}await _(),H.updated("profile","Profile information updated successfully")}catch(w){console.error("Error updating profile:",w);const k="Could not update profile";H.system({message:k,origin:"SettingsPage",severity:"error",context:{message:k,error:w instanceof Error?w:new Error("Failed to update profile"),formData:void 0}})}finally{t(!1)}},p=async m=>{if(m.preventDefault(),h.newPassword!==h.confirmPassword){H.functional({entity:"password",operation:"update",message:"New password and confirmation do not match",severity:"error",technicalDetails:"Validation failed: Passwords do not match",showInUI:!0,logToConsole:!0});return}if(h.newPassword.length<8){H.functional({entity:"password",operation:"update",message:"Password must be at least 8 characters long",severity:"error",technicalDetails:"Validation failed: Password too short",showInUI:!0,logToConsole:!0});return}try{if(n(!0),h.currentPassword){const{error:k}=await I.auth.signInWithPassword({email:(u==null?void 0:u.email)||"",password:h.currentPassword});if(k)throw new Error("Current password is incorrect")}const{error:w}=await I.auth.updateUser({password:h.newPassword});if(w)throw w;x({currentPassword:"",newPassword:"",confirmPassword:""}),H.updated("password","Password updated successfully")}catch(w){console.error("Error updating password:",w);const k="Could not update password";H.system({message:k,origin:"SettingsPage",severity:"error",context:{message:k,error:w instanceof Error?w:new Error("Failed to update password")}})}finally{n(!1)}};return e&&!u?l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Settings"}),l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex -mb-px",children:[l.jsx("button",{onClick:()=>i("account"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${s==="account"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,type:"button",children:"Account"}),l.jsx("button",{onClick:()=>i("password"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${s==="password"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,type:"button",children:"Change Password"})]})}),l.jsx("div",{className:"p-6",children:s==="account"?l.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{type:"email",name:"email",id:"email",value:d.email,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:e})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{type:"text",name:"full_name",id:"full_name",value:d.full_name,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:e})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone",id:"phone",value:d.phone,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:e})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:e,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Saving...":"Save Changes"})})]}):l.jsxs("form",{onSubmit:m=>{m.preventDefault(),p(m)},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),l.jsx("input",{type:"password",name:"currentPassword",id:"currentPassword",value:h.currentPassword,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:r,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),l.jsx("input",{type:"password",name:"newPassword",id:"newPassword",value:h.newPassword,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:r,minLength:8,required:!0}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters long"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),l.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:h.confirmPassword,onChange:v,className:`mt-1 block w-full rounded-md shadow-sm sm:text-sm ${h.newPassword&&h.confirmPassword&&h.newPassword!==h.confirmPassword?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,disabled:r,required:!0}),h.newPassword&&h.confirmPassword&&h.newPassword!==h.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Passwords do not match"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:r||!h.currentPassword||!h.newPassword||!h.confirmPassword||h.newPassword!==h.confirmPassword,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Updating...":"Update Password"})})]})})]})]})};var Ip={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=s(i,n(o)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var o in i)t.call(i,o)&&i[o]&&(a=s(a,o));return a}function s(i,a){return a?i?i+" "+a:i+a:i}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Ip);var __=Ip.exports;const Ee=kd(__),b_=["xxl","xl","lg","md","sm","xs"],k_="xs",wa=b.createContext({prefixes:{},breakpoints:b_,minBreakpoint:k_}),{Consumer:M1,Provider:z1}=wa;function ze(e,t){const{prefixes:r}=b.useContext(wa);return e||r[t]||t}function $p(){const{breakpoints:e}=b.useContext(wa);return e}function Rp(){const{minBreakpoint:e}=b.useContext(wa);return e}const Lp=e=>b.forwardRef((t,r)=>l.jsx("div",{...t,ref:r,className:Ee(t.className,e)})),j_=["as","disabled"];function S_(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function N_(e){return!e||e.trim()==="#"}function Dp({tagName:e,disabled:t,href:r,target:n,rel:s,role:i,onClick:a,tabIndex:o=0,type:u}){e||(r!=null||n!=null||s!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:u||"button",disabled:t},c];const d=h=>{if((t||e==="a"&&N_(r))&&h.preventDefault(),t){h.stopPropagation();return}a==null||a(h)},f=h=>{h.key===" "&&(h.preventDefault(),d(h))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:i??"button",disabled:void 0,tabIndex:t?void 0:o,href:r,target:e==="a"?n:void 0,"aria-disabled":t||void 0,rel:e==="a"?s:void 0,onClick:d,onKeyDown:f},c]}const E_=b.forwardRef((e,t)=>{let{as:r,disabled:n}=e,s=S_(e,j_);const[i,{tagName:a}]=Dp(Object.assign({tagName:r,disabled:n},s));return l.jsx(a,Object.assign({},s,i,{ref:t}))});E_.displayName="Button";const pr=b.forwardRef(({as:e,bsPrefix:t,variant:r="primary",size:n,active:s=!1,disabled:i=!1,className:a,...o},u)=>{const c=ze(t,"btn"),[d,{tagName:f}]=Dp({tagName:e,disabled:i,...o}),h=f;return l.jsx(h,{...d,...o,ref:u,disabled:i,className:Ee(a,c,s&&"active",r&&`${c}-${r}`,n&&`${c}-${n}`,o.href&&i&&"disabled")})});pr.displayName="Button";const on=b.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},s)=>(t=ze(t,"card-body"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));on.displayName="CardBody";const Ap=b.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},s)=>(t=ze(t,"card-footer"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Ap.displayName="CardFooter";const Up=b.createContext(null);Up.displayName="CardHeaderContext";const Yn=b.forwardRef(({bsPrefix:e,className:t,as:r="div",...n},s)=>{const i=ze(e,"card-header"),a=b.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return l.jsx(Up.Provider,{value:a,children:l.jsx(r,{ref:s,...n,className:Ee(t,i)})})});Yn.displayName="CardHeader";const Mp=b.forwardRef(({bsPrefix:e,className:t,variant:r,as:n="img",...s},i)=>{const a=ze(e,"card-img");return l.jsx(n,{ref:i,className:Ee(r?`${a}-${r}`:a,t),...s})});Mp.displayName="CardImg";const zp=b.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},s)=>(t=ze(t,"card-img-overlay"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));zp.displayName="CardImgOverlay";const Fp=b.forwardRef(({className:e,bsPrefix:t,as:r="a",...n},s)=>(t=ze(t,"card-link"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Fp.displayName="CardLink";const C_=Lp("h6"),Bp=b.forwardRef(({className:e,bsPrefix:t,as:r=C_,...n},s)=>(t=ze(t,"card-subtitle"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Bp.displayName="CardSubtitle";const Wp=b.forwardRef(({className:e,bsPrefix:t,as:r="p",...n},s)=>(t=ze(t,"card-text"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Wp.displayName="CardText";const T_=Lp("h5"),Vp=b.forwardRef(({className:e,bsPrefix:t,as:r=T_,...n},s)=>(t=ze(t,"card-title"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Vp.displayName="CardTitle";const qp=b.forwardRef(({bsPrefix:e,className:t,bg:r,text:n,border:s,body:i=!1,children:a,as:o="div",...u},c)=>{const d=ze(e,"card");return l.jsx(o,{ref:c,...u,className:Ee(t,d,r&&`bg-${r}`,n&&`text-${n}`,s&&`border-${s}`),children:i?l.jsx(on,{children:a}):a})});qp.displayName="Card";const no=Object.assign(qp,{Img:Mp,Title:Vp,Subtitle:Bp,Body:on,Link:Fp,Text:Wp,Header:Yn,Footer:Ap,ImgOverlay:zp});function P_({as:e,bsPrefix:t,className:r,...n}){t=ze(t,"col");const s=$p(),i=Rp(),a=[],o=[];return s.forEach(u=>{const c=n[u];delete n[u];let d,f,h;typeof c=="object"&&c!=null?{span:d,offset:f,order:h}=c:d=c;const x=u!==i?`-${u}`:"";d&&a.push(d===!0?`${t}${x}`:`${t}${x}-${d}`),h!=null&&o.push(`order${x}-${h}`),f!=null&&o.push(`offset${x}-${f}`)}),[{...n,className:Ee(r,...a,...o)},{as:e,bsPrefix:t,spans:a}]}const di=b.forwardRef((e,t)=>{const[{className:r,...n},{as:s="div",bsPrefix:i,spans:a}]=P_(e);return l.jsx(s,{...n,ref:t,className:Ee(r,!a.length&&i)})});di.displayName="Col";const Hp=b.forwardRef(({bsPrefix:e,fluid:t=!1,as:r="div",className:n,...s},i)=>{const a=ze(e,"container"),o=typeof t=="string"?`-${t}`:"-fluid";return l.jsx(r,{ref:i,...s,className:Ee(n,t?`${a}${o}`:a)})});Hp.displayName="Container";const Kp=b.forwardRef(({bsPrefix:e,className:t,as:r="div",...n},s)=>{const i=ze(e,"row"),a=$p(),o=Rp(),u=`${i}-cols`,c=[];return a.forEach(d=>{const f=n[d];delete n[d];let h;f!=null&&typeof f=="object"?{cols:h}=f:h=f;const x=d!==o?`-${d}`:"";h!=null&&c.push(`${u}${x}-${h}`)}),l.jsx(r,{ref:s,...n,className:Ee(t,i,...c)})});Kp.displayName="Row";function O_(){const e=()=>{H.system({message:"This is a system notification",severity:"info",origin:"test",code:"SYSTEM_NOTIFICATION",context:{details:"System notification test",test:"system"},toastOptions:{autoClose:3e3}})},t=()=>{H.operation("create","test","Operation completed successfully",{severity:"info",context:{details:"Success notification test",test:"success"},toastOptions:{autoClose:3e3}})},r=()=>{try{throw new Error("This is a test error")}catch(a){H.operation("delete","test","An error occurred",{severity:"error",context:{details:a instanceof Error?a.message:"Unknown error",error:a instanceof Error?a.stack:String(a),test:"error"},toastOptions:{autoClose:5e3}})}},n=()=>{H.operation("update","test","This is a warning",{severity:"warning",context:{details:"Warning notification test",test:"warning"},toastOptions:{autoClose:4e3}})},s=()=>{H.operation("create","test","Test item created",{severity:"info",context:{details:"Additional details about the operation",test:"functional"},data:{id:"123",name:"Test Item"},toastOptions:{autoClose:4500}})},i=()=>{H.created("Test Item","Test item was created",{id:"123"}),H.updated("Test Item","Test item was updated",{id:"123"}),H.deleted("Test Item","Test item was deleted",{id:"123"}),H.fetched("Test Items","Test items were fetched",{count:5})};return l.jsxs(Hp,{className:"py-4",children:[l.jsx("h1",{className:"mb-4",children:"Notification System Test"}),l.jsxs(Kp,{className:"g-4",children:[l.jsx(di,{md:6,lg:4,children:l.jsxs(no,{children:[l.jsx(Yn,{children:"System Notifications"}),l.jsxs(on,{children:[l.jsx(pr,{variant:"outline-primary",className:"w-100 mb-2",onClick:e,children:"Test System Notification"}),l.jsx(pr,{variant:"outline-success",className:"w-100 mb-2",onClick:t,children:"Test Success Notification"}),l.jsx(pr,{variant:"outline-danger",className:"w-100 mb-2",onClick:r,children:"Test Error Notification"}),l.jsx(pr,{variant:"outline-warning",className:"w-100",onClick:n,children:"Test Warning Notification"})]})]})}),l.jsx(di,{md:6,lg:4,children:l.jsxs(no,{children:[l.jsx(Yn,{children:"Functional Notifications"}),l.jsxs(on,{children:[l.jsx(pr,{variant:"outline-info",className:"w-100 mb-3",onClick:s,children:"Test Functional Notification"}),l.jsx(pr,{variant:"outline-secondary",className:"w-100",onClick:i,children:"Test CRUD Notifications"})]})]})}),l.jsx(di,{md:12,lg:4,children:l.jsxs(no,{children:[l.jsx(Yn,{children:"Notification Center"}),l.jsxs(on,{children:[l.jsx("p",{className:"text-muted",children:"Check the notification center (bell icon) to see all notifications. Notifications will also appear as toasts at the top-right of the screen."}),l.jsxs("p",{className:"text-muted",children:[l.jsx("strong",{children:"Note:"})," System notifications with severity 'debug' will only appear in the console."]})]})]})})]})]})}const I_=()=>{const e=[{to:"/",label:"Dashboard",icon:l.jsx(Mw,{size:20})},{to:"/events",label:"Events",icon:l.jsx(Iw,{size:20})},{to:"/wristbands",label:"Wristbands",icon:l.jsx(vl,{size:20})},{to:"/checkins",label:"Check-ins",icon:l.jsx(Lw,{size:20})},{to:"/access",label:"User Access",icon:l.jsx(xa,{size:20})}];return l.jsxs("aside",{className:"hidden md:flex md:flex-col md:w-64 bg-white border-r border-gray-200",children:[l.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-200",children:l.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Event Admin"})}),l.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:l.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:e.map(t=>l.jsxs(zc,{to:t.to,className:({isActive:r})=>`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${r?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[l.jsx("span",{className:"mr-3",children:t.icon}),t.label]},t.to))})}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs(zc,{to:"/settings",className:"flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx(Ww,{size:20,className:"mr-3"}),"Settings"]})})]})},Ys=43200,xd=1440,wd=Symbol.for("constructDateFrom");function ku(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&wd in e?e[wd](t):e instanceof Date?new e.constructor(t):new Date(t)}function $_(e){return ku(e,Date.now())}const R_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L_=(e,t,r)=>{let n;const s=R_[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function so(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const D_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},U_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M_={date:so({formats:D_,defaultWidth:"full"}),time:so({formats:A_,defaultWidth:"full"}),dateTime:so({formats:U_,defaultWidth:"full"})},z_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F_=(e,t,r,n)=>z_[e];function Rn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const B_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G_=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Q_={ordinalNumber:G_,era:Rn({values:B_,defaultWidth:"wide"}),quarter:Rn({values:W_,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rn({values:V_,defaultWidth:"wide"}),day:Rn({values:q_,defaultWidth:"wide"}),dayPeriod:Rn({values:H_,defaultWidth:"wide",formattingValues:K_,defaultFormattingWidth:"wide"})};function Ln(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?X_(o,f=>f.test(a)):J_(o,f=>f.test(a));let c;c=e.valueCallback?e.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}function J_(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function X_(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Y_(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const Z_=/^(\d+)(th|st|nd|rd)?/i,e1=/\d+/i,t1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},r1={any:[/^b/i,/^(a|c)/i]},n1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},s1={any:[/1/i,/2/i,/3/i,/4/i]},i1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},a1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},o1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},l1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},u1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},d1={ordinalNumber:Y_({matchPattern:Z_,parsePattern:e1,valueCallback:e=>parseInt(e,10)}),era:Ln({matchPatterns:t1,defaultMatchWidth:"wide",parsePatterns:r1,defaultParseWidth:"any"}),quarter:Ln({matchPatterns:n1,defaultMatchWidth:"wide",parsePatterns:s1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ln({matchPatterns:i1,defaultMatchWidth:"wide",parsePatterns:a1,defaultParseWidth:"any"}),day:Ln({matchPatterns:o1,defaultMatchWidth:"wide",parsePatterns:l1,defaultParseWidth:"any"}),dayPeriod:Ln({matchPatterns:u1,defaultMatchWidth:"any",parsePatterns:c1,defaultParseWidth:"any"})},f1={code:"en-US",formatDistance:L_,formatLong:M_,formatRelative:F_,localize:Q_,match:d1,options:{weekStartsOn:0,firstWeekContainsDate:1}};let h1={};function p1(){return h1}function rr(e,t){return ku(e,e)}function _d(e){const t=rr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ju(e,...t){const r=ku.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function fi(e,t){const r=+rr(e)-+rr(t);return r<0?-1:r>0?1:r}function m1(e,t,r){const[n,s]=ju(r==null?void 0:r.in,e,t),i=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return i*12+a}function g1(e,t){const r=rr(e);return r.setHours(23,59,59,999),r}function y1(e,t){const r=rr(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function v1(e,t){const r=rr(e);return+g1(r)==+y1(r)}function x1(e,t,r){const[n,s,i]=ju(r==null?void 0:r.in,e,e,t),a=fi(s,i),o=Math.abs(m1(s,i));if(o<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let u=fi(s,i)===-a;v1(n)&&o===1&&fi(n,i)===1&&(u=!1);const c=a*(o-+u);return c===0?0:c}function w1(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function _1(e,t){return+rr(e)-+rr(t)}function b1(e,t,r){const n=_1(e,t)/1e3;return w1(r==null?void 0:r.roundingMethod)(n)}function k1(e,t,r){const n=p1(),s=(r==null?void 0:r.locale)??n.locale??f1,i=2520,a=fi(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a}),[u,c]=ju(r==null?void 0:r.in,...a>0?[t,e]:[e,t]),d=b1(c,u),f=(_d(c)-_d(u))/1e3,h=Math.round((d-f)/60);let x;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,o):d<10?s.formatDistance("lessThanXSeconds",10,o):d<20?s.formatDistance("lessThanXSeconds",20,o):d<40?s.formatDistance("halfAMinute",0,o):d<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):h===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",h,o);if(h<45)return s.formatDistance("xMinutes",h,o);if(h<90)return s.formatDistance("aboutXHours",1,o);if(h<xd){const _=Math.round(h/60);return s.formatDistance("aboutXHours",_,o)}else{if(h<i)return s.formatDistance("xDays",1,o);if(h<Ys){const _=Math.round(h/xd);return s.formatDistance("xDays",_,o)}else if(h<Ys*2)return x=Math.round(h/Ys),s.formatDistance("aboutXMonths",x,o)}if(x=x1(c,u),x<12){const _=Math.round(h/Ys);return s.formatDistance("xMonths",_,o)}else{const _=x%12,y=Math.trunc(x/12);return _<3?s.formatDistance("aboutXYears",y,o):_<9?s.formatDistance("overXYears",y,o):s.formatDistance("almostXYears",y+1,o)}}function j1(e,t){return k1(e,$_(e),t)}const S1=()=>{const[e,t]=b.useState(!1),{notifications:r,unreadCount:n,markAsRead:s,markAllAsRead:i,removeNotification:a}=xl(),o=b.useRef(null);b.useEffect(()=>{function d(f){o.current&&!o.current.contains(f.target)&&t(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const u=d=>{const f="w-5 h-5 mr-2";if(d.category==="system")switch(d.severity){case"error":case"critical":return l.jsx(qw,{className:`${f} text-red-500`});case"warning":return l.jsx(Pw,{className:`${f} text-yellow-500`});case"info":case"debug":default:return l.jsx(Uw,{className:`${f} text-blue-500`})}else return l.jsx($w,{className:`${f} text-green-500`})},c=d=>{if(d.category==="system")return`System ${d.severity}`;{const f=d;return f.entity.charAt(0).toUpperCase()+f.entity.slice(1)}};return l.jsxs("div",{className:"relative",ref:o,children:[l.jsxs("button",{onClick:()=>{t(!e),!e&&n>0&&i()},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 relative","aria-label":"Notifications",children:[l.jsx(Ow,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),n>0&&l.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:n>9?"9+":n})]}),e&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Notifications"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:i,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",disabled:r.length===0,children:"Mark all as read"}),l.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:l.jsx(ud,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No notifications"}):l.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(d=>{var f;return l.jsx("li",{className:`p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 ${d.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,onClick:()=>s(d.id),children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:u(d)}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c(d)}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[l.jsx(Dw,{className:"w-3 h-3 mr-1"}),j1(new Date(d.timestamp),{addSuffix:!0})]})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-700 dark:text-gray-300",children:d.category==="system"?typeof d.context=="object"&&d.context!==null&&((f=d.context)==null?void 0:f.message)||"System notification":d.message}),d.category==="functional"&&d.technicalDetails&&l.jsxs("details",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx("summary",{className:"cursor-pointer",children:"Details"}),l.jsx("pre",{className:"mt-1 p-2 bg-gray-100 dark:bg-gray-900 rounded overflow-auto max-h-32",children:d.technicalDetails})]})]}),l.jsx("button",{onClick:h=>{h.stopPropagation(),a(d.id)},className:"ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200","aria-label":"Dismiss notification",children:l.jsx(ud,{className:"w-4 h-4"})})]})},d.id)})})})]})]})},N1=({user:e})=>{const[t,r]=b.useState(!1),n=$t(),s=async()=>{await I.auth.signOut(),n("/login")};return l.jsx("header",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[l.jsx("div",{className:"flex items-center md:hidden",children:l.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-600","aria-label":"Open sidebar",children:l.jsx(Fw,{size:24})})}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"relative",children:l.jsx(S1,{})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",className:"flex items-center text-sm rounded-full focus:outline-none",onClick:()=>r(!t),children:l.jsxs("div",{className:"flex items-center px-2 py-1 rounded-full hover:bg-gray-100",children:[l.jsx("div",{className:"bg-blue-100 text-blue-800 flex items-center justify-center w-8 h-8 rounded-full",children:l.jsx(Vw,{size:16})}),l.jsx("span",{className:"ml-2 text-gray-700 hidden sm:block",children:e==null?void 0:e.email}),l.jsx(Rw,{size:16,className:"ml-1 text-gray-500"})]})}),t&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 border border-gray-200",onBlur:()=>r(!1),children:l.jsxs("button",{onClick:s,className:"flex w-full items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[l.jsx(zw,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})})},E1=({user:e})=>l.jsxs("div",{className:"flex h-screen bg-gray-100",children:[l.jsx(I_,{}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsx(N1,{user:e}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:l.jsx(fy,{})})]})]}),C1=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{I.auth.getSession().then(({data:{session:o}})=>{t(o),i((o==null?void 0:o.user)??null),n(!1)});const{data:{subscription:a}}=I.auth.onAuthStateChange((o,u)=>{t(u),i((u==null?void 0:u.user)??null)});return()=>a.unsubscribe()},[]),r?l.jsx(Cp,{}):l.jsxs(l.Fragment,{children:[l.jsx(Nw,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),l.jsx(ky,{children:l.jsxs(py,{children:[l.jsx(fe,{path:"/login",element:e?l.jsx(Ks,{to:"/"}):l.jsx(Ew,{})}),l.jsxs(fe,{element:e?l.jsx(E1,{user:s}):l.jsx(Ks,{to:"/login"}),children:[l.jsx(fe,{path:"/",element:l.jsx(Hw,{})}),l.jsx(fe,{path:"/events",element:l.jsx(u_,{})}),l.jsx(fe,{path:"/events/new",element:l.jsx(d_,{})}),l.jsx(fe,{path:"/events/:id",element:l.jsx(c_,{})}),l.jsx(fe,{path:"/events/:id/edit",element:l.jsx(f_,{})}),l.jsx(fe,{path:"/wristbands",element:l.jsx(h_,{})}),l.jsx(fe,{path:"/wristbands/new",element:l.jsx(p_,{})}),l.jsx(fe,{path:"/wristbands/:id/edit",element:l.jsx(m_,{})}),l.jsx(fe,{path:"/checkins",element:l.jsx(g_,{})}),l.jsx(fe,{path:"/access",element:l.jsx(y_,{})}),l.jsx(fe,{path:"/access/create",element:l.jsx(v_,{})}),l.jsx(fe,{path:"/access/:id/edit",element:l.jsx(x_,{})}),l.jsx(fe,{path:"/settings",element:l.jsx(w_,{})}),l.jsx(fe,{path:"/notification-test",element:l.jsx(O_,{})}),l.jsx(fe,{path:"*",element:l.jsx(Ks,{to:"/",replace:!0})})]}),l.jsx(fe,{path:"*",element:l.jsx(Ks,{to:"/login",replace:!0})})]})})]})},bd=document.getElementById("root");bd&&Ah(bd).render(l.jsx(W.StrictMode,{children:l.jsx(C1,{})}));
//# sourceMappingURL=index-BrffCOP2.js.map
