function Qp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var wd={exports:{}},Fi={},_d={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),Xp=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),tm=Symbol.for("react.provider"),rm=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),im=Symbol.for("react.memo"),am=Symbol.for("react.lazy"),ju=Symbol.iterator;function om(e){return e===null||typeof e!="object"?null:(e=ju&&e[ju]||e["@@iterator"],typeof e=="function"?e:null)}var bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kd=Object.assign,jd={};function vn(e,t,r){this.props=e,this.context=t,this.refs=jd,this.updater=r||bd}vn.prototype.isReactComponent={};vn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sd(){}Sd.prototype=vn.prototype;function xl(e,t,r){this.props=e,this.context=t,this.refs=jd,this.updater=r||bd}var wl=xl.prototype=new Sd;wl.constructor=xl;kd(wl,vn.prototype);wl.isPureReactComponent=!0;var Su=Array.isArray,Nd=Object.prototype.hasOwnProperty,_l={current:null},Ed={key:!0,ref:!0,__self:!0,__source:!0};function Cd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Nd.call(t,n)&&!Ed.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ws,type:e,key:i,ref:a,props:s,_owner:_l.current}}function lm(e,t){return{$$typeof:ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function um(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Nu=/\/+/g;function _a(e,t){return typeof e=="object"&&e!==null&&e.key!=null?um(""+e.key):t.toString(36)}function Ys(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ws:case Xp:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+_a(a,0):n,Su(s)?(r="",e!=null&&(r=e.replace(Nu,"$&/")+"/"),Ys(s,t,r,"",function(c){return c})):s!=null&&(bl(s)&&(s=lm(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Nu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Su(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+_a(i,o);a+=Ys(i,t,r,u,s)}else if(u=om(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+_a(i,o++),a+=Ys(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ps(e,t,r){if(e==null)return e;var n=[],s=0;return Ys(e,n,"","",function(i){return t.call(r,i,s++)}),n}function cm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},Zs={transition:null},dm={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Zs,ReactCurrentOwner:_l};function Td(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ps,forEach:function(e,t,r){Ps(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ps(e,function(){t++}),t},toArray:function(e){return Ps(e,function(t){return t})||[]},only:function(e){if(!bl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=vn;z.Fragment=Yp;z.Profiler=em;z.PureComponent=xl;z.StrictMode=Zp;z.Suspense=sm;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dm;z.act=Td;z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kd({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=_l.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Nd.call(t,u)&&!Ed.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ws,type:e.type,key:s,ref:i,props:n,_owner:a}};z.createContext=function(e){return e={$$typeof:rm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tm,_context:e},e.Consumer=e};z.createElement=Cd;z.createFactory=function(e){var t=Cd.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:nm,render:e}};z.isValidElement=bl;z.lazy=function(e){return{$$typeof:am,_payload:{_status:-1,_result:e},_init:cm}};z.memo=function(e,t){return{$$typeof:im,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Zs.transition;Zs.transition={};try{e()}finally{Zs.transition=t}};z.unstable_act=Td;z.useCallback=function(e,t){return Oe.current.useCallback(e,t)};z.useContext=function(e){return Oe.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};z.useEffect=function(e,t){return Oe.current.useEffect(e,t)};z.useId=function(){return Oe.current.useId()};z.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};z.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Oe.current.useMemo(e,t)};z.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};z.useRef=function(e){return Oe.current.useRef(e)};z.useState=function(e){return Oe.current.useState(e)};z.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};z.useTransition=function(){return Oe.current.useTransition()};z.version="18.3.1";_d.exports=z;var b=_d.exports;const V=xd(b),fm=Qp({__proto__:null,default:V},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=b,pm=Symbol.for("react.element"),mm=Symbol.for("react.fragment"),gm=Object.prototype.hasOwnProperty,ym=hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vm={key:!0,ref:!0,__self:!0,__source:!0};function Pd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)gm.call(t,n)&&!vm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:pm,type:e,key:i,ref:a,props:s,_owner:ym.current}}Fi.Fragment=mm;Fi.jsx=Pd;Fi.jsxs=Pd;wd.exports=Fi;var l=wd.exports,Od={exports:{}},qe={},Id={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var M=P.length;P.push(L);e:for(;0<M;){var te=M-1>>>1,ce=P[te];if(0<s(ce,L))P[te]=L,P[M]=ce,M=te;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],M=P.pop();if(M!==L){P[0]=M;e:for(var te=0,ce=P.length,Ir=ce>>>1;te<Ir;){var ut=2*(te+1)-1,Rr=P[ut],ct=ut+1,or=P[ct];if(0>s(Rr,M))ct<ce&&0>s(or,Rr)?(P[te]=or,P[ct]=M,te=ct):(P[te]=Rr,P[ut]=M,te=ut);else if(ct<ce&&0>s(or,M))P[te]=or,P[ct]=M,te=ct;else break e}}return L}function s(P,L){var M=P.sortIndex-L.sortIndex;return M!==0?M:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,f=null,h=3,x=!1,w=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=P)n(c),L.sortIndex=L.expirationTime,t(u,L);else break;L=r(c)}}function _(P){if(y=!1,g(P),!w)if(r(u)!==null)w=!0,ae(k);else{var L=r(c);L!==null&&X(_,L.startTime-P)}}function k(P,L){w=!1,y&&(y=!1,p(C),C=-1),x=!0;var M=h;try{for(g(L),f=r(u);f!==null&&(!(f.expirationTime>L)||P&&!T());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var ce=te(f.expirationTime<=L);L=e.unstable_now(),typeof ce=="function"?f.callback=ce:f===r(u)&&n(u),g(L)}else n(u);f=r(u)}if(f!==null)var Ir=!0;else{var ut=r(c);ut!==null&&X(_,ut.startTime-L),Ir=!1}return Ir}finally{f=null,h=M,x=!1}}var S=!1,j=null,C=-1,$=5,N=-1;function T(){return!(e.unstable_now()-N<$)}function R(){if(j!==null){var P=e.unstable_now();N=P;var L=!0;try{L=j(!0,P)}finally{L?B():(S=!1,j=null)}}else S=!1}var B;if(typeof m=="function")B=function(){m(R)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ue=W.port2;W.port1.onmessage=R,B=function(){ue.postMessage(null)}}else B=function(){v(R,0)};function ae(P){j=P,S||(S=!0,B())}function X(P,L){C=v(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,ae(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var M=h;h=L;try{return P()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=h;h=P;try{return L()}finally{h=M}},e.unstable_scheduleCallback=function(P,L,M){var te=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?te+M:te):M=te,P){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=M+ce,P={id:d++,callback:L,priorityLevel:P,startTime:M,expirationTime:ce,sortIndex:-1},M>te?(P.sortIndex=M,t(c,P),r(u)===null&&P===r(c)&&(y?(p(C),C=-1):y=!0,X(_,M-te))):(P.sortIndex=ce,t(u,P),w||x||(w=!0,ae(k))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var L=h;return function(){var M=h;h=L;try{return P.apply(this,arguments)}finally{h=M}}}})(Rd);Id.exports=Rd;var xm=Id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=b,Ve=xm;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $d=new Set,Zn={};function Cr(e,t){un(e,t),un(e+"Capture",t)}function un(e,t){for(Zn[e]=t,e=0;e<t.length;e++)$d.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=Object.prototype.hasOwnProperty,_m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eu={},Cu={};function bm(e){return io.call(Cu,e)?!0:io.call(Eu,e)?!1:_m.test(e)?Cu[e]=!0:(Eu[e]=!0,!1)}function km(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jm(e,t,r,n){if(t===null||typeof t>"u"||km(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var kl=/[\-:]([a-z])/g;function jl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kl,jl);_e[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kl,jl);_e[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kl,jl);_e[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sl(e,t,r,n){var s=_e.hasOwnProperty(t)?_e[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jm(t,r,s,n)&&(r=null),n||s===null?bm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pt=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),Nl=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),Ld=Symbol.for("react.provider"),Dd=Symbol.for("react.context"),El=Symbol.for("react.forward_ref"),oo=Symbol.for("react.suspense"),lo=Symbol.for("react.suspense_list"),Cl=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ad=Symbol.for("react.offscreen"),Tu=Symbol.iterator;function Sn(e){return e===null||typeof e!="object"?null:(e=Tu&&e[Tu]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ba;function Dn(e){if(ba===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ba=t&&t[1]||""}return`
`+ba+e}var ka=!1;function ja(e,t){if(!e||ka)return"";ka=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{ka=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dn(e):""}function Sm(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=ja(e.type,!1),e;case 11:return e=ja(e.type.render,!1),e;case 1:return e=ja(e.type,!0),e;default:return""}}function uo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vr:return"Fragment";case Wr:return"Portal";case ao:return"Profiler";case Nl:return"StrictMode";case oo:return"Suspense";case lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dd:return(e.displayName||"Context")+".Consumer";case Ld:return(e._context.displayName||"Context")+".Provider";case El:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cl:return t=e.displayName||null,t!==null?t:uo(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return uo(e(t))}catch{}}return null}function Nm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uo(t);case 8:return t===Nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Md(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Em(e){var t=Md(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=Em(e))}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Md(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function co(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zd(e,t){t=t.checked,t!=null&&Sl(e,"checked",t,!1)}function fo(e,t){zd(e,t);var r=Zt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ho(e,t.type,r):t.hasOwnProperty("defaultValue")&&ho(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ou(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ho(e,t,r){(t!=="number"||fi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var An=Array.isArray;function tn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Iu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(An(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zt(r)}}function Fd(e,t){var r=Zt(t.value),n=Zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ru(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rs,Wd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function es(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cm=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(e){Cm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fn[t]=Fn[e]})});function Vd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fn.hasOwnProperty(e)&&Fn[e]?(""+t).trim():t+"px"}function qd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Vd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Tm=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(e,t){if(t){if(Tm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function yo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function Tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xo=null,rn=null,nn=null;function $u(e){if(e=ks(e)){if(typeof xo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Hi(t),xo(e.stateNode,e.type,t))}}function Hd(e){rn?nn?nn.push(e):nn=[e]:rn=e}function Kd(){if(rn){var e=rn,t=nn;if(nn=rn=null,$u(e),t)for(e=0;e<t.length;e++)$u(t[e])}}function Gd(e,t){return e(t)}function Qd(){}var Sa=!1;function Jd(e,t,r){if(Sa)return e(t,r);Sa=!0;try{return Gd(e,t,r)}finally{Sa=!1,(rn!==null||nn!==null)&&(Qd(),Kd())}}function ts(e,t){var r=e.stateNode;if(r===null)return null;var n=Hi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var wo=!1;if(St)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{wo=!1}function Pm(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Bn=!1,hi=null,pi=!1,_o=null,Om={onError:function(e){Bn=!0,hi=e}};function Im(e,t,r,n,s,i,a,o,u){Bn=!1,hi=null,Pm.apply(Om,arguments)}function Rm(e,t,r,n,s,i,a,o,u){if(Im.apply(this,arguments),Bn){if(Bn){var c=hi;Bn=!1,hi=null}else throw Error(E(198));pi||(pi=!0,_o=c)}}function Tr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Xd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lu(e){if(Tr(e)!==e)throw Error(E(188))}function $m(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Lu(s),e;if(i===n)return Lu(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Yd(e){return e=$m(e),e!==null?Zd(e):null}function Zd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zd(e);if(t!==null)return t;e=e.sibling}return null}var ef=Ve.unstable_scheduleCallback,Du=Ve.unstable_cancelCallback,Lm=Ve.unstable_shouldYield,Dm=Ve.unstable_requestPaint,le=Ve.unstable_now,Am=Ve.unstable_getCurrentPriorityLevel,Pl=Ve.unstable_ImmediatePriority,tf=Ve.unstable_UserBlockingPriority,mi=Ve.unstable_NormalPriority,Mm=Ve.unstable_LowPriority,rf=Ve.unstable_IdlePriority,Bi=null,pt=null;function Um(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Bi,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Bm,zm=Math.log,Fm=Math.LN2;function Bm(e){return e>>>=0,e===0?32:31-(zm(e)/Fm|0)|0}var $s=64,Ls=4194304;function Mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Mn(o):(i&=a,i!==0&&(n=Mn(i)))}else a=r&~s,a!==0?n=Mn(a):i!==0&&(n=Mn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-at(t),s=1<<r,n|=e[r],t&=~s;return n}function Wm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Wm(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nf(){var e=$s;return $s<<=1,!($s&4194240)&&($s=64),e}function Na(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=r}function qm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-at(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ol(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var q=0;function sf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var af,Il,of,lf,uf,ko=!1,Ds=[],Vt=null,qt=null,Ht=null,rs=new Map,ns=new Map,Mt=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function En(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&Il(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Km(e,t,r,n,s){switch(t){case"focusin":return Vt=En(Vt,e,t,r,n,s),!0;case"dragenter":return qt=En(qt,e,t,r,n,s),!0;case"mouseover":return Ht=En(Ht,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return rs.set(i,En(rs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ns.set(i,En(ns.get(i)||null,e,t,r,n,s)),!0}return!1}function cf(e){var t=gr(e.target);if(t!==null){var r=Tr(t);if(r!==null){if(t=r.tag,t===13){if(t=Xd(r),t!==null){e.blockedOn=t,uf(e.priority,function(){of(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vo=n,r.target.dispatchEvent(n),vo=null}else return t=ks(r),t!==null&&Il(t),e.blockedOn=r,!1;t.shift()}return!0}function Mu(e,t,r){ei(e)&&r.delete(t)}function Gm(){ko=!1,Vt!==null&&ei(Vt)&&(Vt=null),qt!==null&&ei(qt)&&(qt=null),Ht!==null&&ei(Ht)&&(Ht=null),rs.forEach(Mu),ns.forEach(Mu)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Gm)))}function ss(e){function t(s){return Cn(s,e)}if(0<Ds.length){Cn(Ds[0],e);for(var r=1;r<Ds.length;r++){var n=Ds[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vt!==null&&Cn(Vt,e),qt!==null&&Cn(qt,e),Ht!==null&&Cn(Ht,e),rs.forEach(t),ns.forEach(t),r=0;r<Mt.length;r++)n=Mt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&(r=Mt[0],r.blockedOn===null);)cf(r),r.blockedOn===null&&Mt.shift()}var sn=Pt.ReactCurrentBatchConfig,yi=!0;function Qm(e,t,r,n){var s=q,i=sn.transition;sn.transition=null;try{q=1,Rl(e,t,r,n)}finally{q=s,sn.transition=i}}function Jm(e,t,r,n){var s=q,i=sn.transition;sn.transition=null;try{q=4,Rl(e,t,r,n)}finally{q=s,sn.transition=i}}function Rl(e,t,r,n){if(yi){var s=jo(e,t,r,n);if(s===null)Da(e,t,n,vi,r),Au(e,n);else if(Km(s,e,t,r,n))n.stopPropagation();else if(Au(e,n),t&4&&-1<Hm.indexOf(e)){for(;s!==null;){var i=ks(s);if(i!==null&&af(i),i=jo(e,t,r,n),i===null&&Da(e,t,n,vi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Da(e,t,n,null,r)}}var vi=null;function jo(e,t,r,n){if(vi=null,e=Tl(n),e=gr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Xd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vi=e,null}function df(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Am()){case Pl:return 1;case tf:return 4;case mi:case Mm:return 16;case rf:return 536870912;default:return 16}default:return 16}}var Ft=null,$l=null,ti=null;function ff(){if(ti)return ti;var e,t=$l,r=t.length,n,s="value"in Ft?Ft.value:Ft.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ti=s.slice(e,1<n?1-n:void 0)}function ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function Uu(){return!1}function He(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?As:Uu,this.isPropagationStopped=Uu,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=He(xn),bs=ie({},xn,{view:0,detail:0}),Xm=He(bs),Ea,Ca,Tn,Wi=ie({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?(Ea=e.screenX-Tn.screenX,Ca=e.screenY-Tn.screenY):Ca=Ea=0,Tn=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),zu=He(Wi),Ym=ie({},Wi,{dataTransfer:0}),Zm=He(Ym),eg=ie({},bs,{relatedTarget:0}),Ta=He(eg),tg=ie({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=He(tg),ng=ie({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=He(ng),ig=ie({},xn,{data:0}),Fu=He(ig),ag={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lg[e])?!!t[e]:!1}function Dl(){return ug}var cg=ie({},bs,{key:function(e){if(e.key){var t=ag[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dg=He(cg),fg=ie({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=He(fg),hg=ie({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),pg=He(hg),mg=ie({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gg=He(mg),yg=ie({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=He(yg),xg=[9,13,27,32],Al=St&&"CompositionEvent"in window,Wn=null;St&&"documentMode"in document&&(Wn=document.documentMode);var wg=St&&"TextEvent"in window&&!Wn,hf=St&&(!Al||Wn&&8<Wn&&11>=Wn),Wu=" ",Vu=!1;function pf(e,t){switch(e){case"keyup":return xg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function _g(e,t){switch(e){case"compositionend":return mf(t);case"keypress":return t.which!==32?null:(Vu=!0,Wu);case"textInput":return e=t.data,e===Wu&&Vu?null:e;default:return null}}function bg(e,t){if(qr)return e==="compositionend"||!Al&&pf(e,t)?(e=ff(),ti=$l=Ft=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hf&&t.locale!=="ko"?null:t.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kg[e.type]:t==="textarea"}function gf(e,t,r,n){Hd(n),t=xi(t,"onChange"),0<t.length&&(r=new Ll("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vn=null,is=null;function jg(e){Ef(e,0)}function Vi(e){var t=Gr(e);if(Ud(t))return e}function Sg(e,t){if(e==="change")return t}var yf=!1;if(St){var Pa;if(St){var Oa="oninput"in document;if(!Oa){var Hu=document.createElement("div");Hu.setAttribute("oninput","return;"),Oa=typeof Hu.oninput=="function"}Pa=Oa}else Pa=!1;yf=Pa&&(!document.documentMode||9<document.documentMode)}function Ku(){Vn&&(Vn.detachEvent("onpropertychange",vf),is=Vn=null)}function vf(e){if(e.propertyName==="value"&&Vi(is)){var t=[];gf(t,is,e,Tl(e)),Jd(jg,t)}}function Ng(e,t,r){e==="focusin"?(Ku(),Vn=t,is=r,Vn.attachEvent("onpropertychange",vf)):e==="focusout"&&Ku()}function Eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vi(is)}function Cg(e,t){if(e==="click")return Vi(t)}function Tg(e,t){if(e==="input"||e==="change")return Vi(t)}function Pg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:Pg;function as(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!io.call(t,s)||!lt(e[s],t[s]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,t){var r=Gu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gu(r)}}function xf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wf(){for(var e=window,t=fi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fi(e.document)}return t}function Ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Og(e){var t=wf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xf(r.ownerDocument.documentElement,r)){if(n!==null&&Ml(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Qu(r,i);var a=Qu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ig=St&&"documentMode"in document&&11>=document.documentMode,Hr=null,So=null,qn=null,No=!1;function Ju(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;No||Hr==null||Hr!==fi(n)||(n=Hr,"selectionStart"in n&&Ml(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qn&&as(qn,n)||(qn=n,n=xi(So,"onSelect"),0<n.length&&(t=new Ll("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hr)))}function Ms(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Kr={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},Ia={},_f={};St&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function qi(e){if(Ia[e])return Ia[e];if(!Kr[e])return e;var t=Kr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _f)return Ia[e]=t[r];return e}var bf=qi("animationend"),kf=qi("animationiteration"),jf=qi("animationstart"),Sf=qi("transitionend"),Nf=new Map,Xu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){Nf.set(e,t),Cr(t,[e])}for(var Ra=0;Ra<Xu.length;Ra++){var $a=Xu[Ra],Rg=$a.toLowerCase(),$g=$a[0].toUpperCase()+$a.slice(1);rr(Rg,"on"+$g)}rr(bf,"onAnimationEnd");rr(kf,"onAnimationIteration");rr(jf,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Sf,"onTransitionEnd");un("onMouseEnter",["mouseout","mouseover"]);un("onMouseLeave",["mouseout","mouseover"]);un("onPointerEnter",["pointerout","pointerover"]);un("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function Yu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rm(n,t,void 0,e),e.currentTarget=null}function Ef(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Yu(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Yu(s,o,c),i=u}}}if(pi)throw e=_o,pi=!1,_o=null,e}function Y(e,t){var r=t[Oo];r===void 0&&(r=t[Oo]=new Set);var n=e+"__bubble";r.has(n)||(Cf(t,e,2,!1),r.add(n))}function La(e,t,r){var n=0;t&&(n|=4),Cf(r,e,n,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function os(e){if(!e[Us]){e[Us]=!0,$d.forEach(function(r){r!=="selectionchange"&&(Lg.has(r)||La(r,!1,e),La(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,La("selectionchange",!1,t))}}function Cf(e,t,r,n){switch(df(t)){case 1:var s=Qm;break;case 4:s=Jm;break;default:s=Rl}r=s.bind(null,t,r,e),s=void 0,!wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Da(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=gr(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Jd(function(){var c=i,d=Tl(r),f=[];e:{var h=Nf.get(e);if(h!==void 0){var x=Ll,w=e;switch(e){case"keypress":if(ri(r)===0)break e;case"keydown":case"keyup":x=dg;break;case"focusin":w="focus",x=Ta;break;case"focusout":w="blur",x=Ta;break;case"beforeblur":case"afterblur":x=Ta;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=pg;break;case bf:case kf:case jf:x=rg;break;case Sf:x=gg;break;case"scroll":x=Xm;break;case"wheel":x=vg;break;case"copy":case"cut":case"paste":x=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Bu}var y=(t&4)!==0,v=!y&&e==="scroll",p=y?h!==null?h+"Capture":null:h;y=[];for(var m=c,g;m!==null;){g=m;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=ts(m,p),_!=null&&y.push(ls(m,_,g)))),v)break;m=m.return}0<y.length&&(h=new x(h,w,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&r!==vo&&(w=r.relatedTarget||r.fromElement)&&(gr(w)||w[Nt]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(w=r.relatedTarget||r.toElement,x=c,w=w?gr(w):null,w!==null&&(v=Tr(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=c),x!==w)){if(y=zu,_="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Bu,_="onPointerLeave",p="onPointerEnter",m="pointer"),v=x==null?h:Gr(x),g=w==null?h:Gr(w),h=new y(_,m+"leave",x,r,d),h.target=v,h.relatedTarget=g,_=null,gr(d)===c&&(y=new y(p,m+"enter",w,r,d),y.target=g,y.relatedTarget=v,_=y),v=_,x&&w)t:{for(y=x,p=w,m=0,g=y;g;g=$r(g))m++;for(g=0,_=p;_;_=$r(_))g++;for(;0<m-g;)y=$r(y),m--;for(;0<g-m;)p=$r(p),g--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=$r(y),p=$r(p)}y=null}else y=null;x!==null&&Zu(f,h,x,y,!1),w!==null&&v!==null&&Zu(f,v,w,y,!0)}}e:{if(h=c?Gr(c):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var k=Sg;else if(qu(h))if(yf)k=Tg;else{k=Eg;var S=Ng}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Cg);if(k&&(k=k(e,c))){gf(f,k,r,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ho(h,"number",h.value)}switch(S=c?Gr(c):window,e){case"focusin":(qu(S)||S.contentEditable==="true")&&(Hr=S,So=c,qn=null);break;case"focusout":qn=So=Hr=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Ju(f,r,d);break;case"selectionchange":if(Ig)break;case"keydown":case"keyup":Ju(f,r,d)}var j;if(Al)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else qr?pf(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(hf&&r.locale!=="ko"&&(qr||C!=="onCompositionStart"?C==="onCompositionEnd"&&qr&&(j=ff()):(Ft=d,$l="value"in Ft?Ft.value:Ft.textContent,qr=!0)),S=xi(c,C),0<S.length&&(C=new Fu(C,e,null,r,d),f.push({event:C,listeners:S}),j?C.data=j:(j=mf(r),j!==null&&(C.data=j)))),(j=wg?_g(e,r):bg(e,r))&&(c=xi(c,"onBeforeInput"),0<c.length&&(d=new Fu("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=j))}Ef(f,t)})}function ls(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ts(e,r),i!=null&&n.unshift(ls(e,i,s)),i=ts(e,t),i!=null&&n.push(ls(e,i,s))),e=e.return}return n}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=ts(r,i),u!=null&&a.unshift(ls(r,u,o))):s||(u=ts(r,i),u!=null&&a.push(ls(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Dg=/\r\n?/g,Ag=/\u0000|\uFFFD/g;function ec(e){return(typeof e=="string"?e:""+e).replace(Dg,`
`).replace(Ag,"")}function zs(e,t,r){if(t=ec(t),ec(e)!==t&&r)throw Error(E(425))}function wi(){}var Eo=null,Co=null;function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,Mg=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(e){return tc.resolve(null).then(e).catch(zg)}:Po;function zg(e){setTimeout(function(){throw e})}function Aa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ss(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ss(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),ht="__reactFiber$"+wn,us="__reactProps$"+wn,Nt="__reactContainer$"+wn,Oo="__reactEvents$"+wn,Fg="__reactListeners$"+wn,Bg="__reactHandles$"+wn;function gr(e){var t=e[ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nt]||r[ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rc(e);e!==null;){if(r=e[ht])return r;e=rc(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[ht]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Hi(e){return e[us]||null}var Io=[],Qr=-1;function nr(e){return{current:e}}function Z(e){0>Qr||(e.current=Io[Qr],Io[Qr]=null,Qr--)}function Q(e,t){Qr++,Io[Qr]=e.current,e.current=t}var er={},Ne=nr(er),Ae=nr(!1),br=er;function cn(e,t){var r=e.type.contextTypes;if(!r)return er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Me(e){return e=e.childContextTypes,e!=null}function _i(){Z(Ae),Z(Ne)}function nc(e,t,r){if(Ne.current!==er)throw Error(E(168));Q(Ne,t),Q(Ae,r)}function Tf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,Nm(e)||"Unknown",s));return ie({},r,n)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,br=Ne.current,Q(Ne,e),Q(Ae,Ae.current),!0}function sc(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Tf(e,t,br),n.__reactInternalMemoizedMergedChildContext=e,Z(Ae),Z(Ne),Q(Ne,e)):Z(Ae),Q(Ae,r)}var _t=null,Ki=!1,Ma=!1;function Pf(e){_t===null?_t=[e]:_t.push(e)}function Wg(e){Ki=!0,Pf(e)}function sr(){if(!Ma&&_t!==null){Ma=!0;var e=0,t=q;try{var r=_t;for(q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_t=null,Ki=!1}catch(s){throw _t!==null&&(_t=_t.slice(e+1)),ef(Pl,sr),s}finally{q=t,Ma=!1}}return null}var Jr=[],Xr=0,ki=null,ji=0,Ke=[],Ge=0,kr=null,bt=1,kt="";function dr(e,t){Jr[Xr++]=ji,Jr[Xr++]=ki,ki=e,ji=t}function Of(e,t,r){Ke[Ge++]=bt,Ke[Ge++]=kt,Ke[Ge++]=kr,kr=e;var n=bt;e=kt;var s=32-at(n)-1;n&=~(1<<s),r+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,bt=1<<32-at(t)+s|r<<s|n,kt=i+e}else bt=1<<i|r<<s|n,kt=e}function Ul(e){e.return!==null&&(dr(e,1),Of(e,1,0))}function zl(e){for(;e===ki;)ki=Jr[--Xr],Jr[Xr]=null,ji=Jr[--Xr],Jr[Xr]=null;for(;e===kr;)kr=Ke[--Ge],Ke[Ge]=null,kt=Ke[--Ge],Ke[Ge]=null,bt=Ke[--Ge],Ke[Ge]=null}var We=null,Be=null,ee=!1,it=null;function If(e,t){var r=Qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ic(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Be=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kr!==null?{id:bt,overflow:kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,We=e,Be=null,!0):!1;default:return!1}}function Ro(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $o(e){if(ee){var t=Be;if(t){var r=t;if(!ic(e,t)){if(Ro(e))throw Error(E(418));t=Kt(r.nextSibling);var n=We;t&&ic(e,t)?If(n,r):(e.flags=e.flags&-4097|2,ee=!1,We=e)}}else{if(Ro(e))throw Error(E(418));e.flags=e.flags&-4097|2,ee=!1,We=e}}}function ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Fs(e){if(e!==We)return!1;if(!ee)return ac(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!To(e.type,e.memoizedProps)),t&&(t=Be)){if(Ro(e))throw Rf(),Error(E(418));for(;t;)If(e,t),t=Kt(t.nextSibling)}if(ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Be=Kt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Be=null}}else Be=We?Kt(e.stateNode.nextSibling):null;return!0}function Rf(){for(var e=Be;e;)e=Kt(e.nextSibling)}function dn(){Be=We=null,ee=!1}function Fl(e){it===null?it=[e]:it.push(e)}var Vg=Pt.ReactCurrentBatchConfig;function Pn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Bs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oc(e){var t=e._init;return t(e._payload)}function $f(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Xt(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,m,g,_){return m===null||m.tag!==6?(m=qa(g,p.mode,_),m.return=p,m):(m=s(m,g),m.return=p,m)}function u(p,m,g,_){var k=g.type;return k===Vr?d(p,m,g.props.children,_,g.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&oc(k)===m.type)?(_=s(m,g.props),_.ref=Pn(p,m,g),_.return=p,_):(_=ui(g.type,g.key,g.props,null,p.mode,_),_.ref=Pn(p,m,g),_.return=p,_)}function c(p,m,g,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Ha(g,p.mode,_),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,_,k){return m===null||m.tag!==7?(m=wr(g,p.mode,_,k),m.return=p,m):(m=s(m,g),m.return=p,m)}function f(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=qa(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:return g=ui(m.type,m.key,m.props,null,p.mode,g),g.ref=Pn(p,null,m),g.return=p,g;case Wr:return m=Ha(m,p.mode,g),m.return=p,m;case Dt:var _=m._init;return f(p,_(m._payload),g)}if(An(m)||Sn(m))return m=wr(m,p.mode,g,null),m.return=p,m;Bs(p,m)}return null}function h(p,m,g,_){var k=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:o(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Os:return g.key===k?u(p,m,g,_):null;case Wr:return g.key===k?c(p,m,g,_):null;case Dt:return k=g._init,h(p,m,k(g._payload),_)}if(An(g)||Sn(g))return k!==null?null:d(p,m,g,_,null);Bs(p,g)}return null}function x(p,m,g,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,o(m,p,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Os:return p=p.get(_.key===null?g:_.key)||null,u(m,p,_,k);case Wr:return p=p.get(_.key===null?g:_.key)||null,c(m,p,_,k);case Dt:var S=_._init;return x(p,m,g,S(_._payload),k)}if(An(_)||Sn(_))return p=p.get(g)||null,d(m,p,_,k,null);Bs(m,_)}return null}function w(p,m,g,_){for(var k=null,S=null,j=m,C=m=0,$=null;j!==null&&C<g.length;C++){j.index>C?($=j,j=null):$=j.sibling;var N=h(p,j,g[C],_);if(N===null){j===null&&(j=$);break}e&&j&&N.alternate===null&&t(p,j),m=i(N,m,C),S===null?k=N:S.sibling=N,S=N,j=$}if(C===g.length)return r(p,j),ee&&dr(p,C),k;if(j===null){for(;C<g.length;C++)j=f(p,g[C],_),j!==null&&(m=i(j,m,C),S===null?k=j:S.sibling=j,S=j);return ee&&dr(p,C),k}for(j=n(p,j);C<g.length;C++)$=x(j,p,C,g[C],_),$!==null&&(e&&$.alternate!==null&&j.delete($.key===null?C:$.key),m=i($,m,C),S===null?k=$:S.sibling=$,S=$);return e&&j.forEach(function(T){return t(p,T)}),ee&&dr(p,C),k}function y(p,m,g,_){var k=Sn(g);if(typeof k!="function")throw Error(E(150));if(g=k.call(g),g==null)throw Error(E(151));for(var S=k=null,j=m,C=m=0,$=null,N=g.next();j!==null&&!N.done;C++,N=g.next()){j.index>C?($=j,j=null):$=j.sibling;var T=h(p,j,N.value,_);if(T===null){j===null&&(j=$);break}e&&j&&T.alternate===null&&t(p,j),m=i(T,m,C),S===null?k=T:S.sibling=T,S=T,j=$}if(N.done)return r(p,j),ee&&dr(p,C),k;if(j===null){for(;!N.done;C++,N=g.next())N=f(p,N.value,_),N!==null&&(m=i(N,m,C),S===null?k=N:S.sibling=N,S=N);return ee&&dr(p,C),k}for(j=n(p,j);!N.done;C++,N=g.next())N=x(j,p,C,N.value,_),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?C:N.key),m=i(N,m,C),S===null?k=N:S.sibling=N,S=N);return e&&j.forEach(function(R){return t(p,R)}),ee&&dr(p,C),k}function v(p,m,g,_){if(typeof g=="object"&&g!==null&&g.type===Vr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Os:e:{for(var k=g.key,S=m;S!==null;){if(S.key===k){if(k=g.type,k===Vr){if(S.tag===7){r(p,S.sibling),m=s(S,g.props.children),m.return=p,p=m;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&oc(k)===S.type){r(p,S.sibling),m=s(S,g.props),m.ref=Pn(p,S,g),m.return=p,p=m;break e}r(p,S);break}else t(p,S);S=S.sibling}g.type===Vr?(m=wr(g.props.children,p.mode,_,g.key),m.return=p,p=m):(_=ui(g.type,g.key,g.props,null,p.mode,_),_.ref=Pn(p,m,g),_.return=p,p=_)}return a(p);case Wr:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=Ha(g,p.mode,_),m.return=p,p=m}return a(p);case Dt:return S=g._init,v(p,m,S(g._payload),_)}if(An(g))return w(p,m,g,_);if(Sn(g))return y(p,m,g,_);Bs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=qa(g,p.mode,_),m.return=p,p=m),a(p)):r(p,m)}return v}var fn=$f(!0),Lf=$f(!1),Si=nr(null),Ni=null,Yr=null,Bl=null;function Wl(){Bl=Yr=Ni=null}function Vl(e){var t=Si.current;Z(Si),e._currentValue=t}function Lo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function an(e,t){Ni=e,Bl=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function Ye(e){var t=e._currentValue;if(Bl!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Ni===null)throw Error(E(308));Yr=e,Ni.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var yr=null;function ql(e){yr===null?yr=[e]:yr.push(e)}function Df(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ql(t)):(r.next=s.next,s.next=r),t.interleaved=r,Et(e,n)}function Et(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var At=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Af(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Et(e,r)}return s=n.interleaved,s===null?(t.next=t,ql(n)):(t.next=s.next,s.next=t),n.interleaved=t,Et(e,r)}function ni(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ol(e,r)}}function lc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ei(e,t,r,n){var s=e.updateQueue;At=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,d=c=u=null,o=i;do{var h=o.lane,x=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,y=o;switch(h=t,x=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(x,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(x,f,h):w,h==null)break e;f=ie({},f,h);break e;case 2:At=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else x={eventTime:x,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=x,u=f):d=d.next=x,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sr|=a,e.lanes=a,e.memoizedState=f}}function uc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var js={},mt=nr(js),cs=nr(js),ds=nr(js);function vr(e){if(e===js)throw Error(E(174));return e}function Kl(e,t){switch(Q(ds,t),Q(cs,e),Q(mt,js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mo(t,e)}Z(mt),Q(mt,t)}function hn(){Z(mt),Z(cs),Z(ds)}function Mf(e){vr(ds.current);var t=vr(mt.current),r=mo(t,e.type);t!==r&&(Q(cs,e),Q(mt,r))}function Gl(e){cs.current===e&&(Z(mt),Z(cs))}var re=nr(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=[];function Ql(){for(var e=0;e<Ua.length;e++)Ua[e]._workInProgressVersionPrimary=null;Ua.length=0}var si=Pt.ReactCurrentDispatcher,za=Pt.ReactCurrentBatchConfig,jr=0,ne=null,he=null,ge=null,Ti=!1,Hn=!1,fs=0,qg=0;function be(){throw Error(E(321))}function Jl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lt(e[r],t[r]))return!1;return!0}function Xl(e,t,r,n,s,i){if(jr=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,si.current=e===null||e.memoizedState===null?Qg:Jg,e=r(n,s),Hn){i=0;do{if(Hn=!1,fs=0,25<=i)throw Error(E(301));i+=1,ge=he=null,t.updateQueue=null,si.current=Xg,e=r(n,s)}while(Hn)}if(si.current=Pi,t=he!==null&&he.next!==null,jr=0,ge=he=ne=null,Ti=!1,t)throw Error(E(300));return e}function Yl(){var e=fs!==0;return fs=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ne.memoizedState=ge=e:ge=ge.next=e,ge}function Ze(){if(he===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=ge===null?ne.memoizedState:ge.next;if(t!==null)ge=t,he=e;else{if(e===null)throw Error(E(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ge===null?ne.memoizedState=ge=e:ge=ge.next=e}return ge}function hs(e,t){return typeof t=="function"?t(e):t}function Fa(e){var t=Ze(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=he,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((jr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=f,a=n):u=u.next=f,ne.lanes|=d,Sr|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,lt(n,t.memoizedState)||(De=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,Sr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ba(e){var t=Ze(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);lt(i,t.memoizedState)||(De=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Uf(){}function zf(e,t){var r=ne,n=Ze(),s=t(),i=!lt(n.memoizedState,s);if(i&&(n.memoizedState=s,De=!0),n=n.queue,Zl(Wf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,ps(9,Bf.bind(null,r,n,s,t),void 0,null),ye===null)throw Error(E(349));jr&30||Ff(r,t,s)}return s}function Ff(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Bf(e,t,r,n){t.value=r,t.getSnapshot=n,Vf(t)&&qf(e)}function Wf(e,t,r){return r(function(){Vf(t)&&qf(e)})}function Vf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lt(e,r)}catch{return!0}}function qf(e){var t=Et(e,1);t!==null&&ot(t,e,1,-1)}function cc(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},t.queue=e,e=e.dispatch=Gg.bind(null,ne,e),[t.memoizedState,e]}function ps(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Hf(){return Ze().memoizedState}function ii(e,t,r,n){var s=ft();ne.flags|=e,s.memoizedState=ps(1|t,r,void 0,n===void 0?null:n)}function Gi(e,t,r,n){var s=Ze();n=n===void 0?null:n;var i=void 0;if(he!==null){var a=he.memoizedState;if(i=a.destroy,n!==null&&Jl(n,a.deps)){s.memoizedState=ps(t,r,i,n);return}}ne.flags|=e,s.memoizedState=ps(1|t,r,i,n)}function dc(e,t){return ii(8390656,8,e,t)}function Zl(e,t){return Gi(2048,8,e,t)}function Kf(e,t){return Gi(4,2,e,t)}function Gf(e,t){return Gi(4,4,e,t)}function Qf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jf(e,t,r){return r=r!=null?r.concat([e]):null,Gi(4,4,Qf.bind(null,t,e),r)}function eu(){}function Xf(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Yf(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Zf(e,t,r){return jr&21?(lt(r,t)||(r=nf(),ne.lanes|=r,Sr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=r)}function Hg(e,t){var r=q;q=r!==0&&4>r?r:4,e(!0);var n=za.transition;za.transition={};try{e(!1),t()}finally{q=r,za.transition=n}}function eh(){return Ze().memoizedState}function Kg(e,t,r){var n=Jt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},th(e))rh(t,r);else if(r=Df(e,t,r,n),r!==null){var s=Pe();ot(r,e,n,s),nh(r,t,n)}}function Gg(e,t,r){var n=Jt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(th(e))rh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,lt(o,a)){var u=t.interleaved;u===null?(s.next=s,ql(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Df(e,t,s,n),r!==null&&(s=Pe(),ot(r,e,n,s),nh(r,t,n))}}function th(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function rh(e,t){Hn=Ti=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ol(e,r)}}var Pi={readContext:Ye,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Qg={readContext:Ye,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:dc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ii(4194308,4,Qf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return ii(4,2,e,t)},useMemo:function(e,t){var r=ft();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ft();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Kg.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:cc,useDebugValue:eu,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=cc(!1),t=e[0];return e=Hg.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,s=ft();if(ee){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),ye===null)throw Error(E(349));jr&30||Ff(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,dc(Wf.bind(null,n,i,e),[e]),n.flags|=2048,ps(9,Bf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ft(),t=ye.identifierPrefix;if(ee){var r=kt,n=bt;r=(n&~(1<<32-at(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jg={readContext:Ye,useCallback:Xf,useContext:Ye,useEffect:Zl,useImperativeHandle:Jf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Yf,useReducer:Fa,useRef:Hf,useState:function(){return Fa(hs)},useDebugValue:eu,useDeferredValue:function(e){var t=Ze();return Zf(t,he.memoizedState,e)},useTransition:function(){var e=Fa(hs)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:zf,useId:eh,unstable_isNewReconciler:!1},Xg={readContext:Ye,useCallback:Xf,useContext:Ye,useEffect:Zl,useImperativeHandle:Jf,useInsertionEffect:Kf,useLayoutEffect:Gf,useMemo:Yf,useReducer:Ba,useRef:Hf,useState:function(){return Ba(hs)},useDebugValue:eu,useDeferredValue:function(e){var t=Ze();return he===null?t.memoizedState=e:Zf(t,he.memoizedState,e)},useTransition:function(){var e=Ba(hs)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Uf,useSyncExternalStore:zf,useId:eh,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Do(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qi={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Jt(e),i=jt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,s),t!==null&&(ot(t,e,s,n),ni(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Jt(e),i=jt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,s),t!==null&&(ot(t,e,s,n),ni(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),n=Jt(e),s=jt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gt(e,s,n),t!==null&&(ot(t,e,n,r),ni(t,e,n))}};function fc(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!as(r,n)||!as(s,i):!0}function sh(e,t,r){var n=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Me(t)?br:Ne.current,n=t.contextTypes,i=(n=n!=null)?cn(e,s):er),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function hc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qi.enqueueReplaceState(t,t.state,null)}function Ao(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Hl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Me(t)?br:Ne.current,s.context=cn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Do(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Qi.enqueueReplaceState(s,s.state,null),Ei(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pn(e,t){try{var r="",n=t;do r+=Sm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Wa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Mo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Yg=typeof WeakMap=="function"?WeakMap:Map;function ih(e,t,r){r=jt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ii||(Ii=!0,Go=n),Mo(e,t)},r}function ah(e,t,r){r=jt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Mo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Mo(e,t),typeof n!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function pc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Yg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=f0.bind(null,e,t,r),t.then(e,e))}function mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jt(-1,1),t.tag=2,Gt(r,t,1))),r.lanes|=1),e)}var Zg=Pt.ReactCurrentOwner,De=!1;function Ce(e,t,r,n){t.child=e===null?Lf(t,null,r,n):fn(t,e.child,r,n)}function yc(e,t,r,n,s){r=r.render;var i=t.ref;return an(t,s),n=Xl(e,t,r,n,i,s),r=Yl(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(ee&&r&&Ul(t),t.flags|=1,Ce(e,t,n,s),t.child)}function vc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!lu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,oh(e,t,i,n,s)):(e=ui(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:as,r(a,n)&&e.ref===t.ref)return Ct(e,t,s)}return t.flags|=1,e=Xt(i,n),e.ref=t.ref,e.return=t,t.child=e}function oh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(as(i,n)&&e.ref===t.ref)if(De=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Ct(e,t,s)}return Uo(e,t,r,n,s)}function lh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(en,Fe),Fe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(en,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Q(en,Fe),Fe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Q(en,Fe),Fe|=n;return Ce(e,t,s,r),t.child}function uh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Uo(e,t,r,n,s){var i=Me(r)?br:Ne.current;return i=cn(t,i),an(t,s),r=Xl(e,t,r,n,i,s),n=Yl(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(ee&&n&&Ul(t),t.flags|=1,Ce(e,t,r,s),t.child)}function xc(e,t,r,n,s){if(Me(r)){var i=!0;bi(t)}else i=!1;if(an(t,s),t.stateNode===null)ai(e,t),sh(t,r,n),Ao(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Me(r)?br:Ne.current,c=cn(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&hc(t,a,n,c),At=!1;var h=t.memoizedState;a.state=h,Ei(t,n,a,s),u=t.memoizedState,o!==n||h!==u||Ae.current||At?(typeof d=="function"&&(Do(t,r,d,n),u=t.memoizedState),(o=At||fc(t,r,o,n,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Af(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:rt(t.type,o),a.props=c,f=t.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ye(u):(u=Me(r)?br:Ne.current,u=cn(t,u));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==u)&&hc(t,a,n,u),At=!1,h=t.memoizedState,a.state=h,Ei(t,n,a,s);var w=t.memoizedState;o!==f||h!==w||Ae.current||At?(typeof x=="function"&&(Do(t,r,x,n),w=t.memoizedState),(c=At||fc(t,r,c,n,h,w,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return zo(e,t,r,n,i,s)}function zo(e,t,r,n,s,i){uh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&sc(t,r,!1),Ct(e,t,i);n=t.stateNode,Zg.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=fn(t,e.child,null,i),t.child=fn(t,null,o,i)):Ce(e,t,o,i),t.memoizedState=n.state,s&&sc(t,r,!0),t.child}function ch(e){var t=e.stateNode;t.pendingContext?nc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nc(e,t.context,!1),Kl(e,t.containerInfo)}function wc(e,t,r,n,s){return dn(),Fl(s),t.flags|=256,Ce(e,t,r,n),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function dh(e,t,r){var n=t.pendingProps,s=re.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(re,s&1),e===null)return $o(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Yi(a,n,0,null),e=wr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Bo(r),t.memoizedState=Fo,e):tu(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return e0(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Xt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Xt(o,i):(i=wr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Bo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Fo,n}return i=e.child,e=i.sibling,n=Xt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function tu(e,t){return t=Yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,r,n){return n!==null&&Fl(n),fn(t,e.child,null,r),e=tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function e0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Wa(Error(E(422))),Ws(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Yi({mode:"visible",children:n.children},s,0,null),i=wr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&fn(t,e.child,null,a),t.child.memoizedState=Bo(a),t.memoizedState=Fo,i);if(!(t.mode&1))return Ws(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(E(419)),n=Wa(i,n,void 0),Ws(e,t,a,n)}if(o=(a&e.childLanes)!==0,De||o){if(n=ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Et(e,s),ot(n,e,s,-1))}return ou(),n=Wa(Error(E(421))),Ws(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=h0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Be=Kt(s.nextSibling),We=t,ee=!0,it=null,e!==null&&(Ke[Ge++]=bt,Ke[Ge++]=kt,Ke[Ge++]=kr,bt=e.id,kt=e.overflow,kr=t),t=tu(t,n.children),t.flags|=4096,t)}function _c(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lo(e.return,t,r)}function Va(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function fh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,r,t);else if(e.tag===19)_c(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ci(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Va(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Va(t,!0,r,null,i);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Xt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function t0(e,t,r){switch(t.tag){case 3:ch(t),dn();break;case 5:Mf(t);break;case 1:Me(t.type)&&bi(t);break;case 4:Kl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Q(Si,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Q(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?dh(e,t,r):(Q(re,re.current&1),e=Ct(e,t,r),e!==null?e.sibling:null);Q(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,lh(e,t,r)}return Ct(e,t,r)}var hh,Wo,ph,mh;hh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wo=function(){};ph=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vr(mt.current);var i=null;switch(r){case"input":s=co(e,s),n=co(e,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=po(e,s),n=po(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wi)}go(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Y("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};mh=function(e,t,r,n){r!==n&&(t.flags|=4)};function On(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function r0(e,t,r){var n=t.pendingProps;switch(zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Me(t.type)&&_i(),ke(t),null;case 3:return n=t.stateNode,hn(),Z(Ae),Z(Ne),Ql(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(Xo(it),it=null))),Wo(e,t),ke(t),null;case 5:Gl(t);var s=vr(ds.current);if(r=t.type,e!==null&&t.stateNode!=null)ph(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ke(t),null}if(e=vr(mt.current),Fs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ht]=t,n[us]=i,e=(t.mode&1)!==0,r){case"dialog":Y("cancel",n),Y("close",n);break;case"iframe":case"object":case"embed":Y("load",n);break;case"video":case"audio":for(s=0;s<Un.length;s++)Y(Un[s],n);break;case"source":Y("error",n);break;case"img":case"image":case"link":Y("error",n),Y("load",n);break;case"details":Y("toggle",n);break;case"input":Pu(n,i),Y("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Y("invalid",n);break;case"textarea":Iu(n,i),Y("invalid",n)}go(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&zs(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&zs(n.textContent,o,e),s=["children",""+o]):Zn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Y("scroll",n)}switch(r){case"input":Is(n),Ou(n,i,!0);break;case"textarea":Is(n),Ru(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ht]=t,e[us]=n,hh(e,t,!1,!1),t.stateNode=e;e:{switch(a=yo(r,n),r){case"dialog":Y("cancel",e),Y("close",e),s=n;break;case"iframe":case"object":case"embed":Y("load",e),s=n;break;case"video":case"audio":for(s=0;s<Un.length;s++)Y(Un[s],e);s=n;break;case"source":Y("error",e),s=n;break;case"img":case"image":case"link":Y("error",e),Y("load",e),s=n;break;case"details":Y("toggle",e),s=n;break;case"input":Pu(e,n),s=co(e,n),Y("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),Y("invalid",e);break;case"textarea":Iu(e,n),s=po(e,n),Y("invalid",e);break;default:s=n}go(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?qd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Wd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&es(e,u):typeof u=="number"&&es(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Y("scroll",e):u!=null&&Sl(e,i,u,a))}switch(r){case"input":Is(e),Ou(e,n,!1);break;case"textarea":Is(e),Ru(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?tn(e,!!n.multiple,i,!1):n.defaultValue!=null&&tn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)mh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=vr(ds.current),vr(mt.current),Fs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ht]=t,(i=n.nodeValue!==r)&&(e=We,e!==null))switch(e.tag){case 3:zs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ht]=t,t.stateNode=n}return ke(t),null;case 13:if(Z(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Be!==null&&t.mode&1&&!(t.flags&128))Rf(),dn(),t.flags|=98560,i=!1;else if(i=Fs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ht]=t}else dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else it!==null&&(Xo(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?pe===0&&(pe=3):ou())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return hn(),Wo(e,t),e===null&&os(t.stateNode.containerInfo),ke(t),null;case 10:return Vl(t.type._context),ke(t),null;case 17:return Me(t.type)&&_i(),ke(t),null;case 19:if(Z(re),i=t.memoizedState,i===null)return ke(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)On(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ci(e),a!==null){for(t.flags|=128,On(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>mn&&(t.flags|=128,n=!0,On(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ci(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),On(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ee)return ke(t),null}else 2*le()-i.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,n=!0,On(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,r=re.current,Q(re,n?r&1|2:r&1),t):(ke(t),null);case 22:case 23:return au(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fe&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function n0(e,t){switch(zl(t),t.tag){case 1:return Me(t.type)&&_i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),Z(Ae),Z(Ne),Ql(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gl(t),null;case 13:if(Z(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(re),null;case 4:return hn(),null;case 10:return Vl(t.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var Vs=!1,Se=!1,s0=typeof WeakSet=="function"?WeakSet:Set,O=null;function Zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function Vo(e,t,r){try{r()}catch(n){oe(e,t,n)}}var bc=!1;function i0(e,t){if(Eo=yi,e=wf(),Ml(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var x;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===e)break t;if(h===r&&++c===s&&(o=a),h===i&&++d===n&&(u=a),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Co={focusedElem:e,selectionRange:r},yi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,v=w.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:rt(t.type,y),v);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){oe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return w=bc,bc=!1,w}function Kn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vo(t,r,i)}s=s.next}while(s!==n)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function gh(e){var t=e.alternate;t!==null&&(e.alternate=null,gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[us],delete t[Oo],delete t[Fg],delete t[Bg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yh(e){return e.tag===5||e.tag===3||e.tag===4}function kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ho(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wi));else if(n!==4&&(e=e.child,e!==null))for(Ho(e,t,r),e=e.sibling;e!==null;)Ho(e,t,r),e=e.sibling}function Ko(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ko(e,t,r),e=e.sibling;e!==null;)Ko(e,t,r),e=e.sibling}var xe=null,nt=!1;function Rt(e,t,r){for(r=r.child;r!==null;)vh(e,t,r),r=r.sibling}function vh(e,t,r){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Bi,r)}catch{}switch(r.tag){case 5:Se||Zr(r,t);case 6:var n=xe,s=nt;xe=null,Rt(e,t,r),xe=n,nt=s,xe!==null&&(nt?(e=xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xe.removeChild(r.stateNode));break;case 18:xe!==null&&(nt?(e=xe,r=r.stateNode,e.nodeType===8?Aa(e.parentNode,r):e.nodeType===1&&Aa(e,r),ss(e)):Aa(xe,r.stateNode));break;case 4:n=xe,s=nt,xe=r.stateNode.containerInfo,nt=!0,Rt(e,t,r),xe=n,nt=s;break;case 0:case 11:case 14:case 15:if(!Se&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Vo(r,t,a),s=s.next}while(s!==n)}Rt(e,t,r);break;case 1:if(!Se&&(Zr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){oe(r,t,o)}Rt(e,t,r);break;case 21:Rt(e,t,r);break;case 22:r.mode&1?(Se=(n=Se)||r.memoizedState!==null,Rt(e,t,r),Se=n):Rt(e,t,r);break;default:Rt(e,t,r)}}function jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new s0),t.forEach(function(n){var s=p0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function et(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:xe=o.stateNode,nt=!1;break e;case 3:xe=o.stateNode.containerInfo,nt=!0;break e;case 4:xe=o.stateNode.containerInfo,nt=!0;break e}o=o.return}if(xe===null)throw Error(E(160));vh(i,a,s),xe=null,nt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){oe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xh(t,e),t=t.sibling}function xh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(et(t,e),dt(e),n&4){try{Kn(3,e,e.return),Ji(3,e)}catch(y){oe(e,e.return,y)}try{Kn(5,e,e.return)}catch(y){oe(e,e.return,y)}}break;case 1:et(t,e),dt(e),n&512&&r!==null&&Zr(r,r.return);break;case 5:if(et(t,e),dt(e),n&512&&r!==null&&Zr(r,r.return),e.flags&32){var s=e.stateNode;try{es(s,"")}catch(y){oe(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&zd(s,i),yo(o,a);var c=yo(o,i);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?qd(s,f):d==="dangerouslySetInnerHTML"?Wd(s,f):d==="children"?es(s,f):Sl(s,d,f,c)}switch(o){case"input":fo(s,i);break;case"textarea":Fd(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?tn(s,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?tn(s,!!i.multiple,i.defaultValue,!0):tn(s,!!i.multiple,i.multiple?[]:"",!1))}s[us]=i}catch(y){oe(e,e.return,y)}}break;case 6:if(et(t,e),dt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){oe(e,e.return,y)}}break;case 3:if(et(t,e),dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ss(t.containerInfo)}catch(y){oe(e,e.return,y)}break;case 4:et(t,e),dt(e);break;case 13:et(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(su=le())),n&4&&jc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Se=(c=Se)||d,et(t,e),Se=c):et(t,e),dt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(f=O=d;O!==null;){switch(h=O,x=h.child,h.tag){case 0:case 11:case 14:case 15:Kn(4,h,h.return);break;case 1:Zr(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){oe(n,r,y)}}break;case 5:Zr(h,h.return);break;case 22:if(h.memoizedState!==null){Nc(f);continue}}x!==null?(x.return=h,O=x):Nc(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Vd("display",a))}catch(y){oe(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){oe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:et(t,e),dt(e),n&4&&jc(e);break;case 21:break;default:et(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(es(s,""),n.flags&=-33);var i=kc(e);Ko(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=kc(e);Ho(e,o,a);break;default:throw Error(E(161))}}catch(u){oe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a0(e,t,r){O=e,wh(e)}function wh(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Vs;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Se;o=Vs;var c=Se;if(Vs=a,(Se=u)&&!c)for(O=s;O!==null;)a=O,u=a.child,a.tag===22&&a.memoizedState!==null?Ec(s):u!==null?(u.return=a,O=u):Ec(s);for(;i!==null;)O=i,wh(i),i=i.sibling;O=s,Vs=o,Se=c}Sc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Sc(e)}}function Sc(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Se||Ji(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Se)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:rt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uc(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uc(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ss(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Se||t.flags&512&&qo(t)}catch(h){oe(t,t.return,h)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function Nc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function Ec(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ji(4,t)}catch(u){oe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){oe(t,s,u)}}var i=t.return;try{qo(t)}catch(u){oe(t,i,u)}break;case 5:var a=t.return;try{qo(t)}catch(u){oe(t,a,u)}}}catch(u){oe(t,t.return,u)}if(t===e){O=null;break}var o=t.sibling;if(o!==null){o.return=t.return,O=o;break}O=t.return}}var o0=Math.ceil,Oi=Pt.ReactCurrentDispatcher,ru=Pt.ReactCurrentOwner,Je=Pt.ReactCurrentBatchConfig,F=0,ye=null,de=null,we=0,Fe=0,en=nr(0),pe=0,ms=null,Sr=0,Xi=0,nu=0,Gn=null,$e=null,su=0,mn=1/0,vt=null,Ii=!1,Go=null,Qt=null,qs=!1,Bt=null,Ri=0,Qn=0,Qo=null,oi=-1,li=0;function Pe(){return F&6?le():oi!==-1?oi:oi=le()}function Jt(e){return e.mode&1?F&2&&we!==0?we&-we:Vg.transition!==null?(li===0&&(li=nf()),li):(e=q,e!==0||(e=window.event,e=e===void 0?16:df(e.type)),e):1}function ot(e,t,r,n){if(50<Qn)throw Qn=0,Qo=null,Error(E(185));_s(e,r,n),(!(F&2)||e!==ye)&&(e===ye&&(!(F&2)&&(Xi|=r),pe===4&&Ut(e,we)),Ue(e,n),r===1&&F===0&&!(t.mode&1)&&(mn=le()+500,Ki&&sr()))}function Ue(e,t){var r=e.callbackNode;Vm(e,t);var n=gi(e,e===ye?we:0);if(n===0)r!==null&&Du(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Du(r),t===1)e.tag===0?Wg(Cc.bind(null,e)):Pf(Cc.bind(null,e)),Ug(function(){!(F&6)&&sr()}),r=null;else{switch(sf(n)){case 1:r=Pl;break;case 4:r=tf;break;case 16:r=mi;break;case 536870912:r=rf;break;default:r=mi}r=Ch(r,_h.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _h(e,t){if(oi=-1,li=0,F&6)throw Error(E(327));var r=e.callbackNode;if(on()&&e.callbackNode!==r)return null;var n=gi(e,e===ye?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$i(e,n);else{t=n;var s=F;F|=2;var i=kh();(ye!==e||we!==t)&&(vt=null,mn=le()+500,xr(e,t));do try{c0();break}catch(o){bh(e,o)}while(!0);Wl(),Oi.current=i,F=s,de!==null?t=0:(ye=null,we=0,t=pe)}if(t!==0){if(t===2&&(s=bo(e),s!==0&&(n=s,t=Jo(e,s))),t===1)throw r=ms,xr(e,0),Ut(e,n),Ue(e,le()),r;if(t===6)Ut(e,n);else{if(s=e.current.alternate,!(n&30)&&!l0(s)&&(t=$i(e,n),t===2&&(i=bo(e),i!==0&&(n=i,t=Jo(e,i))),t===1))throw r=ms,xr(e,0),Ut(e,n),Ue(e,le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:fr(e,$e,vt);break;case 3:if(Ut(e,n),(n&130023424)===n&&(t=su+500-le(),10<t)){if(gi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Po(fr.bind(null,e,$e,vt),t);break}fr(e,$e,vt);break;case 4:if(Ut(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-at(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o0(n/1960))-n,10<n){e.timeoutHandle=Po(fr.bind(null,e,$e,vt),n);break}fr(e,$e,vt);break;case 5:fr(e,$e,vt);break;default:throw Error(E(329))}}}return Ue(e,le()),e.callbackNode===r?_h.bind(null,e):null}function Jo(e,t){var r=Gn;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=$i(e,t),e!==2&&(t=$e,$e=r,t!==null&&Xo(t)),e}function Xo(e){$e===null?$e=e:$e.push.apply($e,e)}function l0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!lt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~nu,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function Cc(e){if(F&6)throw Error(E(327));on();var t=gi(e,0);if(!(t&1))return Ue(e,le()),null;var r=$i(e,t);if(e.tag!==0&&r===2){var n=bo(e);n!==0&&(t=n,r=Jo(e,n))}if(r===1)throw r=ms,xr(e,0),Ut(e,t),Ue(e,le()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,$e,vt),Ue(e,le()),null}function iu(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(mn=le()+500,Ki&&sr())}}function Nr(e){Bt!==null&&Bt.tag===0&&!(F&6)&&on();var t=F;F|=1;var r=Je.transition,n=q;try{if(Je.transition=null,q=1,e)return e()}finally{q=n,Je.transition=r,F=t,!(F&6)&&sr()}}function au(){Fe=en.current,Z(en)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Mg(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(zl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_i();break;case 3:hn(),Z(Ae),Z(Ne),Ql();break;case 5:Gl(n);break;case 4:hn();break;case 13:Z(re);break;case 19:Z(re);break;case 10:Vl(n.type._context);break;case 22:case 23:au()}r=r.return}if(ye=e,de=e=Xt(e.current,null),we=Fe=t,pe=0,ms=null,nu=Xi=Sr=0,$e=Gn=null,yr!==null){for(t=0;t<yr.length;t++)if(r=yr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}yr=null}return e}function bh(e,t){do{var r=de;try{if(Wl(),si.current=Pi,Ti){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ti=!1}if(jr=0,ge=he=ne=null,Hn=!1,fs=0,ru.current=null,r===null||r.return===null){pe=1,ms=t,de=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=we,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=mc(a);if(x!==null){x.flags&=-257,gc(x,a,o,i,t),x.mode&1&&pc(i,c,t),t=x,u=c;var w=t.updateQueue;if(w===null){var y=new Set;y.add(u),t.updateQueue=y}else w.add(u);break e}else{if(!(t&1)){pc(i,c,t),ou();break e}u=Error(E(426))}}else if(ee&&o.mode&1){var v=mc(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),gc(v,a,o,i,t),Fl(pn(u,o));break e}}i=u=pn(u,o),pe!==4&&(pe=2),Gn===null?Gn=[i]:Gn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=ih(i,u,t);lc(i,p);break e;case 1:o=u;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qt===null||!Qt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=ah(i,o,t);lc(i,_);break e}}i=i.return}while(i!==null)}Sh(r)}catch(k){t=k,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function kh(){var e=Oi.current;return Oi.current=Pi,e===null?Pi:e}function ou(){(pe===0||pe===3||pe===2)&&(pe=4),ye===null||!(Sr&268435455)&&!(Xi&268435455)||Ut(ye,we)}function $i(e,t){var r=F;F|=2;var n=kh();(ye!==e||we!==t)&&(vt=null,xr(e,t));do try{u0();break}catch(s){bh(e,s)}while(!0);if(Wl(),F=r,Oi.current=n,de!==null)throw Error(E(261));return ye=null,we=0,pe}function u0(){for(;de!==null;)jh(de)}function c0(){for(;de!==null&&!Lm();)jh(de)}function jh(e){var t=Eh(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?Sh(e):de=t,ru.current=null}function Sh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=n0(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(r=r0(r,t,Fe),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);pe===0&&(pe=5)}function fr(e,t,r){var n=q,s=Je.transition;try{Je.transition=null,q=1,d0(e,t,r,n)}finally{Je.transition=s,q=n}return null}function d0(e,t,r,n){do on();while(Bt!==null);if(F&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(qm(e,i),e===ye&&(de=ye=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qs||(qs=!0,Ch(mi,function(){return on(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var a=q;q=1;var o=F;F|=4,ru.current=null,i0(e,r),xh(r,e),Og(Co),yi=!!Eo,Co=Eo=null,e.current=r,a0(r),Dm(),F=o,q=a,Je.transition=i}else e.current=r;if(qs&&(qs=!1,Bt=e,Ri=s),i=e.pendingLanes,i===0&&(Qt=null),Um(r.stateNode),Ue(e,le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ii)throw Ii=!1,e=Go,Go=null,e;return Ri&1&&e.tag!==0&&on(),i=e.pendingLanes,i&1?e===Qo?Qn++:(Qn=0,Qo=e):Qn=0,sr(),null}function on(){if(Bt!==null){var e=sf(Ri),t=Je.transition,r=q;try{if(Je.transition=null,q=16>e?16:e,Bt===null)var n=!1;else{if(e=Bt,Bt=null,Ri=0,F&6)throw Error(E(331));var s=F;for(F|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Kn(8,d,i)}var f=d.child;if(f!==null)f.return=d,O=f;else for(;O!==null;){d=O;var h=d.sibling,x=d.return;if(gh(d),d===c){O=null;break}if(h!==null){h.return=x,O=h;break}O=x}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var m=e.current;for(O=m;O!==null;){a=O;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,O=g;else e:for(a=m;O!==null;){if(o=O,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ji(9,o)}}catch(k){oe(o,o.return,k)}if(o===a){O=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,O=_;break e}O=o.return}}if(F=s,sr(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Bi,e)}catch{}n=!0}return n}finally{q=r,Je.transition=t}}return!1}function Tc(e,t,r){t=pn(r,t),t=ih(e,t,1),e=Gt(e,t,1),t=Pe(),e!==null&&(_s(e,1,t),Ue(e,t))}function oe(e,t,r){if(e.tag===3)Tc(e,e,r);else for(;t!==null;){if(t.tag===3){Tc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qt===null||!Qt.has(n))){e=pn(r,e),e=ah(t,e,1),t=Gt(t,e,1),e=Pe(),t!==null&&(_s(t,1,e),Ue(t,e));break}}t=t.return}}function f0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(we&r)===r&&(pe===4||pe===3&&(we&130023424)===we&&500>le()-su?xr(e,0):nu|=r),Ue(e,t)}function Nh(e,t){t===0&&(e.mode&1?(t=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):t=1);var r=Pe();e=Et(e,t),e!==null&&(_s(e,t,r),Ue(e,r))}function h0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nh(e,r)}function p0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Nh(e,r)}var Eh;Eh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)De=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return De=!1,t0(e,t,r);De=!!(e.flags&131072)}else De=!1,ee&&t.flags&1048576&&Of(t,ji,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ai(e,t),e=t.pendingProps;var s=cn(t,Ne.current);an(t,r),s=Xl(null,t,n,e,s,r);var i=Yl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(n)?(i=!0,bi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hl(t),s.updater=Qi,t.stateNode=s,s._reactInternals=t,Ao(t,n,e,r),t=zo(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&Ul(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ai(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=g0(n),e=rt(n,e),s){case 0:t=Uo(null,t,n,e,r);break e;case 1:t=xc(null,t,n,e,r);break e;case 11:t=yc(null,t,n,e,r);break e;case 14:t=vc(null,t,n,rt(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),Uo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),xc(e,t,n,s,r);case 3:e:{if(ch(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Af(e,t),Ei(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pn(Error(E(423)),t),t=wc(e,t,n,r,s);break e}else if(n!==s){s=pn(Error(E(424)),t),t=wc(e,t,n,r,s);break e}else for(Be=Kt(t.stateNode.containerInfo.firstChild),We=t,ee=!0,it=null,r=Lf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dn(),n===s){t=Ct(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return Mf(t),e===null&&$o(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,To(n,s)?a=null:i!==null&&To(n,i)&&(t.flags|=32),uh(e,t),Ce(e,t,a,r),t.child;case 6:return e===null&&$o(t),null;case 13:return dh(e,t,r);case 4:return Kl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=fn(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),yc(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Q(Si,n._currentValue),n._currentValue=a,i!==null)if(lt(i.value,a)){if(i.children===s.children&&!Ae.current){t=Ct(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=jt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Lo(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Lo(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,an(t,r),s=Ye(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=rt(n,t.pendingProps),s=rt(n.type,s),vc(e,t,n,s,r);case 15:return oh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:rt(n,s),ai(e,t),t.tag=1,Me(n)?(e=!0,bi(t)):e=!1,an(t,r),sh(t,n,s),Ao(t,n,s,r),zo(null,t,n,!0,e,r);case 19:return fh(e,t,r);case 22:return lh(e,t,r)}throw Error(E(156,t.tag))};function Ch(e,t){return ef(e,t)}function m0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,r,n){return new m0(e,t,r,n)}function lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g0(e){if(typeof e=="function")return lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===El)return 11;if(e===Cl)return 14}return 2}function Xt(e,t){var r=e.alternate;return r===null?(r=Qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ui(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")lu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Vr:return wr(r.children,s,i,t);case Nl:a=8,s|=8;break;case ao:return e=Qe(12,r,t,s|2),e.elementType=ao,e.lanes=i,e;case oo:return e=Qe(13,r,t,s),e.elementType=oo,e.lanes=i,e;case lo:return e=Qe(19,r,t,s),e.elementType=lo,e.lanes=i,e;case Ad:return Yi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ld:a=10;break e;case Dd:a=9;break e;case El:a=11;break e;case Cl:a=14;break e;case Dt:a=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Qe(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function wr(e,t,r,n){return e=Qe(7,e,n,t),e.lanes=r,e}function Yi(e,t,r,n){return e=Qe(22,e,n,t),e.elementType=Ad,e.lanes=r,e.stateNode={isHidden:!1},e}function qa(e,t,r){return e=Qe(6,e,null,t),e.lanes=r,e}function Ha(e,t,r){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uu(e,t,r,n,s,i,a,o,u){return e=new y0(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(i),e}function v0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Th(e){if(!e)return er;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Me(r))return Tf(e,r,t)}return t}function Ph(e,t,r,n,s,i,a,o,u){return e=uu(r,n,!0,e,s,i,a,o,u),e.context=Th(null),r=e.current,n=Pe(),s=Jt(r),i=jt(n,s),i.callback=t??null,Gt(r,i,s),e.current.lanes=s,_s(e,s,n),Ue(e,n),e}function Zi(e,t,r,n){var s=t.current,i=Pe(),a=Jt(s);return r=Th(r),t.context===null?t.context=r:t.pendingContext=r,t=jt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gt(s,t,a),e!==null&&(ot(e,s,a,i),ni(e,s,a)),a}function Li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cu(e,t){Pc(e,t),(e=e.alternate)&&Pc(e,t)}function x0(){return null}var Oh=typeof reportError=="function"?reportError:function(e){console.error(e)};function du(e){this._internalRoot=e}ea.prototype.render=du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Zi(e,t,null,null)};ea.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Zi(null,e,null,null)}),t[Nt]=null}};function ea(e){this._internalRoot=e}ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=lf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&t!==0&&t<Mt[r].priority;r++);Mt.splice(r,0,e),r===0&&cf(e)}};function fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oc(){}function w0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Li(a);i.call(c)}}var a=Ph(t,n,e,0,null,!1,!1,"",Oc);return e._reactRootContainer=a,e[Nt]=a.current,os(e.nodeType===8?e.parentNode:e),Nr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Li(u);o.call(c)}}var u=uu(e,0,!1,null,null,!1,!1,"",Oc);return e._reactRootContainer=u,e[Nt]=u.current,os(e.nodeType===8?e.parentNode:e),Nr(function(){Zi(t,u,r,n)}),u}function ra(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=Li(a);o.call(u)}}Zi(t,a,e,s)}else a=w0(r,t,e,s,n);return Li(a)}af=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mn(t.pendingLanes);r!==0&&(Ol(t,r|1),Ue(t,le()),!(F&6)&&(mn=le()+500,sr()))}break;case 13:Nr(function(){var n=Et(e,1);if(n!==null){var s=Pe();ot(n,e,1,s)}}),cu(e,1)}};Il=function(e){if(e.tag===13){var t=Et(e,134217728);if(t!==null){var r=Pe();ot(t,e,134217728,r)}cu(e,134217728)}};of=function(e){if(e.tag===13){var t=Jt(e),r=Et(e,t);if(r!==null){var n=Pe();ot(r,e,t,n)}cu(e,t)}};lf=function(){return q};uf=function(e,t){var r=q;try{return q=e,t()}finally{q=r}};xo=function(e,t,r){switch(t){case"input":if(fo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Hi(n);if(!s)throw Error(E(90));Ud(n),fo(n,s)}}}break;case"textarea":Fd(e,r);break;case"select":t=r.value,t!=null&&tn(e,!!r.multiple,t,!1)}};Gd=iu;Qd=Nr;var _0={usingClientEntryPoint:!1,Events:[ks,Gr,Hi,Hd,Kd,iu]},In={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b0={bundleType:In.bundleType,version:In.version,rendererPackageName:In.rendererPackageName,rendererConfig:In.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yd(e),e===null?null:e.stateNode},findFiberByHostInstance:In.findFiberByHostInstance||x0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Bi=Hs.inject(b0),pt=Hs}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_0;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fu(t))throw Error(E(200));return v0(e,t,null,r)};qe.createRoot=function(e,t){if(!fu(e))throw Error(E(299));var r=!1,n="",s=Oh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=uu(e,1,!1,null,null,r,!1,n,s),e[Nt]=t.current,os(e.nodeType===8?e.parentNode:e),new du(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Yd(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Nr(e)};qe.hydrate=function(e,t,r){if(!ta(t))throw Error(E(200));return ra(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!fu(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Oh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Ph(t,null,e,1,r??null,s,!1,i,a),e[Nt]=t.current,os(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ea(t)};qe.render=function(e,t,r){if(!ta(t))throw Error(E(200));return ra(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!ta(e))throw Error(E(40));return e._reactRootContainer?(Nr(function(){ra(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};qe.unstable_batchedUpdates=iu;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ta(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return ra(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function Ih(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ih)}catch(e){console.error(e)}}Ih(),Od.exports=qe;var k0=Od.exports,Rh,Ic=k0;Rh=Ic.createRoot,Ic.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}var Wt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wt||(Wt={}));const Rc="popstate";function j0(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Yo("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Di(s)}return N0(t,r,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $h(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S0(){return Math.random().toString(36).substr(2,8)}function $c(e,t){return{usr:e.state,key:e.key,idx:t}}function Yo(e,t,r,n){return r===void 0&&(r=null),gs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_n(t):t,{state:r,key:t&&t.key||n||S0()})}function Di(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _n(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function N0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Wt.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(gs({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Wt.Pop;let v=d(),p=v==null?null:v-c;c=v,u&&u({action:o,location:y.location,delta:p})}function h(v,p){o=Wt.Push;let m=Yo(y.location,v,p);c=d()+1;let g=$c(m,c),_=y.createHref(m);try{a.pushState(g,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&u&&u({action:o,location:y.location,delta:1})}function x(v,p){o=Wt.Replace;let m=Yo(y.location,v,p);c=d();let g=$c(m,c),_=y.createHref(m);a.replaceState(g,"",_),i&&u&&u({action:o,location:y.location,delta:0})}function w(v){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof v=="string"?v:Di(v);return m=m.replace(/ $/,"%20"),se(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let y={get action(){return o},get location(){return e(s,a)},listen(v){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Rc,f),u=v,()=>{s.removeEventListener(Rc,f),u=null}},createHref(v){return t(s,v)},createURL:w,encodeLocation(v){let p=w(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:x,go(v){return a.go(v)}};return y}var Lc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lc||(Lc={}));function E0(e,t,r){return r===void 0&&(r="/"),C0(e,t,r)}function C0(e,t,r,n){let s=typeof t=="string"?_n(t):t,i=gn(s.pathname||"/",r);if(i==null)return null;let a=Lh(e);T0(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=z0(i);o=M0(a[u],c)}return o}function Lh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(se(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=Yt([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Lh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:D0(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of Dh(i.path))s(i,a,u)}),t}function Dh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Dh(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function T0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:A0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const P0=/^:[\w-]+$/,O0=3,I0=2,R0=1,$0=10,L0=-2,Dc=e=>e==="*";function D0(e,t){let r=e.split("/"),n=r.length;return r.some(Dc)&&(n+=L0),t&&(n+=I0),r.filter(s=>!Dc(s)).reduce((s,i)=>s+(P0.test(i)?O0:i===""?R0:$0),n)}function A0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function M0(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Zo({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Yt([i,f.pathname]),pathnameBase:V0(Yt([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Yt([i,f.pathnameBase]))}return a}function Zo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=U0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:x}=d;if(h==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=o[f];return x&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function U0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$h(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function z0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function F0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?_n(e):e;return{pathname:r?r.startsWith("/")?r:B0(r,t):t,search:q0(n),hash:H0(s)}}function B0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ka(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hu(e,t){let r=W0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=_n(e):(s=gs({},e),se(!s.pathname||!s.pathname.includes("?"),Ka("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),Ka("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),Ka("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let u=F0(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Yt=e=>e.join("/").replace(/\/\/+/g,"/"),V0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ah=["post","put","patch","delete"];new Set(Ah);const G0=["get",...Ah];new Set(G0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}const na=b.createContext(null),Mh=b.createContext(null),Ot=b.createContext(null),sa=b.createContext(null),gt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Uh=b.createContext(null);function Q0(e,t){let{relative:r}=t===void 0?{}:t;bn()||se(!1);let{basename:n,navigator:s}=b.useContext(Ot),{hash:i,pathname:a,search:o}=ia(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Yt([n,a])),s.createHref({pathname:u,search:o,hash:i})}function bn(){return b.useContext(sa)!=null}function It(){return bn()||se(!1),b.useContext(sa).location}function zh(e){b.useContext(Ot).static||b.useLayoutEffect(e)}function ir(){let{isDataRoute:e}=b.useContext(gt);return e?cy():J0()}function J0(){bn()||se(!1);let e=b.useContext(na),{basename:t,future:r,navigator:n}=b.useContext(Ot),{matches:s}=b.useContext(gt),{pathname:i}=It(),a=JSON.stringify(hu(s,r.v7_relativeSplatPath)),o=b.useRef(!1);return zh(()=>{o.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=pu(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yt([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}const X0=b.createContext(null);function Y0(e){let t=b.useContext(gt).outlet;return t&&b.createElement(X0.Provider,{value:e},t)}function Pr(){let{matches:e}=b.useContext(gt),t=e[e.length-1];return t?t.params:{}}function ia(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Ot),{matches:s}=b.useContext(gt),{pathname:i}=It(),a=JSON.stringify(hu(s,n.v7_relativeSplatPath));return b.useMemo(()=>pu(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Z0(e,t){return ey(e,t)}function ey(e,t,r,n){bn()||se(!1);let{navigator:s}=b.useContext(Ot),{matches:i}=b.useContext(gt),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=It(),d;if(t){var f;let v=typeof t=="string"?_n(t):t;u==="/"||(f=v.pathname)!=null&&f.startsWith(u)||se(!1),d=v}else d=c;let h=d.pathname||"/",x=h;if(u!=="/"){let v=u.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=E0(e,{pathname:x}),y=iy(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Yt([u,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Yt([u,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?b.createElement(sa.Provider,{value:{location:ys({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Wt.Pop}},y):y}function ty(){let e=uy(),t=K0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const ry=b.createElement(ty,null);class ny extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(gt.Provider,{value:this.props.routeContext},b.createElement(Uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sy(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(na);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(gt.Provider,{value:t},n)}function iy(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||se(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:x}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||w){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let x,w=!1,y=null,v=null;r&&(x=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||ry,u&&(c<0&&h===0?(dy("route-fallback"),w=!0,v=null):c===h&&(w=!0,v=f.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,h+1)),m=()=>{let g;return x?g=y:w?g=v:f.route.Component?g=b.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,b.createElement(sy,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(ny,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Fh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fh||{}),Bh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bh||{});function ay(e){let t=b.useContext(na);return t||se(!1),t}function oy(e){let t=b.useContext(Mh);return t||se(!1),t}function ly(e){let t=b.useContext(gt);return t||se(!1),t}function Wh(e){let t=ly(),r=t.matches[t.matches.length-1];return r.route.id||se(!1),r.route.id}function uy(){var e;let t=b.useContext(Uh),r=oy(),n=Wh();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cy(){let{router:e}=ay(Fh.UseNavigateStable),t=Wh(Bh.UseNavigateStable),r=b.useRef(!1);return zh(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ys({fromRouteId:t},i)))},[e,t])}const Ac={};function dy(e,t,r){Ac[e]||(Ac[e]=!0)}function fy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ks(e){let{to:t,replace:r,state:n,relative:s}=e;bn()||se(!1);let{future:i,static:a}=b.useContext(Ot),{matches:o}=b.useContext(gt),{pathname:u}=It(),c=ir(),d=pu(t,hu(o,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function hy(e){return Y0(e.context)}function fe(e){se(!1)}function py(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Wt.Pop,navigator:i,static:a=!1,future:o}=e;bn()&&se(!1);let u=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:i,static:a,future:ys({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=_n(n));let{pathname:d="/",search:f="",hash:h="",state:x=null,key:w="default"}=n,y=b.useMemo(()=>{let v=gn(d,u);return v==null?null:{location:{pathname:v,search:f,hash:h,state:x,key:w},navigationType:s}},[u,d,f,h,x,w,s]);return y==null?null:b.createElement(Ot.Provider,{value:c},b.createElement(sa.Provider,{children:r,value:y}))}function my(e){let{children:t,location:r}=e;return Z0(el(t),r)}new Promise(()=>{});function el(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,el(n.props.children,i));return}n.type!==fe&&se(!1),!n.props.index||!n.props.children||se(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=el(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(this,arguments)}function Vh(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function gy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yy(e,t){return e.button===0&&(!t||t==="_self")&&!gy(e)}function tl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function vy(e,t){let r=tl(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const xy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wy=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_y="6";try{window.__reactRouterVersion=_y}catch{}const by=b.createContext({isTransitioning:!1}),ky="startTransition",Mc=fm[ky];function jy(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=j0({window:s,v5Compat:!0}));let a=i.current,[o,u]=b.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=b.useCallback(f=>{c&&Mc?Mc(()=>u(f)):u(f)},[u,c]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>fy(n),[n]),b.createElement(py,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Sy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=Vh(t,xy),{basename:x}=b.useContext(Ot),w,y=!1;if(typeof c=="string"&&Ny.test(c)&&(w=c,Sy))try{let g=new URL(window.location.href),_=c.startsWith("//")?new URL(g.protocol+c):new URL(c),k=gn(_.pathname,x);_.origin===g.origin&&k!=null?c=k+_.search+_.hash:y=!0}catch{}let v=Q0(c,{relative:s}),p=Cy(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:s,viewTransition:f});function m(g){n&&n(g),g.defaultPrevented||p(g)}return b.createElement("a",Ai({},h,{href:w||v,onClick:y||i?n:m,ref:r,target:u}))}),Uc=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:c,children:d}=t,f=Vh(t,wy),h=ia(u,{relative:f.relative}),x=It(),w=b.useContext(Mh),{navigator:y,basename:v}=b.useContext(Ot),p=w!=null&&Ty(h)&&c===!0,m=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,g=x.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(g=g.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase()),_&&v&&(_=gn(_,v)||_);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=g===m||!a&&g.startsWith(m)&&g.charAt(k)==="/",j=_!=null&&(_===m||!a&&_.startsWith(m)&&_.charAt(m.length)==="/"),C={isActive:S,isPending:j,isTransitioning:p},$=S?n:void 0,N;typeof i=="function"?N=i(C):N=[i,S?"active":null,j?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(C):o;return b.createElement(G,Ai({},f,{"aria-current":$,className:N,ref:r,style:T,to:u,viewTransition:c}),typeof d=="function"?d(C):d)});var rl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rl||(rl={}));var zc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zc||(zc={}));function Ey(e){let t=b.useContext(na);return t||se(!1),t}function Cy(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=ir(),c=It(),d=ia(e,{relative:a});return b.useCallback(f=>{if(yy(f,r)){f.preventDefault();let h=n!==void 0?n:Di(c)===Di(d);u(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,u,d,n,s,r,e,i,a,o])}function qh(e){let t=b.useRef(tl(e)),r=b.useRef(!1),n=It(),s=b.useMemo(()=>vy(n.search,r.current?null:t.current),[n.search]),i=ir(),a=b.useCallback((o,u)=>{const c=tl(typeof o=="function"?o(s):o);r.current=!0,i("?"+c,u)},[i,s]);return[s,a]}function Ty(e,t){t===void 0&&(t={});let r=b.useContext(by);r==null&&se(!1);let{basename:n}=Ey(rl.useViewTransitionState),s=ia(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=gn(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=gn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zo(s.pathname,a)!=null||Zo(s.pathname,i)!=null}const Py="modulepreload",Oy=function(e){return"/"+e},Fc={},Ss=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Oy(u),u in Fc)return;Fc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Py,c||(f.as="script"),f.crossOrigin="",f.href=u,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,x)=>{f.addEventListener("load",h),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ry extends mu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Bc extends mu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wc extends mu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nl||(nl={}));var $y=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Ly{constructor(t,{headers:r={},customFetch:n,region:s=nl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Iy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return $y(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(o["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(y=>{throw new Ry(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Bc(f);if(!f.ok)throw new Wc(f);let x=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield f.json():x==="application/octet-stream"?w=yield f.blob():x==="text/event-stream"?w=f:x==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Wc||s instanceof Bc?s.context:void 0}}})}}var Le={},gu={},aa={},Ns={},oa={},la={},Dy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yn=Dy();const Ay=yn.fetch,Hh=yn.fetch.bind(yn),Kh=yn.Headers,My=yn.Request,Uy=yn.Response,kn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kh,Request:My,Response:Uy,default:Hh,fetch:Ay},Symbol.toStringTag,{value:"Module"})),zy=Jp(kn);var ua={};Object.defineProperty(ua,"__esModule",{value:!0});let Fy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ua.default=Fy;var Gh=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const By=Gh(zy),Wy=Gh(ua);let Vy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=By.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let c=null,d=null,f=null,h=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,x="OK")}catch{i.status===404&&y===""?(h=204,x="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,x="OK"),c&&this.shouldThrowOnError)throw new Wy.default(c)}return{error:c,data:d,count:f,status:h,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};la.default=Vy;var qy=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});const Hy=qy(la);let Ky=class extends Hy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};oa.default=Ky;var Gy=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ns,"__esModule",{value:!0});const Qy=Gy(oa);let Jy=class extends Qy.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ns.default=Jy;var Xy=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aa,"__esModule",{value:!0});const Rn=Xy(Ns);let Yy=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new Rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Rn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Rn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Rn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};aa.default=Yy;var ca={},da={};Object.defineProperty(da,"__esModule",{value:!0});da.version=void 0;da.version="0.0.0-automated";Object.defineProperty(ca,"__esModule",{value:!0});ca.DEFAULT_HEADERS=void 0;const Zy=da;ca.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Zy.version}`};var Qh=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gu,"__esModule",{value:!0});const ev=Qh(aa),tv=Qh(Ns),rv=ca;let nv=class Jh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},rv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new ev.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Jh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new tv.default({method:a,url:o,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};gu.default=nv;var jn=Xe&&Xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const Xh=jn(gu);Le.PostgrestClient=Xh.default;const Yh=jn(aa);Le.PostgrestQueryBuilder=Yh.default;const Zh=jn(Ns);Le.PostgrestFilterBuilder=Zh.default;const ep=jn(oa);Le.PostgrestTransformBuilder=ep.default;const tp=jn(la);Le.PostgrestBuilder=tp.default;const rp=jn(ua);Le.PostgrestError=rp.default;var sv=Le.default={PostgrestClient:Xh.default,PostgrestQueryBuilder:Yh.default,PostgrestFilterBuilder:Zh.default,PostgrestTransformBuilder:ep.default,PostgrestBuilder:tp.default,PostgrestError:rp.default};const{PostgrestClient:iv,PostgrestQueryBuilder:$1,PostgrestFilterBuilder:L1,PostgrestTransformBuilder:D1,PostgrestBuilder:A1,PostgrestError:M1}=sv;function av(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ov=av(),lv="2.11.15",uv=`realtime-js/${lv}`,cv="1.0.0",np=1e4,dv=1e3;var Jn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jn||(Jn={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var st;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(st||(st={}));var sl;(function(e){e.websocket="websocket"})(sl||(sl={}));var mr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mr||(mr={}));class fv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class sp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const Vc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=hv(a,e,t,s),i),{})},hv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?ip(i,a):il(a)},ip=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yv(t,r)}switch(e){case K.bool:return pv(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return mv(t);case K.json:case K.jsonb:return gv(t);case K.timestamp:return vv(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return il(t);default:return il(t)}},il=e=>e,pv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>ip(t,o))}return e},vv=e=>typeof e=="string"?e.replace(" ","T"):e,ap=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ga{constructor(t,r,n={},s=np){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qc||(qc={}));class Xn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Xn.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(v=>v.presence_ref),x=f.map(v=>v.presence_ref),w=d.filter(v=>x.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);w.length>0&&(o[c]=w),y.length>0&&(u[c]=y)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const f=t[o].map(x=>x.presence_ref),h=d.filter(x=>f.indexOf(x.presence_ref)<0);t[o].unshift(...h)}n(o,d,u)}),this.map(a,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hc||(Hc={}));var Kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kc||(Kc={}));var xt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class yu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ga(this,st.join,this.params,this.timeout),this.rejoinTimer=new sp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Xn(this),this.broadcastEndpointURL=ap(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(xt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(xt.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(xt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,x=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let y=0;y<x;y++){const v=h[y],{filter:{event:p,schema:m,table:g,filter:_}}=v,k=d&&d[y];if(k&&k.event===p&&k.schema===m&&k.table===g&&k.filter===_)w.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=je.errored,t==null||t(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(xt.SUBSCRIBED);return}}).receive("error",d=>{this.state=je.errored,t==null||t(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ga(this,st.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ga(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=st;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var w,y,v;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((v=(y=x.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(x=>x.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(x=>{var w,y,v,p,m,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in x){const _=x.id,k=(w=x.filter)===null||w===void 0?void 0:w.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(m=(p=x==null?void 0:x.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===a}).map(x=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:y,table:v,commit_timestamp:p,type:m,errors:g}=w;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(w))}x.callback(h,n)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(st.close,{},t)}_onError(t){this._on(st.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Vc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Vc(t.columns,t.old_record)),r}}const Gc=()=>{},xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=np,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gc,this.ref=0,this.logger=Gc,this.conn=null,this.sendBuffer=[],this.serializer=new fv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ss(async()=>{const{default:u}=await Promise.resolve().then(()=>kn);return{default:u}},void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${sl.websocket}`,this.httpEndpoint=ap(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ov),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jn.connecting:return mr.Connecting;case Jn.open:return mr.Open;case Jn.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new yu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:uv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(st.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(dv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(st.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([xv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class vu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _v extends vu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class al extends vu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var bv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const op=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},kv=()=>bv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>kn),void 0)).Response:Response}),ol=e=>{if(Array.isArray(e))return e.map(r=>ol(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ol(n)}),t},jv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Or=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sv=(e,t,r)=>Or(void 0,void 0,void 0,function*(){const n=yield kv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new _v(Qa(s),i,a))}).catch(s=>{t(new al(Qa(s),s))}):t(new al(Qa(e),e))}),Nv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(jv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Es(e,t,r,n,s,i){return Or(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,Nv(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Sv(u,o,n))})})}function Mi(e,t,r,n){return Or(this,void 0,void 0,function*(){return Es(e,"GET",t,r,n)})}function wt(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Es(e,"POST",t,n,s,r)})}function ll(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Es(e,"PUT",t,n,s,r)})}function Ev(e,t,r,n){return Or(this,void 0,void 0,function*(){return Es(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lp(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Es(e,"DELETE",t,n,s,r)})}var Re=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Cv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tv{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=op(s)}uploadOrUpdate(t,r,n,s){return Re(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Qc),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(t=="PUT"?ll:wt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Qc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield ll(this.fetch,o.toString(),u,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(u){if(me(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new vu("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}update(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Re(this,void 0,void 0,function*(){try{const s=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}download(t,r){return Re(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Mi(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}info(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ol(n),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}exists(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ev(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(me(n)&&n instanceof al){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Re(this,void 0,void 0,function*(){try{return{data:yield lp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}list(t,r,n){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cv),r),{prefix:t||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Pv="2.10.4",Ov={"X-Client-Info":`storage-js/${Pv}`};var Lr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Iv{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Ov),r),this.fetch=op(n)}listBuckets(){return Lr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}getBucket(t){return Lr(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Lr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Lr(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Lr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Lr(this,void 0,void 0,function*(){try{return{data:yield lp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}}class Rv extends Iv{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Tv(this.url,this.headers,t,this.fetch)}}const $v="2.53.0";let zn="";typeof Deno<"u"?zn="deno":typeof document<"u"?zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zn="react-native":zn="node";const Lv={"X-Client-Info":`supabase-js-${zn}/${$v}`},Dv={headers:Lv},Av={schema:"public"},Mv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uv={};var zv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Fv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Hh:t=fetch,(...r)=>t(...r)},Bv=()=>typeof Headers>"u"?Kh:Headers,Wv=(e,t,r)=>{const n=Fv(r),s=Bv();return(i,a)=>zv(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Vv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function qv(e){return e.endsWith("/")?e:e+"/"}function Hv(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:u,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Vv(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const up="2.71.1",Fr=30*1e3,ul=3,Ja=ul*Fr,Kv="http://localhost:9999",Gv="supabase.auth.token",Qv={"X-Client-Info":`gotrue-js/${up}`},cl="X-Supabase-Api-Version",cp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xv=10*60*1e3;class xu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Yv extends xu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Zv(e){return A(e)&&e.name==="AuthApiError"}class dp extends xu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ar extends xu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Lt extends ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ex(e){return A(e)&&e.name==="AuthSessionMissingError"}class Gs extends ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qs extends ar{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Js extends ar{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tx(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jc extends ar{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dl extends ar{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xa(e){return A(e)&&e.name==="AuthRetryableFetchError"}class Xc extends ar{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fl extends ar{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yc=` 	
\r=`.split(""),rx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Yc.length;t+=1)e[Yc[t].charCodeAt(0)]=-2;for(let t=0;t<Ui.length;t+=1)e[Ui[t].charCodeAt(0)]=t;return e})();function Zc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ui[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ui[n]),t.queuedBits-=6}}function fp(e,t,r){const n=rx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ed(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{ix(a,n,r)};for(let a=0;a<e.length;a+=1)fp(e.charCodeAt(a),s,i);return t.join("")}function nx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}nx(n,t)}}function ix(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ax(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)fp(e.charCodeAt(s),r,n);return new Uint8Array(t)}function ox(e){const t=[];return sx(e,r=>t.push(r)),new Uint8Array(t)}function lx(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Zc(s,r,n)),Zc(null,r,n),t.join("")}function ux(e){return Math.round(Date.now()/1e3)+e}function cx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},hp=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function dx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const pp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Br=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ur=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$t=async(e,t)=>{await e.removeItem(t)};class fa{constructor(){this.promise=new fa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fa.promiseConstructor=Promise;function Ya(e){const t=e.split(".");if(t.length!==3)throw new fl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Jv.test(t[n]))throw new fl("JWT not in base64url format");return{header:JSON.parse(ed(t[0])),payload:JSON.parse(ed(t[1])),signature:ax(t[2]),raw:{header:t[0],payload:t[1]}}}async function hx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function px(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function mx(e){return("0"+e.toString(16)).substr(-2)}function gx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,mx).join("")}async function yx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function vx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(e,t,r=!1){const n=gx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Br(e,`${t}-code-verifier`,s);const i=await vx(n);return[i,n===i?"plain":"s256"]}const xx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wx(e){const t=e.headers.get(cl);if(!t||!t.match(xx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _x(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(e){if(!kx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Za(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function td(e){return JSON.parse(JSON.stringify(e))}var jx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sx=[502,503,504];async function rd(e){var t;if(!fx(e))throw new dl(hr(e),0);if(Sx.includes(e.status))throw new dl(hr(e),e.status);let r;try{r=await e.json()}catch(i){throw new dp(hr(i),i)}let n;const s=wx(e);if(s&&s.getTime()>=cp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xc(hr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Lt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Xc(hr(r),e.status,r.weak_password.reasons);throw new Yv(hr(r),e.status||500,n)}const Nx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[cl]||(i[cl]=cp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Ex(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Ex(e,t,r,n,s,i){const a=Nx(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new dl(hr(u),0)}if(o.ok||await rd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await rd(u)}}function yt(e){var t;let r=null;Ox(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ux(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nd(e){const t=yt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cx(e){return{data:e,error:null}}function Tx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=jx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function Px(e){return e}function Ox(e){return e.access_token&&e.refresh_token&&e.expires_in}const eo=["global","local","others"];var Ix=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Rx{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=pp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=eo[0]){if(eo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eo.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ix(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Tx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Px});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,x=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(A(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ar(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ar(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ar(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ar(t.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ar(t.userId),Ar(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}function sd(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function $x(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mr={debug:!!(globalThis&&hp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Lx extends mp{}async function Dx(e,t,r){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}$x();const Ax={url:Kv,storageKey:Gv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function id(e,t,r){return await r()}const Ur={};class vs{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vs.nextInstanceID,vs.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ax),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=pp(s.fetch),this.lock=s.lock||id,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Dx:this.lock=id,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sd(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${up}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=dx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),tt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tx(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?{error:r}:{error:new dp("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:yt}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Dr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:x,code_challenge_method:w},xform:yt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yt})}else throw new Qs("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nd})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nd})}else throw new Qs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Gs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,u,c,d,f,h,x;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:v,wallet:p,statement:m,options:g}=t;let _;if(tt())if(typeof p=="object")_=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const k=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:v,error:p}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:lx(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:yt});if(p)throw p;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Gs}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:p})}catch(v){if(A(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await ur(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:yt});if(await $t(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yt}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Gs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Dr(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Qs("You must provide either an email or phone number.")}catch(o){if(A(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Dr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Cx})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Lt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Qs("You must provide either an email or phone number and a type")}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ja:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await ur(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Za()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zt})})}catch(r){if(A(r))return ex(r)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Lt;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await Dr(this.storage,this.storageKey));const{data:c,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:zt});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ya(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(A(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Lt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!tt())throw new Js("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Js(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jc("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!a||!c)throw new Js("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;u&&(h=parseInt(u));const x=h-d;x*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(A(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Zv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=cx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:f,error:h}=i;if(h)throw h;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return tt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(A(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await px(async s=>(s>0&&await hx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Xa(i)&&Date.now()+a-n<Fr})}catch(n){if(this._debug(r,"error",n),A(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),tt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ur(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Br(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Za()}else if(s&&!s.user&&!s.user){const a=await ur(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await $t(this.storage,this.storageKey+"-user"),await Br(this.storage,this.storageKey,s)):s.user=Za()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ja;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ja}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Xa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fa;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Lt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),A(i)){const a={session:null,error:i};return Xa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Br(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=td(s);await Br(this.storage,this.storageKey,i)}else{const s=td(r);await Br(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await $t(this.storage,this.storageKey),await $t(this.storage,this.storageKey+"-code-verifier"),await $t(this.storage,this.storageKey+"-user"),this.userStorage&&await $t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fr}ms, refresh threshold is ${ul} ticks`),s<=ul&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Dr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ya(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Xv>s)return n;const{data:i,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:w}=await this.getSession();if(w||!x.session)return{data:null,error:w};n=x.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=Ya(n);r!=null&&r.allowExpired||_x(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:s,signature:a},error:null}}const d=bx(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,ox(`${o}.${u}`)))throw new fl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}vs.nextInstanceID=0;const Mx=vs;class Ux extends Mx{constructor(t){super(t)}}var zx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function u(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Fx{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=qv(t),u=new URL(o);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Av,realtime:Uv,auth:Object.assign(Object.assign({},Mv),{storageKey:c}),global:Dv},f=Hv(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Wv(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new iv(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Rv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Ly(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return zx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ux({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new wv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bx=(e,t,r)=>new Fx(e,t,r);function Wx(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Wx()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vx=typeof window<"u",qx="https://pmrxyisasfaimumuobvu.supabase.co",Hx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBtcnh5aXNhc2ZhaW11bXVvYnZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ2ODMsImV4cCI6MjA2ODg2MDY4M30.rVsKq08Ynw82RkCntxWFXOTgP8T0cGyhJvqfrnOH4YQ",I=Bx(qx,Hx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:Vx}});function gp(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=gp(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _r(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=gp(e))&&(n&&(n+=" "),n+=t);return n}function Kx(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Kx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cs=e=>typeof e=="number"&&!isNaN(e),Er=e=>typeof e=="string",Tt=e=>typeof e=="function",Gx=e=>Er(e)||Cs(e),hl=e=>Er(e)||Tt(e)?e:null,Qx=(e,t)=>e===!1||Cs(e)&&e>0?e:t,pl=e=>b.isValidElement(e)||Er(e)||Tt(e)||Cs(e);function Jx(e,t,r=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function Xx({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:a,preventExitTransition:o,done:u,nodeRef:c,isIn:d,playToast:f}){let h=r?`${e}--${a}`:e,x=r?`${t}--${a}`:t,w=b.useRef(0);return b.useLayoutEffect(()=>{let y=c.current,v=h.split(" "),p=m=>{m.target===c.current&&(f(),y.removeEventListener("animationend",p),y.removeEventListener("animationcancel",p),w.current===0&&m.type!=="animationcancel"&&y.classList.remove(...v))};y.classList.add(...v),y.addEventListener("animationend",p),y.addEventListener("animationcancel",p)},[]),b.useEffect(()=>{let y=c.current,v=()=>{y.removeEventListener("animationend",v),n?Jx(y,u,s):u()};d||(o?v():(w.current=1,y.className+=` ${x}`,y.addEventListener("animationend",v)))},[d]),V.createElement(V.Fragment,null,i)}}function ad(e,t){return{content:yp(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function yp(e,t,r=!1){return b.isValidElement(e)&&!Er(e.type)?b.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Tt(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function Yx({closeToast:e,theme:t,ariaLabel:r="close"}){return V.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},V.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},V.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Zx({delay:e,isRunning:t,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:a,progress:o,rtl:u,isIn:c,theme:d}){let f=s||a&&o===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(h.transform=`scaleX(${o})`);let x=_r("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":u}),w=Tt(i)?i({rtl:u,type:n,defaultClassName:x}):_r(x,i),y={[a&&o>=1?"onTransitionEnd":"onAnimationEnd"]:a&&o<1?null:()=>{c&&r()}};return V.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},V.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),V.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:w,style:h,...y}))}var ew=1,vp=()=>`${ew++}`;function tw(e,t,r){let n=1,s=0,i=[],a=[],o=t,u=new Map,c=new Set,d=m=>(c.add(m),()=>c.delete(m)),f=()=>{a=Array.from(u.values()),c.forEach(m=>m())},h=({containerId:m,toastId:g,updateId:_})=>{let k=m?m!==e:e!==1,S=u.has(g)&&_==null;return k||S},x=(m,g)=>{u.forEach(_=>{var k;(g==null||g===_.props.toastId)&&((k=_.toggle)==null||k.call(_,m))})},w=m=>{var g,_;(_=(g=m.props)==null?void 0:g.onClose)==null||_.call(g,m.removalReason),m.isActive=!1},y=m=>{if(m==null)u.forEach(w);else{let g=u.get(m);g&&w(g)}f()},v=()=>{s-=i.length,i=[]},p=m=>{var g,_;let{toastId:k,updateId:S}=m.props,j=S==null;m.staleId&&u.delete(m.staleId),m.isActive=!0,u.set(k,m),f(),r(ad(m,j?"added":"updated")),j&&((_=(g=m.props).onOpen)==null||_.call(g))};return{id:e,props:o,observe:d,toggle:x,removeToast:y,toasts:u,clearQueue:v,buildToast:(m,g)=>{if(h(g))return;let{toastId:_,updateId:k,data:S,staleId:j,delay:C}=g,$=k==null;$&&s++;let N={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(g).filter(([R,B])=>B!=null)),toastId:_,updateId:k,data:S,isIn:!1,className:hl(g.className||o.toastClassName),progressClassName:hl(g.progressClassName||o.progressClassName),autoClose:g.isLoading?!1:Qx(g.autoClose,o.autoClose),closeToast(R){u.get(_).removalReason=R,y(_)},deleteToast(){let R=u.get(_);if(R!=null){if(r(ad(R,"removed")),u.delete(_),s--,s<0&&(s=0),i.length>0){p(i.shift());return}f()}}};N.closeButton=o.closeButton,g.closeButton===!1||pl(g.closeButton)?N.closeButton=g.closeButton:g.closeButton===!0&&(N.closeButton=pl(o.closeButton)?o.closeButton:!0);let T={content:m,props:N,staleId:j};o.limit&&o.limit>0&&s>o.limit&&$?i.push(T):Cs(C)?setTimeout(()=>{p(T)},C):p(T)},setProps(m){o=m},setToggle:(m,g)=>{let _=u.get(m);_&&(_.toggle=g)},isToastActive:m=>{var g;return(g=u.get(m))==null?void 0:g.isActive},getSnapshot:()=>a}}var Te=new Map,xs=[],ml=new Set,rw=e=>ml.forEach(t=>t(e)),xp=()=>Te.size>0;function nw(){xs.forEach(e=>_p(e.content,e.options)),xs=[]}var sw=(e,{containerId:t})=>{var r;return(r=Te.get(t||1))==null?void 0:r.toasts.get(e)};function wp(e,t){var r;if(t)return!!((r=Te.get(t))!=null&&r.isToastActive(e));let n=!1;return Te.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function iw(e){if(!xp()){xs=xs.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Gx(e))Te.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Te.get(e.containerId);t?t.removeToast(e.id):Te.forEach(r=>{r.removeToast(e.id)})}}var aw=(e={})=>{Te.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function _p(e,t){pl(e)&&(xp()||xs.push({content:e,options:t}),Te.forEach(r=>{r.buildToast(e,t)}))}function ow(e){var t;(t=Te.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function bp(e,t){Te.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function lw(e){let t=e.containerId||1;return{subscribe(r){let n=tw(t,e,rw);Te.set(t,n);let s=n.observe(r);return nw(),()=>{s(),Te.delete(t)}},setProps(r){var n;(n=Te.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=Te.get(t))==null?void 0:r.getSnapshot()}}}function uw(e){return ml.add(e),()=>{ml.delete(e)}}function cw(e){return e&&(Er(e.toastId)||Cs(e.toastId))?e.toastId:vp()}function Ts(e,t){return _p(e,t),t.toastId}function ha(e,t){return{...t,type:t&&t.type||e,toastId:cw(t)}}function pa(e){return(t,r)=>Ts(t,ha(e,r))}function D(e,t){return Ts(e,ha("default",t))}D.loading=(e,t)=>Ts(e,ha("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function dw(e,{pending:t,error:r,success:n},s){let i;t&&(i=Er(t)?D.loading(t,s):D.loading(t.render,{...s,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(c,d,f)=>{if(d==null){D.dismiss(i);return}let h={type:c,...a,...s,data:f},x=Er(d)?{render:d}:d;return i?D.update(i,{...h,...x}):D(x.render,{...h,...x}),f},u=Tt(e)?e():e;return u.then(c=>o("success",n,c)).catch(c=>o("error",r,c)),u}D.promise=dw;D.success=pa("success");D.info=pa("info");D.error=pa("error");D.warning=pa("warning");D.warn=D.warning;D.dark=(e,t)=>Ts(e,ha("default",{theme:"dark",...t}));function fw(e){iw(e)}D.dismiss=fw;D.clearWaitingQueue=aw;D.isActive=wp;D.update=(e,t={})=>{let r=sw(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:vp()};i.toastId!==e&&(i.staleId=e);let a=i.render||s;delete i.render,Ts(a,i)}};D.done=e=>{D.update(e,{progress:1})};D.onChange=uw;D.play=e=>bp(!0,e);D.pause=e=>bp(!1,e);function hw(e){var t;let{subscribe:r,getSnapshot:n,setProps:s}=b.useRef(lw(e)).current;s(e);let i=(t=b.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function a(o){if(!i)return[];let u=new Map;return e.newestOnTop&&i.reverse(),i.forEach(c=>{let{position:d}=c.props;u.has(d)||u.set(d,[]),u.get(d).push(c)}),Array.from(u,c=>o(c[0],c[1]))}return{getToastToRender:a,isToastActive:wp,count:i==null?void 0:i.length}}function pw(e){let[t,r]=b.useState(!1),[n,s]=b.useState(!1),i=b.useRef(null),a=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:f}=e;ow({id:e.toastId,containerId:e.containerId,fn:r}),b.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{x()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||p(),window.addEventListener("focus",v),window.addEventListener("blur",p)}function x(){window.removeEventListener("focus",v),window.removeEventListener("blur",p)}function w(j){if(e.draggable===!0||e.draggable===j.pointerType){m();let C=i.current;a.canCloseOnClick=!0,a.canDrag=!0,C.style.transition="none",e.draggableDirection==="x"?(a.start=j.clientX,a.removalDistance=C.offsetWidth*(e.draggablePercent/100)):(a.start=j.clientY,a.removalDistance=C.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function y(j){let{top:C,bottom:$,left:N,right:T}=i.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&e.pauseOnHover&&j.clientX>=N&&j.clientX<=T&&j.clientY>=C&&j.clientY<=$?p():v()}function v(){r(!0)}function p(){r(!1)}function m(){a.didMove=!1,document.addEventListener("pointermove",_),document.addEventListener("pointerup",k)}function g(){document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",k)}function _(j){let C=i.current;if(a.canDrag&&C){a.didMove=!0,t&&p(),e.draggableDirection==="x"?a.delta=j.clientX-a.start:a.delta=j.clientY-a.start,a.start!==j.clientX&&(a.canCloseOnClick=!1);let $=e.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;C.style.transform=`translate3d(${$},0)`,C.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function k(){g();let j=i.current;if(a.canDrag&&a.didMove&&j){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let S={onPointerDown:w,onPointerUp:y};return o&&u&&(S.onMouseEnter=p,e.stacked||(S.onMouseLeave=v)),f&&(S.onClick=j=>{d&&d(j),a.canCloseOnClick&&c(!0)}),{playToast:v,pauseToast:p,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:S}}var mw=typeof window<"u"?b.useLayoutEffect:b.useEffect,ma=({theme:e,type:t,isLoading:r,...n})=>V.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function gw(e){return V.createElement(ma,{...e},V.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yw(e){return V.createElement(ma,{...e},V.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function vw(e){return V.createElement(ma,{...e},V.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function xw(e){return V.createElement(ma,{...e},V.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function ww(){return V.createElement("div",{className:"Toastify__spinner"})}var gl={info:yw,warning:gw,success:vw,error:xw,spinner:ww},_w=e=>e in gl;function bw({theme:e,type:t,isLoading:r,icon:n}){let s=null,i={theme:e,type:t};return n===!1||(Tt(n)?s=n({...i,isLoading:r}):b.isValidElement(n)?s=b.cloneElement(n,i):r?s=gl.spinner():_w(t)&&(s=gl[t](i))),s}var kw=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=pw(e),{closeButton:a,children:o,autoClose:u,onClick:c,type:d,hideProgressBar:f,closeToast:h,transition:x,position:w,className:y,style:v,progressClassName:p,updateId:m,role:g,progress:_,rtl:k,toastId:S,deleteToast:j,isIn:C,isLoading:$,closeOnClick:N,theme:T,ariaLabel:R}=e,B=_r("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":N}),W=Tt(y)?y({rtl:k,position:w,type:d,defaultClassName:B}):_r(B,y),ue=bw(e),ae=!!_||!u,X={closeToast:h,type:d,theme:T},P=null;return a===!1||(Tt(a)?P=a(X):b.isValidElement(a)?P=b.cloneElement(a,X):P=Yx(X)),V.createElement(x,{isIn:C,done:j,position:w,preventExitTransition:r,nodeRef:n,playToast:i},V.createElement("div",{id:S,tabIndex:0,onClick:c,"data-in":C,className:W,...s,style:v,ref:n,...C&&{role:g,"aria-label":R}},ue!=null&&V.createElement("div",{className:_r("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!$})},ue),yp(o,e,!t),P,!e.customProgressBar&&V.createElement(Zx,{...m&&!ae?{key:`p-${m}`}:{},rtl:k,theme:T,delay:u,isRunning:t,isIn:C,closeToast:h,hide:f,type:d,className:p,controlledProgress:ae,progress:_||0})))},jw=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Sw=Xx(jw("bounce",!0)),Nw={position:"top-right",transition:Sw,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Ew(e){let t={...Nw,...e},r=e.stacked,[n,s]=b.useState(!0),i=b.useRef(null),{getToastToRender:a,isToastActive:o,count:u}=hw(t),{className:c,style:d,rtl:f,containerId:h,hotKeys:x}=t;function w(v){let p=_r("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":f});return Tt(c)?c({position:v,rtl:f,defaultClassName:p}):_r(p,hl(c))}function y(){r&&(s(!0),D.play())}return mw(()=>{var v;if(r){let p=i.current.querySelectorAll('[data-in="true"]'),m=12,g=(v=t.position)==null?void 0:v.includes("top"),_=0,k=0;Array.from(p).reverse().forEach((S,j)=>{let C=S;C.classList.add("Toastify__toast--stacked"),j>0&&(C.dataset.collapsed=`${n}`),C.dataset.pos||(C.dataset.pos=g?"top":"bot");let $=_*(n?.2:1)+(n?0:m*j);C.style.setProperty("--y",`${g?$:$*-1}px`),C.style.setProperty("--g",`${m}`),C.style.setProperty("--s",`${1-(n?k:0)}`),_+=C.offsetHeight,k+=.025})}},[n,u,r]),b.useEffect(()=>{function v(p){var m;let g=i.current;x(p)&&((m=g.querySelector('[tabIndex="0"]'))==null||m.focus(),s(!1),D.pause()),p.key==="Escape"&&(document.activeElement===g||g!=null&&g.contains(document.activeElement))&&(s(!0),D.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[x]),V.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{r&&(s(!1),D.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((v,p)=>{let m=p.length?{...d}:{...d,pointerEvents:"none"};return V.createElement("div",{tabIndex:-1,className:w(v),"data-stacked":r,style:m,key:`c-${v}`},p.map(({content:g,props:_})=>V.createElement(kw,{..._,stacked:r,collapseAll:y,isIn:o(_.toastId,_.containerId),key:`t-${_.key}`},g)))}))}const Cw=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[a,o]=b.useState(null),u=async c=>{c.preventDefault(),i(!0),o(null);try{const{data:d,error:f}=await I.auth.signInWithPassword({email:e,password:r});if(f)throw f;if(d!=null&&d.user){const{data:h,error:x}=await I.from("profiles").select("role").eq("id",d.user.id).single();if(x)throw x;if(h.role!=="admin")throw await I.auth.signOut(),new Error("Access denied. Admin privileges required.")}}catch(d){const f=d instanceof Error?d.message:"An error occurred during sign in";o(f)}finally{i(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Event Admin Portal"}),l.jsx("h2",{className:"mt-6 text-center text-xl font-bold text-gray-900",children:"Sign in to your account"}),l.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Admin access only"})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[a&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:a}),l.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:c=>t(c.target.value),className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:c=>n(c.target.value),className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300",children:s?"Signing in...":"Sign in"})})]})]})})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,...c},d)=>b.createElement("svg",{ref:d,...Tw,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Pw(e)}`,o].join(" "),...c},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=J("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=J("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=J("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=J("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=J("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=J("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=J("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=J("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kw=()=>{const[e,t]=b.useState({totalEvents:0,activeEvents:0,totalWristbands:0,totalCheckins:0}),[r,n]=b.useState([]),[s,i]=b.useState(!0);b.useEffect(()=>{(async()=>{i(!0);try{const{data:u}=await I.from("events").select("id, name, start_date, end_date"),c=new Date,d=(u==null?void 0:u.filter(y=>{const v=new Date(y.start_date),p=new Date(y.end_date);return v<=c&&p>=c}))||[],{count:f}=await I.from("wristbands").select("id",{count:"exact",head:!0}),{count:h}=await I.from("checkin_logs").select("id",{count:"exact",head:!0});t({totalEvents:(u==null?void 0:u.length)||0,activeEvents:d.length,totalWristbands:f||0,totalCheckins:h||0});const{data:x}=await I.from("events").select("*").order("start_date",{ascending:!1}).limit(5),w=await Promise.all((x||[]).map(async y=>{const{count:v}=await I.from("wristbands").select("id",{count:"exact",head:!0}).eq("event_id",y.id),{count:p}=await I.from("checkin_logs").select("id",{count:"exact",head:!0}).eq("event_id",y.id);return{...y,total_wristbands:v||0,checked_in:p||0}}));n(w)}catch(u){console.error("Error fetching dashboard data:",u)}finally{i(!1)}})()},[]);const a=({title:o,value:u,icon:c,color:d})=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`p-3 rounded-lg ${d}`,children:c}),l.jsxs("div",{className:"ml-5",children:[l.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:o}),l.jsx("div",{className:"mt-1 text-3xl font-semibold text-gray-900",children:u})]})]})});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),l.jsxs(G,{to:"/events/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(yl,{size:16,className:"mr-2"}),"New Event"]})]}),s?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 animate-pulse",children:[1,2,3,4].map(o=>l.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},o))}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(a,{title:"Total Events",value:e.totalEvents,icon:l.jsx(yl,{size:24,className:"text-blue-600"}),color:"bg-blue-50"}),l.jsx(a,{title:"Active Events",value:e.activeEvents,icon:l.jsx(od,{size:24,className:"text-green-600"}),color:"bg-green-50"}),l.jsx(a,{title:"Total Wristbands",value:e.totalWristbands,icon:l.jsx(va,{size:24,className:"text-purple-600"}),color:"bg-purple-50"}),l.jsx(a,{title:"Total Check-ins",value:e.totalCheckins,icon:l.jsx(od,{size:24,className:"text-amber-600"}),color:"bg-amber-50"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-5 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Events"})}),s?l.jsx("div",{className:"animate-pulse",children:[1,2,3].map(o=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},o))}):r.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event Name"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wristbands"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-ins"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(o=>{const u=new Date(o.start_date),c=new Date(o.end_date),d=new Date>=u&&new Date<=c;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{children:[l.jsx(G,{to:`/events/${o.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:o.name}),d&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})]})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.location||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.total_wristbands}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"font-medium",children:o.checked_in}),o.total_wristbands>0&&l.jsxs("span",{className:"ml-2 text-gray-500",children:["(",Math.round(o.checked_in/o.total_wristbands*100),"%)"]})]})})]},o.id)})})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:"No events found"}),l.jsx(G,{to:"/events/new",className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Create your first event"})]}),r.length>0&&l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:l.jsx(G,{to:"/events",className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:"View all events"})})]})]})},ve=[];for(let e=0;e<256;++e)ve.push((e+256).toString(16).slice(1));function Gw(e,t=0){return(ve[e[t+0]]+ve[e[t+1]]+ve[e[t+2]]+ve[e[t+3]]+"-"+ve[e[t+4]]+ve[e[t+5]]+"-"+ve[e[t+6]]+ve[e[t+7]]+"-"+ve[e[t+8]]+ve[e[t+9]]+"-"+ve[e[t+10]]+ve[e[t+11]]+ve[e[t+12]]+ve[e[t+13]]+ve[e[t+14]]+ve[e[t+15]]).toLowerCase()}let to;const Qw=new Uint8Array(16);function Jw(){if(!to){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");to=crypto.getRandomValues.bind(crypto)}return to(Qw)}const Xw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ud={randomUUID:Xw};function jp(e,t,r){var s;if(ud.randomUUID&&!e)return ud.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??Jw();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Gw(n)}const cd=e=>{let t;const r=new Set,n=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(x=>x(t,h))}},s=()=>t,o={setState:n,getState:s,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c))},u=t=e(n,s,o);return o},Yw=e=>e?cd(e):cd,Zw=e=>e;function e_(e,t=Zw){const r=V.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return V.useDebugValue(r),r}const dd=e=>{const t=Yw(e),r=n=>e_(t,n);return Object.assign(r,t),r},t_=e=>e?dd(e):dd,xa=t_((e,t)=>({notifications:[],unreadCount:0,addNotification:r=>e(n=>{const s=[r,...n.notifications].slice(0,100);return{notifications:s,unreadCount:s.filter(i=>!i.read).length}}),markAsRead:r=>e(n=>{const s=n.notifications.map(i=>i.id===r?{...i,read:!0}:i);return{notifications:s,unreadCount:s.filter(i=>!i.read).length}}),clear:()=>e({notifications:[],unreadCount:0}),removeNotification:r=>e(n=>{const s=n.notifications.filter(i=>i.id!==r);return{notifications:s,unreadCount:s.filter(i=>!i.read).length}}),markAllAsRead:()=>e(r=>({notifications:r.notifications.map(n=>({...n,read:!0})),unreadCount:0})),createSystemNotification:(r,n="info")=>{const s={...r,id:crypto.randomUUID(),timestamp:new Date,read:!1,category:"system",severity:n,origin:r.origin||"app"};return t().addNotification(s),s},createFunctionalNotification:(r,n="info")=>{const s={...r,id:crypto.randomUUID(),timestamp:new Date,read:!1,category:"functional",severity:n,origin:r.origin||"app"};return t().addNotification(s),s}})),Sp={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light"},r_={critical:console.error,error:console.error,warning:console.warn,info:console.info,success:console.log,debug:console.debug},Np=(e,t,r)=>{const n=r_[e]||console.info;typeof n=="function"&&n(`[${e.toUpperCase()}] ${t}`,r||"")},zr=(e,t="info")=>{const r={id:jp(),timestamp:new Date,read:!1,category:"system",severity:t,message:e.message,origin:e.origin||"app",code:e.code,context:e.context,logToConsole:e.logToConsole??!0,showInUI:e.showInUI??!0,toastOptions:{...Sp,...e.toastOptions,type:Cp(t)}};return r.logToConsole&&Np(t,r.message,r.context),r.showInUI&&D(r.message,r.toastOptions),xa.getState().addNotification(r),r},Ep=(e,t="info")=>{const r={id:jp(),timestamp:new Date,read:!1,category:"functional",severity:t,entity:e.entity,operation:e.operation,message:e.message,origin:e.origin||"app",technicalDetails:e.technicalDetails,data:e.data,context:e.context,logToConsole:e.logToConsole??!0,showInUI:e.showInUI??!0,toastOptions:{...Sp,...e.toastOptions,type:Cp(t),"data-entity":e.entity,"data-operation":e.operation}};return r.logToConsole&&Np(t,`[${r.entity}.${r.operation}] ${r.message}`,r.context),r.showInUI&&D(r.message,r.toastOptions),xa.getState().addNotification(r),r},cr=(e,t,r,n={})=>Ep({...n,entity:t,operation:e,message:r},n.severity),Cp=e=>{switch(e){case"success":return"success";case"error":case"critical":return"error";case"warning":return"warning";case"info":case"debug":default:return"info"}},fd=e=>{xa.getState().markAsRead(e)},H={system:e=>{if(!e.message)throw new Error("System notification requires a message");return zr({...e,severity:"severity"in e?e.severity:"info"})},functional:e=>{if(!e.message||!e.entity||!e.operation)throw new Error("Functional notification requires message, entity, and operation");return Ep({...e,severity:"severity"in e?e.severity:"info"})},success:(e,t={origin:"app"})=>zr({...t,message:e}),error:(e,t,r={origin:"app"})=>{const n=t instanceof Error?t.message:String(t||e);return zr({...r,message:t?`${e}: ${n}`:e,context:{...r.context||{},error:t instanceof Error?t:new Error(n)},origin:r.origin||"app"})},warning:(e,t={origin:"app"})=>zr({...t,message:e}),info:(e,t={origin:"app"})=>zr({...t,message:e}),critical:(e,t={origin:"app"})=>zr({...t,message:e}),debug:(e,t={origin:"app"})=>(console.debug(`[DEBUG] ${e}`,t),null),operation:{create:(e,t,r={})=>cr("create",e,t,r),read:(e,t,r={})=>cr("read",e,t,r),update:(e,t,r={})=>cr("update",e,t,r),delete:(e,t,r={})=>cr("delete",e,t,r),sync:(e,t,r={})=>cr("sync",e,t,r),validate:(e,t,r={})=>cr("validate",e,t,r),process:(e,t,r={})=>cr("process",e,t,r)},created(e,t,r){return this.operation.create(e,t,{data:r})},read(e,t,r){const n=this.operation.read(e,t,{data:r});return n.markAsRead=s=>fd(s),n},markAsRead(e){fd(e)},updated(e,t,r){return this.operation.update(e,t,{data:r})},deleted(e,t,r){return this.operation.delete(e,t,{data:r})},fetched(e,t,r){return this.functional({entity:e,message:t,data:r,operation:"read",severity:"info"})}};var n_={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function s_(e){if(typeof e=="number")return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();r.includes(".")?t=parseFloat(r):t=parseInt(r,10);var n=(e.match(/[^0-9]*$/)||"").toString();return n_[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function ro(e){var t=s_(e);return"".concat(t.value).concat(t.unit)}var i_=function(e,t,r){var n="react-spinners-".concat(e,"-").concat(r);if(typeof window>"u"||!window.document)return n;var s=document.createElement("style");document.head.appendChild(s);var i=s.sheet,a=`
    @keyframes `.concat(n,` {
      `).concat(t,`
    }
  `);return i&&i.insertRule(a,0),n},zi=function(){return zi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zi.apply(this,arguments)},a_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r},o_=i_("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function l_(e){var t=e.loading,r=t===void 0?!0:t,n=e.color,s=n===void 0?"#000000":n,i=e.speedMultiplier,a=i===void 0?1:i,o=e.cssOverride,u=o===void 0?{}:o,c=e.size,d=c===void 0?15:c,f=e.margin,h=f===void 0?2:f,x=a_(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),w=zi({display:"inherit"},u),y=function(v){return{display:"inline-block",backgroundColor:s,width:ro(d),height:ro(d),margin:ro(h),borderRadius:"100%",animation:"".concat(o_," ").concat(.7/a,"s ").concat(v%2?"0s":"".concat(.35/a,"s")," infinite linear"),animationFillMode:"both"}};return r?b.createElement("span",zi({style:w},x),b.createElement("span",{style:y(1)}),b.createElement("span",{style:y(2)}),b.createElement("span",{style:y(3)})):null}const hd={primary:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},pd=({children:e,isLoading:t=!1,loadingText:r="Processing...",variant:n="primary",fullWidth:s=!1,disabled:i=!1,className:a="",type:o="button",...u})=>{const c="inline-flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",d=hd[n]||hd.primary,f=s?"w-full":"";return l.jsx("button",{type:o,disabled:i||t,className:`${c} ${d} ${f} ${a}`,...u,children:t?l.jsxs(l.Fragment,{children:[l.jsx(l_,{size:8,color:"#ffffff",className:"mr-2"}),r]}):e})},u_=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null),[a,o]=b.useState(""),u=ir();b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const{data:h,error:x}=await I.from("events").select("*").order("start_date",{ascending:!1});if(x)throw x;t(h||[])}catch(h){console.error("Error fetching events:",h),H.error("Could not load events",h,{origin:"app",context:{entity:"events",operation:"read",error:h instanceof Error?h:new Error("Failed to fetch events"),technicalDetails:h instanceof Error?h.message:"Failed to fetch events"},toastOptions:{autoClose:1e4}})}finally{n(!1)}},d=async h=>{const x=e.find(w=>w.id===h);if(x&&window.confirm(`Are you sure you want to delete "${x.name}"? This will permanently delete the event and all associated data including wristbands and check-in logs.`)){i(h);try{H.warning(`Deleting "${x.name}" and all its related data...`,{origin:"app",context:{entity:"event",operation:"delete",eventId:h,eventName:x.name,technicalDetails:"Initiating deletion of event and all related data"},toastOptions:{autoClose:3e3}});const w=[I.from("checkin_logs").delete().eq("event_id",h),I.from("wristbands").delete().eq("event_id",h),I.from("event_access").delete().eq("event_id",h)];await Promise.all(w);const{error:y}=await I.from("events").delete().eq("id",h);if(y)throw y;t(e.filter(v=>v.id!==h)),H.success(`Event "${x.name}" was successfully deleted.
Note: This action cannot be undone. All related data has been removed.`,{origin:"app",context:{entity:"event",operation:"delete",eventId:h,eventName:x.name,technicalDetails:"Event and all related data have been permanently removed"},toastOptions:{autoClose:1e4}})}catch(w){H.error(`Failed to delete event "${(x==null?void 0:x.name)||"Unknown"}". Please try again.`,w,{origin:"app",context:{entity:"event",operation:"delete",eventId:h,eventName:x==null?void 0:x.name,error:w instanceof Error?w:new Error(String(w)),technicalDetails:w instanceof Error?w.message:"Failed to delete event"},toastOptions:{autoClose:1e4}})}finally{i(null)}}},f=V.useMemo(()=>e.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.location&&h.location.toLowerCase().includes(a.toLowerCase())),[e,a]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Events"}),l.jsxs(pd,{onClick:()=>u("/events/new"),variant:"primary",children:[l.jsx(yl,{size:16,className:"mr-2"}),"Create Event"]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ya,{size:18,className:"text-gray-400"})}),l.jsx("input",{type:"text",value:a,onChange:h=>o(h.target.value),placeholder:"Search events...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),r?l.jsx("div",{className:"animate-pulse",children:[1,2,3].map(h=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},h))}):f.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event Name"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacity"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(h=>{const x=new Date(h.start_date),w=new Date(h.end_date),y=new Date>=x&&new Date<=w,v=new Date>w;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{children:[l.jsx(G,{to:`/events/${h.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:h.name}),y&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}),v&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Past"})]})})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[x.toLocaleDateString()," -"," ",w.toLocaleDateString()]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.location||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.total_capacity>0?h.total_capacity:"Unlimited"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx(G,{to:`/events/${h.id}/edit`,className:"text-blue-600 hover:text-blue-900 mr-4",children:l.jsx(ga,{size:16})}),l.jsx(pd,{onClick:()=>d(h.id),variant:"danger",isLoading:s===h.id,loadingText:"Deleting...",className:"p-2 text-red-600 hover:bg-red-50 hover:text-red-900",title:"Delete event",children:l.jsx(_u,{size:18})})]})]},h.id)})})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:a?"No events found matching your search":"No events found"}),!a&&l.jsx(G,{to:"/events/new",className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Create your first event"})]})]})]})},Tp=()=>l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),l.jsx("h2",{className:"text-lg font-medium text-gray-700",children:"Loading..."})]})}),c_=()=>{const{id:e}=Pr(),[t,r]=b.useState(null),[n,s]=b.useState({totalWristbands:0,checkedIn:0,categories:[]}),[i,a]=b.useState([]),[o,u]=b.useState(!0),[c,d]=b.useState("overview"),[,f]=b.useState(null);b.useEffect(()=>{e&&h(e)},[e]);const h=async p=>{u(!0);try{const{data:m,error:g}=await I.from("events").select("*").eq("id",p).single();if(g)throw g;r(m);const{data:_,error:k}=await I.from("wristbands").select("id, category, is_active").eq("event_id",p);if(k)throw k;const{data:S,error:j}=await I.from("checkin_logs").select("wristband_id").eq("event_id",p);if(j)throw j;const C=(_==null?void 0:_.length)||0,$=(S==null?void 0:S.length)||0,N=new Map;_==null||_.forEach(W=>{const ue=W.category||"Uncategorized",ae=N.get(ue)||{total:0,checkedIn:0};ae.total++,S!=null&&S.some(X=>X.wristband_id===W.id)&&ae.checkedIn++,N.set(ue,ae)});const T=Array.from(N.entries()).map(([W,ue])=>({name:W,total:ue.total,checkedIn:ue.checkedIn}));s({totalWristbands:C,checkedIn:$,categories:T});const{data:R,error:B}=await I.from("event_access").select(`
          id,
          access_level,
          user_id,
          granted_by,
          created_at,
          profiles!event_access_user_id_fkey (
            email,
            full_name
          ),
          grantedBy:profiles!event_access_granted_by_fkey (
            email
          )
        `).eq("event_id",p);if(B)throw B;a(R||[])}catch(m){console.error("Error fetching event details:",m);const g=m instanceof Error?m.message:"Failed to load event details";f(g)}finally{u(!1)}};if(o)return l.jsx(Tp,{});if(!t)return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Event not found"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"The event you're looking for doesn't exist or you don't have access to it."}),l.jsx(G,{to:"/events",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Back to events"})]});const x=new Date(t.start_date),w=new Date(t.end_date),y=new Date>=x&&new Date<=w,v=new Date>w;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),y&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}),v&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Past"})]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[x.toLocaleDateString()," - ",w.toLocaleDateString(),t.location&&` • ${t.location}`]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:()=>h(e),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Ww,{size:14,className:"mr-1.5"}),"Refresh"]}),l.jsxs(G,{to:`/events/${t.id}/edit`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(ga,{size:14,className:"mr-1.5"}),"Edit"]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex",children:[l.jsx("button",{className:`${c==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,onClick:()=>d("overview"),children:"Overview"}),l.jsx("button",{className:`${c==="wristbands"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,onClick:()=>d("wristbands"),children:"Wristbands"}),l.jsx("button",{className:`${c==="access"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm`,onClick:()=>d("access"),children:"User Access"})]})}),l.jsxs("div",{className:"p-6",children:[c==="overview"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Event Details"}),l.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:x.toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"End Date"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:w.toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Location"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.location||"-"})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Capacity"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.total_capacity>0?t.total_capacity:"Unlimited"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:t.description||"-"})]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Statistics"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Wristbands"}),l.jsx("p",{className:"mt-1 text-3xl font-semibold text-blue-900",children:n.totalWristbands})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm font-medium text-green-800",children:"Checked In"}),l.jsx("p",{className:"mt-1 text-3xl font-semibold text-green-900",children:n.checkedIn})]}),l.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Check-in Rate"}),l.jsx("p",{className:"mt-1 text-3xl font-semibold text-amber-900",children:n.totalWristbands>0?`${Math.round(n.checkedIn/n.totalWristbands*100)}%`:"-"})]})]})]}),n.categories.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Category Breakdown"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Checked In"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-in Rate"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.categories.map(p=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.total}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.checkedIn}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.checkedIn}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.total>0?`${Math.round(p.checkedIn/p.total*100)}%`:"-"})]},p.name))})]})})]})]}),c==="wristbands"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Wristbands"}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(G,{to:`/wristbands/new?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Add Wristband"}),l.jsxs(G,{to:`/wristbands/bulk?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(kp,{size:16,className:"mr-2"}),"Bulk Upload"]}),l.jsxs(G,{to:`/wristbands/export?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(wu,{size:16,className:"mr-2"}),"Export"]})]})]}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:l.jsx(G,{to:`/wristbands?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Manage Wristbands"})})]}),c==="access"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"User Access"}),l.jsxs(G,{to:`/access/new?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(va,{size:16,className:"mr-2"}),"Grant Access"]})]}),i.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access Level"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Granted By"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Granted On"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(p=>{var m,g,_;return l.jsxs("tr",{children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:((m=p.profiles)==null?void 0:m.full_name)||"Unnamed User"}),l.jsx("div",{className:"text-sm text-gray-500",children:(g=p.profiles)==null?void 0:g.email})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.access_level==="owner"?"bg-purple-100 text-purple-800":p.access_level==="admin"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:p.access_level})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((_=p.grantedBy)==null?void 0:_.email)||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsx(G,{to:`/access/${p.id}/edit`,className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},p.id)})})]})}):l.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"No users have been granted access to this event yet."}),l.jsx(G,{to:`/access/new?eventId=${t.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Grant access to users"})]})]})]})]})]})},Pp=({isEdit:e=!1})=>{const{id:t}=Pr(),r=ir(),[n,s]=b.useState(!1),[i,a]=b.useState({name:"",description:"",start_date:"",end_date:"",location:"",is_public:!1});b.useEffect(()=>{e&&t&&o()},[t,e]);const o=async()=>{try{s(!0);const{data:d,error:f}=await I.from("events").select("*").eq("id",t).single();if(f)throw f;d&&a(h=>({...h,...d,start_date:d.start_date?new Date(d.start_date).toISOString().slice(0,16):"",end_date:d.end_date?new Date(d.end_date).toISOString().slice(0,16):""}))}catch(d){console.error("Error:",d),D.error("Failed to load event")}finally{s(!1)}},u=d=>{const{name:f,value:h,type:x}=d.target;a(w=>({...w,[f]:x==="checkbox"?d.target.checked:h}))},c=async d=>{var x;if(d.preventDefault(),!i.name){H.error("Please provide a name for the event",void 0,{origin:"app",context:{entity:"event",operation:"create",validation:"required_field",field:"name",technicalDetails:"Validation failed: Event name is required"},toastOptions:{autoClose:5e3}});return}if(!i.start_date){H.error("Please select a start date for the event",void 0,{origin:"app",context:{entity:"event",operation:"create",validation:"required_field",field:"start_date",technicalDetails:"Validation failed: Start date is required"},toastOptions:{autoClose:5e3}});return}if(!i.end_date){H.error("Please select an end date for the event",void 0,{origin:"app",context:{entity:"event",operation:"create",validation:"required_field",technicalDetails:"Validation failed: End date is required",field:"end_date"},toastOptions:{autoClose:5e3}});return}const f=new Date(i.start_date),h=new Date(i.end_date);if(isNaN(f.getTime())||isNaN(h.getTime())){H.error("Please enter valid dates in the correct format",void 0,{origin:"app",context:{entity:"event",operation:"create",technicalDetails:"Validation failed: Invalid date format"},toastOptions:{autoClose:5e3}});return}if(h<=f){H.error("End date must be after the start date",{origin:"app",context:{entity:"event",operation:"create",technicalDetails:"Validation failed: Invalid date range",showInUI:!0,logToConsole:!0}});return}s(!0);try{const w={...i,start_date:f.toISOString(),end_date:h.toISOString()},{data:y,error:v}=e&&t?await I.from("events").update(w).eq("id",t).select():await I.from("events").insert([{...w,created_by:(x=(await I.auth.getUser()).data.user)==null?void 0:x.id}]).select();if(v)throw v.code==="23505"?new Error("An event with this name already exists"):v.code==="42501"?new Error("You do not have permission to perform this action"):v.code==="PGRST116"?new Error("Required fields are missing"):v;if(y&&y.length>0)e?H.success(`Event "${i.name}" updated successfully`,{origin:"app",context:{entity:"event",operation:"update"}}):H.success(`Event "${i.name}" created successfully`,{origin:"app",context:{entity:"event",operation:"create"}}),setTimeout(()=>{r("/events",{state:{message:`Event "${i.name}" successfully ${e?"updated":"created"}`,timestamp:Date.now()}})},500);else throw new Error("No data returned from the server")}catch(w){let y="An unknown error occurred",v="";if(w instanceof Error){if(y=w.message,"code"in w)switch(v=String(w.code),w.code){case"23505":y="An event with this name already exists";break;case"42501":y="You do not have permission to perform this action";break;case"PGRST116":y="Required fields are missing";break}}else typeof w=="string"?y=w:w&&typeof w=="object"&&"message"in w&&(y=String(w.message));const p=`Could not ${e?"update":"create"} event: ${y}`;H.error(p,{"data-entity":"event","data-operation":e?"update":"create",autoClose:5e3,context:{errorCode:v,errorStack:void 0,formData:void 0}})}finally{s(!1)}};return n&&e?l.jsx("div",{className:"flex justify-center p-8",children:"Loading..."}):l.jsx("div",{className:"max-w-3xl mx-auto p-6",children:l.jsxs("form",{onSubmit:c,className:"space-y-6 bg-white p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-xl font-semibold",children:e?"Edit Event":"New Event"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Name *"}),l.jsx("input",{type:"text",name:"name",value:i.name,onChange:u,className:"w-full p-2 border rounded",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),l.jsx("textarea",{name:"description",value:i.description,onChange:u,className:"w-full p-2 border rounded",rows:3})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date/Time *"}),l.jsx("input",{type:"datetime-local",name:"start_date",value:i.start_date,onChange:u,className:"w-full p-2 border rounded",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date/Time *"}),l.jsx("input",{type:"datetime-local",name:"end_date",value:i.end_date,min:i.start_date,onChange:u,className:"w-full p-2 border rounded",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),l.jsx("input",{type:"text",name:"location",value:i.location,onChange:u,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"is_public",checked:i.is_public,onChange:u,className:"h-4 w-4 rounded"}),l.jsx("label",{className:"ml-2 text-sm",children:"Make event public"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-4 py-2 border rounded",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",disabled:n,children:n?"Saving...":"Save Event"})]})]})})},d_=()=>l.jsx(Pp,{}),f_=()=>(Pr(),l.jsx(Pp,{isEdit:!0})),h_=()=>{const[e]=qh(),t=e.get("eventId"),[r,n]=b.useState([]),[s,i]=b.useState([]),[a,o]=b.useState(t),[u,c]=b.useState(null),[d,f]=b.useState([]),[h,x]=b.useState(""),[w,y]=b.useState(!0),[v,p]=b.useState(1),[m,g]=b.useState(0),_=50;b.useEffect(()=>{k(),a&&(S(a),j(a,u,1))},[a,u]);const k=async()=>{try{const{data:T,error:R}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(R)throw R;i(T||[]),!a&&T&&T.length>0&&o(T[0].id)}catch(T){console.error("Error fetching events:",T)}},S=async T=>{try{const{data:R,error:B}=await I.from("wristbands").select("category").eq("event_id",T).order("category");if(B)throw B;const W=[...new Set(R==null?void 0:R.map(ue=>ue.category))];f(W)}catch(R){console.error("Error fetching categories:",R)}},j=async(T,R,B)=>{y(!0);try{let W=I.from("wristbands").select("*",{count:"exact"}).eq("event_id",T).order("created_at",{ascending:!1}).range((B-1)*_,B*_-1);R&&(W=W.eq("category",R)),h&&(W=W.ilike("nfc_id",`%${h}%`));const{data:ue,count:ae,error:X}=await W;if(X)throw X;n(ue||[]),g(ae||0),p(B)}catch(W){console.error("Error fetching wristbands:",W)}finally{y(!1)}},C=async T=>{if(window.confirm("Are you sure you want to delete this wristband?"))try{const{count:R}=await I.from("checkin_logs").select("id",{count:"exact",head:!0}).eq("wristband_id",T);if(R&&R>0){if(!window.confirm("This wristband has check-in records. Deleting it will also delete all check-in records. Continue?"))return;await I.from("checkin_logs").delete().eq("wristband_id",T)}const{error:B}=await I.from("wristbands").delete().eq("id",T);if(B)throw B;n(r.filter(W=>W.id!==T)),g(W=>W-1)}catch(R){console.error("Error deleting wristband:",R),alert("Failed to delete wristband. Please try again.")}},$=T=>{T.preventDefault(),a&&j(a,u,1)},N=Math.ceil(m/_);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Wristbands"}),l.jsxs(G,{to:a?`/wristbands/new?event_id=${a}`:"/wristbands/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(vl,{size:16,className:"mr-2"}),"Register Wristband"]}),l.jsx("div",{className:"flex space-x-3",children:a&&l.jsxs(l.Fragment,{children:[l.jsxs(G,{to:`/wristbands/new?eventId=${a}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(vl,{size:16,className:"mr-2"}),"Add Wristband"]}),l.jsxs(G,{to:`/wristbands/bulk?eventId=${a}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(kp,{size:16,className:"mr-2"}),"Bulk Upload"]}),l.jsxs(G,{to:`/wristbands/export?eventId=${a}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(wu,{size:16,className:"mr-2"}),"Export"]})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[l.jsxs("div",{className:"w-full md:w-1/3",children:[l.jsx("label",{htmlFor:"event-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Event"}),l.jsxs("select",{id:"event-select",value:a||"",onChange:T=>o(T.target.value||null),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[l.jsx("option",{value:"",children:"Select an event"}),s.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})]}),d.length>0&&l.jsxs("div",{className:"w-full md:w-1/3",children:[l.jsx("label",{htmlFor:"category-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Category"}),l.jsxs("select",{id:"category-select",value:u||"",onChange:T=>c(T.target.value||null),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[l.jsx("option",{value:"",children:"All Categories"}),d.map(T=>l.jsx("option",{value:T,children:T},T))]})]}),l.jsxs("div",{className:"w-full md:w-1/3",children:[l.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by NFC ID"}),l.jsx("form",{onSubmit:$,children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",id:"search",value:h,onChange:T=>x(T.target.value),placeholder:"Search...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ya,{size:18,className:"text-gray-400"})}),l.jsx("button",{type:"submit",className:"absolute inset-y-0 right-0 px-3 flex items-center bg-blue-600 rounded-r-md text-white",children:"Search"})]})})]})]})}),a?w?l.jsx("div",{className:"animate-pulse",children:[1,2,3,4,5].map(T=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},T))}):r.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NFC ID"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(T=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.nfc_id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.category}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.is_active?"Active":"Inactive"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.created_at).toLocaleDateString()}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx(G,{to:`/wristbands/${T.id}/edit`,className:"text-blue-600 hover:text-blue-900 mr-4",children:l.jsx(ga,{size:16})}),l.jsx("button",{onClick:()=>C(T.id),className:"text-red-600 hover:text-red-900",children:l.jsx(_u,{size:16})})]})]},T.id))})]})}),N>1&&l.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",l.jsx("span",{className:"font-medium",children:(v-1)*_+1})," ","to"," ",l.jsx("span",{className:"font-medium",children:Math.min(v*_,m)})," ","of ",l.jsx("span",{className:"font-medium",children:m})," results"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>j(a,u,v-1),disabled:v<=1,className:`px-3 py-1 border rounded ${v<=1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),l.jsx("button",{onClick:()=>j(a,u,v+1),disabled:v>=N,className:`px-3 py-1 border rounded ${v>=N?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Next"})]})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:h||u?"No wristbands found matching your criteria":"No wristbands found for this event"}),l.jsx(G,{to:`/wristbands/new?eventId=${a}`,className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Add your first wristband"})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"Please select an event to view wristbands"})})]})]})},Op=({isEdit:e=!1})=>{const{id:t}=Pr(),r=It(),n=ir(),[s,i]=b.useState(!1),[a,o]=b.useState([]),[u,c]=b.useState({nfc_id:"",category:"general",is_active:!0,event_id:"",notes:""});b.useEffect(()=>{if(d(),e&&t)f();else{const v=new URLSearchParams(r.search).get("event_id");v&&c(p=>({...p,event_id:v}))}},[t,e,r.search]);const d=async()=>{try{const{data:y,error:v}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(v)throw v;o(y||[])}catch(y){console.error("Error fetching events:",y),D.error("Failed to load events")}},f=async()=>{try{i(!0);const{data:y,error:v}=await I.from("wristbands").select("*").eq("id",t).single();if(v)throw v;y&&c({nfc_id:y.nfc_id,category:y.category||"general",is_active:y.is_active,event_id:y.event_id,notes:y.notes||""})}catch(y){console.error("Error fetching wristband:",y),D.error("Failed to load wristband data")}finally{i(!1)}},h=y=>{const{name:v,value:p,type:m}=y.target,g=m==="checkbox"?y.target.checked:void 0;c(_=>({..._,[v]:m==="checkbox"?g:p}))},x=()=>u.nfc_id.trim()?u.event_id?!0:(D.error("Event is required"),!1):(D.error("NFC ID is required"),!1),w=async y=>{var v;if(y.preventDefault(),!!x()){i(!0);try{if(e&&t){const{error:p}=await I.from("wristbands").update(u).eq("id",t);if(p)throw p;D.success("Wristband updated successfully")}else{const{error:p}=await I.from("wristbands").insert([{...u,created_by:(v=(await I.auth.getUser()).data.user)==null?void 0:v.id}]);if(p)throw p;D.success("Wristband created successfully")}n(u.event_id?`/wristbands?event_id=${u.event_id}`:"/wristbands")}catch(p){console.error(`Error ${e?"updating":"creating"} wristband:`,p),D.error(`Failed to ${e?"update":"create"} wristband`)}finally{i(!1)}}};return s&&e?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-5 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:e?"Edit Wristband":"Register New Wristband"})}),l.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"nfc_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["NFC ID ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"nfc_id",name:"nfc_id",value:u.nfc_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 font-mono",placeholder:"Enter NFC ID",required:!0,disabled:e})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"event_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Event ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{id:"event_id",name:"event_id",value:u.event_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:!!new URLSearchParams(r.search).get("event_id"),children:[l.jsx("option",{value:"",children:"Select an event"}),a.map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),l.jsxs("select",{id:"category",name:"category",value:u.category,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"general",children:"General"}),l.jsx("option",{value:"vip",children:"VIP"}),l.jsx("option",{value:"staff",children:"Staff"}),l.jsx("option",{value:"media",children:"Media"}),l.jsx("option",{value:"vendor",children:"Vendor"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),l.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:h,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional notes"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:u.is_active,onChange:h,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700",children:"Active (can be used for check-ins)"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:s,children:"Cancel"}),l.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:s,children:s?"Saving...":e?"Update Wristband":"Register Wristband"})]})]})]})})},p_=()=>l.jsx(Op,{}),m_=()=>(Pr(),l.jsx(Op,{isEdit:!0})),g_=()=>{const[e]=qh(),t=e.get("eventId"),[r,n]=b.useState([]),[s,i]=b.useState([]),[a,o]=b.useState(t),[u,c]=b.useState(""),[d,f]=b.useState({start:null,end:null}),[h,x]=b.useState(!0),[w,y]=b.useState(1),[v,p]=b.useState(0),m=50;b.useEffect(()=>{g(),a&&_(a,1)},[a]);const g=async()=>{try{const{data:N,error:T}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(T)throw T;i(N||[]),!a&&N&&N.length>0&&o(N[0].id)}catch(N){console.error("Error fetching events:",N)}},_=async(N,T)=>{x(!0);try{let R=I.from("checkin_logs").select(`
          *,
          wristbands (
            nfc_id,
            category
          ),
          staff:profiles!checkin_logs_staff_id_fkey (
            email,
            full_name
          )
        `,{count:"exact"}).eq("event_id",N).order("timestamp",{ascending:!1}).range((T-1)*m,T*m-1);if(u&&(R=R.or(`wristbands.nfc_id.ilike.%${u}%,wristbands.category.ilike.%${u}%`)),d.start&&(R=R.gte("timestamp",d.start)),d.end){const ae=new Date(d.end);ae.setDate(ae.getDate()+1),R=R.lt("timestamp",ae.toISOString())}const{data:B,count:W,error:ue}=await R;if(ue)throw ue;n(B||[]),p(W||0),y(T)}catch(R){console.error("Error fetching check-ins:",R)}finally{x(!1)}},k=N=>{N.preventDefault(),a&&_(a,1)},S=(N,T)=>{f(R=>({...R,[N]:T||null}))},j=()=>{a&&_(a,1)},C=async()=>{if(a)try{let N=I.from("checkin_logs").select(`
          id,
          timestamp,
          location,
          notes,
          wristbands (
            nfc_id,
            category
          ),
          staff:profiles!checkin_logs_staff_id_fkey (
            email,
            full_name
          )
        `).eq("event_id",a).order("timestamp",{ascending:!1});if(u&&(N=N.or(`wristbands.nfc_id.ilike.%${u}%,wristbands.category.ilike.%${u}%`)),d.start&&(N=N.gte("timestamp",d.start)),d.end){const X=new Date(d.end);X.setDate(X.getDate()+1),N=N.lt("timestamp",X.toISOString())}const{data:T,error:R}=await N.select(`
          *,
          wristbands (nfc_id, category),
          staff:profiles (email, full_name)
        `);if(R)throw R;if(!T||T.length===0){alert("No check-ins to export");return}let B=`Timestamp,NFC ID,Category,Location,Staff,Notes
`;T.forEach(X=>{var ut,Rr,ct,or;const P=new Date(X.timestamp).toLocaleString(),L=((ut=X.wristbands)==null?void 0:ut.nfc_id)||"",M=((Rr=X.wristbands)==null?void 0:Rr.category)||"",te=X.location||"",ce=((ct=X.staff)==null?void 0:ct.full_name)||((or=X.staff)==null?void 0:or.email)||"",Ir=X.notes?`"${X.notes.replace(/"/g,'""')}"`:"";B+=`${P},${L},${M},${te},${ce},${Ir}
`});const W=new Blob([B],{type:"text/csv;charset=utf-8"}),ue=URL.createObjectURL(W),ae=document.createElement("a");ae.href=ue,ae.setAttribute("download",`checkins_${new Date().toISOString()}.csv`),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(ue)}catch(N){console.error("Error exporting check-ins:",N),alert("Failed to export check-ins")}},$=Math.ceil(v/m);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Check-in Logs"}),a&&l.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(wu,{size:16,className:"mr-2"}),"Export to CSV"]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"event-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Event"}),l.jsxs("select",{id:"event-select",value:a||"",onChange:N=>o(N.target.value||null),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[l.jsx("option",{value:"",children:"Select an event"}),s.map(N=>l.jsx("option",{value:N.id,children:N.name},N.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),l.jsx("input",{type:"date",id:"start-date",value:d.start||"",onChange:N=>S("start",N.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),l.jsx("input",{type:"date",id:"end-date",value:d.end||"",onChange:N=>S("end",N.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("form",{onSubmit:k,children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:u,onChange:N=>c(N.target.value),placeholder:"Search by NFC ID or category...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ya,{size:18,className:"text-gray-400"})}),l.jsx("button",{type:"submit",className:"absolute inset-y-0 right-0 px-3 flex items-center bg-blue-600 rounded-r-md text-white",children:"Search"})]})})}),l.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Mw,{size:16,className:"mr-2"}),"Apply Filters"]})]})]})}),a?h?l.jsx("div",{className:"animate-pulse",children:[1,2,3,4,5].map(N=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},N))}):r.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NFC ID"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(N=>{var T,R,B,W;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.timestamp).toLocaleString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:((T=N.wristbands)==null?void 0:T.nfc_id)||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:((R=N.wristbands)==null?void 0:R.category)||"Unknown"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.location||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((B=N.staff)==null?void 0:B.full_name)||((W=N.staff)==null?void 0:W.email)||"N/A"}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:N.notes||"-"})]},N.id)})})]})}),$>1&&l.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",l.jsx("span",{className:"font-medium",children:(w-1)*m+1})," ","to"," ",l.jsx("span",{className:"font-medium",children:Math.min(w*m,v)})," ","of ",l.jsx("span",{className:"font-medium",children:v})," results"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>_(a,w-1),disabled:w<=1,className:`px-3 py-1 border rounded ${w<=1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),l.jsx("button",{onClick:()=>_(a,w+1),disabled:w>=$,className:`px-3 py-1 border rounded ${w>=$?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Next"})]})]})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 text-sm",children:u||d.start||d.end?"No check-ins found matching your criteria":"No check-ins found for this event"})}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"Please select an event to view check-in logs"})})]})]})},y_=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState(null),[a,o]=b.useState(""),[u,c]=b.useState(!0);b.useEffect(()=>{d()},[]),b.useEffect(()=>{s?h(s):f()},[s]);const d=async()=>{try{const{data:y,error:v}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(v)throw v;n(y||[])}catch(y){console.error("Error fetching events:",y)}},f=async()=>{c(!0);try{const{data:y,error:v}=await I.from("event_access").select(`
          id,
          access_level,
          user_id,
          event_id,
          granted_by,
          created_at,
          events (
            name
          ),
          profiles!event_access_user_id_fkey (
            email,
            full_name
          ),
          grantedBy:profiles!event_access_granted_by_fkey (
            email,
            full_name
          )
        `).order("created_at",{ascending:!1});if(v)throw v;t(y||[])}catch(y){console.error("Error fetching access list:",y)}finally{c(!1)}},h=async y=>{c(!0);try{const{data:v,error:p}=await I.from("event_access").select(`
          id,
          access_level,
          user_id,
          event_id,
          granted_by,
          created_at,
          events (
            name
          ),
          profiles!event_access_user_id_fkey (
            email,
            full_name
          ),
          grantedBy:profiles!event_access_granted_by_fkey (
            email,
            full_name
          )
        `).eq("event_id",y).order("created_at",{ascending:!1});if(p)throw p;t(v||[])}catch(v){console.error("Error fetching access list:",v)}finally{c(!1)}},x=async y=>{if(window.confirm("Are you sure you want to revoke this access?"))try{const{error:v}=await I.from("event_access").delete().eq("id",y);if(v)throw v;t(e.filter(p=>p.id!==y))}catch(v){console.error("Error deleting access:",v),alert("Failed to revoke access. Please try again.")}},w=a?e.filter(y=>{var v,p,m;return((v=y.profiles)==null?void 0:v.email)&&y.profiles.email.toLowerCase().includes(a.toLowerCase())||((p=y.profiles)==null?void 0:p.full_name)&&y.profiles.full_name.toLowerCase().includes(a.toLowerCase())||((m=y.events)==null?void 0:m.name)&&y.events.name.toLowerCase().includes(a.toLowerCase())}):e;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Management"}),l.jsxs(G,{to:s?`/access/new?event_id=${s}`:"/access/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(va,{size:16,className:"mr-2"}),"Grant Access"]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"event-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Event"}),l.jsxs("select",{id:"event-select",value:s||"",onChange:y=>i(y.target.value||null),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[l.jsx("option",{value:"",children:"All Events"}),r.map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",id:"search",value:a,onChange:y=>o(y.target.value),placeholder:"Search by user or event name...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ya,{size:18,className:"text-gray-400"})})]})]})]})}),u?l.jsx("div",{className:"animate-pulse",children:[1,2,3].map(y=>l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),l.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4"})]},y))}):w.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access Level"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Granted By"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Granted On"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(y=>{var v,p,m,g,_;return l.jsxs("tr",{children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:((v=y.profiles)==null?void 0:v.full_name)||"Unnamed User"}),l.jsx("div",{className:"text-sm text-gray-500",children:(p=y.profiles)==null?void 0:p.email})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(m=y.events)==null?void 0:m.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.access_level==="owner"?"bg-purple-100 text-purple-800":y.access_level==="admin"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:y.access_level})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((g=y.grantedBy)==null?void 0:g.full_name)||((_=y.grantedBy)==null?void 0:_.email)||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.created_at).toLocaleDateString()}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx(G,{to:`/access/${y.id}/edit`,className:"text-blue-600 hover:text-blue-900 mr-4",children:l.jsx(ga,{size:16})}),l.jsx("button",{onClick:()=>x(y.id),className:"text-red-600 hover:text-red-900",children:l.jsx(_u,{size:16})})]})]},y.id)})})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm",children:a||s?"No access records found matching your criteria":"No access records found"}),l.jsx(G,{to:"/access/new",className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:"Grant access to users"})]})]})]})},Ip=({isEdit:e=!1})=>{const{id:t}=Pr(),r=It(),n=ir(),[s,i]=b.useState(!1),[a,o]=b.useState([]),[u,c]=b.useState({user_email:"",event_id:"",role:"scanner"});b.useEffect(()=>{d(),e&&t&&f();const v=new URLSearchParams(r.search).get("event_id");v&&c(p=>({...p,event_id:v}))},[t,e,r.search]);const d=async()=>{try{const{data:v,error:p}=await I.from("events").select("id, name").order("start_date",{ascending:!1});if(p)throw p;o(v||[])}catch(v){console.error("Error fetching events:",v),D.error("Failed to load events")}},f=async()=>{var v;try{i(!0);const{data:p,error:m}=await I.from("event_access").select("*, user:user_id(id, email)").eq("id",t).single();if(m)throw m;p&&c({user_email:((v=p.user)==null?void 0:v.email)||"",event_id:p.event_id,role:p.role})}catch(p){console.error("Error fetching access:",p),D.error("Failed to load access data")}finally{i(!1)}},h=v=>{const{name:p,value:m}=v.target;c(g=>({...g,[p]:m}))},x=async v=>{if(v.preventDefault(),!u.user_email||!u.event_id){D.error("Please fill in all required fields");return}i(!0);try{const{data:p,error:m}=await I.from("users").select("id").eq("email",u.user_email.trim()).single();if(m||!p)throw new Error("User not found");e&&t?await w(p.id):await y(p.id),n(u.event_id?`/access?event_id=${u.event_id}`:"/access")}catch(p){console.error("Error:",p),D.error(p.message||"An error occurred")}finally{i(!1)}},w=async v=>{const{error:p}=await I.from("event_access").update({user_id:v,event_id:u.event_id,role:u.role,updated_at:new Date().toISOString()}).eq("id",t);if(p)throw p;D.success("Access updated successfully")},y=async v=>{var m;const{error:p}=await I.from("event_access").insert([{user_id:v,event_id:u.event_id,role:u.role,created_by:(m=(await I.auth.getUser()).data.user)==null?void 0:m.id}]);if(p)throw p;D.success("Access granted successfully")};return s&&e?l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-5 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:e?"Edit Access":"Grant Access"})}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"user_email",className:"block text-sm font-medium text-gray-700 mb-1",children:["User Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",id:"user_email",name:"user_email",value:u.user_email,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter user's email",required:!0,disabled:e})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"event_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Event ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{id:"event_id",name:"event_id",value:u.event_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:!!new URLSearchParams(r.search).get("event_id"),children:[l.jsx("option",{value:"",children:"Select an event"}),a.map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{id:"role",name:"role",value:u.role,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[l.jsx("option",{value:"scanner",children:"Scanner"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>n(-1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:s,children:"Cancel"}),l.jsx("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:s,children:s?"Saving...":e?"Update Access":"Grant Access"})]})]})]})})},v_=()=>l.jsx(Ip,{}),x_=()=>(Pr(),l.jsx(Ip,{isEdit:!0})),w_=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState("account"),[,a]=b.useState(null),[o,u]=b.useState({email:"",full_name:"",phone:""}),[c,d]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""});b.useEffect(()=>{f()},[]);const f=async()=>{try{t(!0);const{data:{user:v}}=await I.auth.getUser();if(!v)throw new Error("No user found");const{data:p,error:m}=await I.from("profiles").select("*").eq("id",v.id).single();if(m)throw m;a(p),u({full_name:p.full_name||"",email:p.email||"",phone:p.phone||""})}catch(v){console.error("Error fetching profile:",v),H.error("Failed to load profile",{operation:"read",severity:"error",technicalDetails:"Failed to fetch profile data",context:{component:"SettingsPage",action:"fetchProfile",error:v instanceof Error?v:new Error("Unknown error fetching profile")},toastOptions:{autoClose:1e4}})}finally{t(!1)}},h=v=>{const{name:p,value:m}=v.target;u(g=>({...g,[p]:m}))},x=v=>{const{name:p,value:m}=v.target;d(g=>({...g,[p]:m}))},w=async v=>{v.preventDefault();try{t(!0);const{data:{user:p}}=await I.auth.getUser();if(!p)throw new Error("No user found");const{error:m}=await I.from("profiles").update({full_name:o.full_name,phone:o.phone,updated_at:new Date().toISOString()}).eq("id",p.id);if(m)throw m;if(o.email!==p.email){const{error:g}=await I.auth.updateUser({email:o.email},{emailRedirectTo:`${window.location.origin}/settings`});if(g)throw g}await f(),H.success("Profile updated successfully",{origin:"app",context:{}})}catch(p){console.error("Error updating profile:",p),H.error("Could not update profile",void 0,{origin:"app",context:{}})}finally{t(!1)}},y=async v=>{if(v.preventDefault(),c.newPassword!==c.confirmPassword){H.error("New password and confirmation do not match",{origin:"app",context:{}});return}if(c.newPassword.length<8){H.error("Password must be at least 8 characters long",{origin:"app",context:{}});return}try{if(n(!0),c.currentPassword){const{error:g}=await I.auth.signInWithPassword({email:o.email||"",password:c.currentPassword});if(g)throw new Error("Current password is incorrect")}const{error:p}=await I.auth.updateUser({password:c.newPassword});if(p)throw p;d({currentPassword:"",newPassword:"",confirmPassword:""});const{error:m}=await I.auth.signOut();if(m)throw m;H.success("Successfully signed out",{origin:"app",context:{}})}catch(p){H.error("Failed to update password",{origin:"settings",context:{entity:"user",operation:"update_password",error:p instanceof Error?p:new Error(String(p))}})}finally{n(!1)}};return e&&!o.email?l.jsx("div",{className:"flex justify-center items-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Settings"}),l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex -mb-px",children:[l.jsx("button",{onClick:()=>i("account"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${s==="account"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,type:"button",children:"Account"}),l.jsx("button",{onClick:()=>i("password"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${s==="password"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,type:"button",children:"Change Password"})]})}),l.jsx("div",{className:"p-6",children:s==="account"?l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{type:"email",name:"email",id:"email",value:o.email,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:e})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{type:"text",name:"full_name",id:"full_name",value:o.full_name,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:e})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone",id:"phone",value:o.phone,onChange:h,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:e})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:e,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Saving...":"Save Changes"})})]}):l.jsxs("form",{onSubmit:v=>{v.preventDefault(),y(v)},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),l.jsx("input",{type:"password",name:"currentPassword",id:"currentPassword",value:c.currentPassword,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:r,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),l.jsx("input",{type:"password",name:"newPassword",id:"newPassword",value:c.newPassword,onChange:x,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:r,minLength:8,required:!0}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters long"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),l.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:c.confirmPassword,onChange:x,className:`mt-1 block w-full rounded-md shadow-sm sm:text-sm ${c.newPassword&&c.confirmPassword&&c.newPassword!==c.confirmPassword?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,disabled:r,required:!0}),c.newPassword&&c.confirmPassword&&c.newPassword!==c.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Passwords do not match"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:r||!c.currentPassword||!c.newPassword||!c.confirmPassword||c.newPassword!==c.confirmPassword,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Updating...":"Update Password"})})]})})]})]})};var Rp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=s(i,n(o)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var o in i)t.call(i,o)&&i[o]&&(a=s(a,o));return a}function s(i,a){return a?i?i+" "+a:i+a:i}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Rp);var __=Rp.exports;const Ee=xd(__),b_=["xxl","xl","lg","md","sm","xs"],k_="xs",wa=b.createContext({prefixes:{},breakpoints:b_,minBreakpoint:k_}),{Consumer:U1,Provider:z1}=wa;function ze(e,t){const{prefixes:r}=b.useContext(wa);return e||r[t]||t}function $p(){const{breakpoints:e}=b.useContext(wa);return e}function Lp(){const{minBreakpoint:e}=b.useContext(wa);return e}const Dp=e=>b.forwardRef((t,r)=>l.jsx("div",{...t,ref:r,className:Ee(t.className,e)})),j_=["as","disabled"];function S_(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function N_(e){return!e||e.trim()==="#"}function Ap({tagName:e,disabled:t,href:r,target:n,rel:s,role:i,onClick:a,tabIndex:o=0,type:u}){e||(r!=null||n!=null||s!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:u||"button",disabled:t},c];const d=h=>{if((t||e==="a"&&N_(r))&&h.preventDefault(),t){h.stopPropagation();return}a==null||a(h)},f=h=>{h.key===" "&&(h.preventDefault(),d(h))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:i??"button",disabled:void 0,tabIndex:t?void 0:o,href:r,target:e==="a"?n:void 0,"aria-disabled":t||void 0,rel:e==="a"?s:void 0,onClick:d,onKeyDown:f},c]}const E_=b.forwardRef((e,t)=>{let{as:r,disabled:n}=e,s=S_(e,j_);const[i,{tagName:a}]=Ap(Object.assign({tagName:r,disabled:n},s));return l.jsx(a,Object.assign({},s,i,{ref:t}))});E_.displayName="Button";const pr=b.forwardRef(({as:e,bsPrefix:t,variant:r="primary",size:n,active:s=!1,disabled:i=!1,className:a,...o},u)=>{const c=ze(t,"btn"),[d,{tagName:f}]=Ap({tagName:e,disabled:i,...o}),h=f;return l.jsx(h,{...d,...o,ref:u,disabled:i,className:Ee(a,c,s&&"active",r&&`${c}-${r}`,n&&`${c}-${n}`,o.href&&i&&"disabled")})});pr.displayName="Button";const ln=b.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},s)=>(t=ze(t,"card-body"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));ln.displayName="CardBody";const Mp=b.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},s)=>(t=ze(t,"card-footer"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Mp.displayName="CardFooter";const Up=b.createContext(null);Up.displayName="CardHeaderContext";const Yn=b.forwardRef(({bsPrefix:e,className:t,as:r="div",...n},s)=>{const i=ze(e,"card-header"),a=b.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return l.jsx(Up.Provider,{value:a,children:l.jsx(r,{ref:s,...n,className:Ee(t,i)})})});Yn.displayName="CardHeader";const zp=b.forwardRef(({bsPrefix:e,className:t,variant:r,as:n="img",...s},i)=>{const a=ze(e,"card-img");return l.jsx(n,{ref:i,className:Ee(r?`${a}-${r}`:a,t),...s})});zp.displayName="CardImg";const Fp=b.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},s)=>(t=ze(t,"card-img-overlay"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Fp.displayName="CardImgOverlay";const Bp=b.forwardRef(({className:e,bsPrefix:t,as:r="a",...n},s)=>(t=ze(t,"card-link"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Bp.displayName="CardLink";const C_=Dp("h6"),Wp=b.forwardRef(({className:e,bsPrefix:t,as:r=C_,...n},s)=>(t=ze(t,"card-subtitle"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Wp.displayName="CardSubtitle";const Vp=b.forwardRef(({className:e,bsPrefix:t,as:r="p",...n},s)=>(t=ze(t,"card-text"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));Vp.displayName="CardText";const T_=Dp("h5"),qp=b.forwardRef(({className:e,bsPrefix:t,as:r=T_,...n},s)=>(t=ze(t,"card-title"),l.jsx(r,{ref:s,className:Ee(e,t),...n})));qp.displayName="CardTitle";const Hp=b.forwardRef(({bsPrefix:e,className:t,bg:r,text:n,border:s,body:i=!1,children:a,as:o="div",...u},c)=>{const d=ze(e,"card");return l.jsx(o,{ref:c,...u,className:Ee(t,d,r&&`bg-${r}`,n&&`text-${n}`,s&&`border-${s}`),children:i?l.jsx(ln,{children:a}):a})});Hp.displayName="Card";const no=Object.assign(Hp,{Img:zp,Title:qp,Subtitle:Wp,Body:ln,Link:Bp,Text:Vp,Header:Yn,Footer:Mp,ImgOverlay:Fp});function P_({as:e,bsPrefix:t,className:r,...n}){t=ze(t,"col");const s=$p(),i=Lp(),a=[],o=[];return s.forEach(u=>{const c=n[u];delete n[u];let d,f,h;typeof c=="object"&&c!=null?{span:d,offset:f,order:h}=c:d=c;const x=u!==i?`-${u}`:"";d&&a.push(d===!0?`${t}${x}`:`${t}${x}-${d}`),h!=null&&o.push(`order${x}-${h}`),f!=null&&o.push(`offset${x}-${f}`)}),[{...n,className:Ee(r,...a,...o)},{as:e,bsPrefix:t,spans:a}]}const ci=b.forwardRef((e,t)=>{const[{className:r,...n},{as:s="div",bsPrefix:i,spans:a}]=P_(e);return l.jsx(s,{...n,ref:t,className:Ee(r,!a.length&&i)})});ci.displayName="Col";const Kp=b.forwardRef(({bsPrefix:e,fluid:t=!1,as:r="div",className:n,...s},i)=>{const a=ze(e,"container"),o=typeof t=="string"?`-${t}`:"-fluid";return l.jsx(r,{ref:i,...s,className:Ee(n,t?`${a}${o}`:a)})});Kp.displayName="Container";const Gp=b.forwardRef(({bsPrefix:e,className:t,as:r="div",...n},s)=>{const i=ze(e,"row"),a=$p(),o=Lp(),u=`${i}-cols`,c=[];return a.forEach(d=>{const f=n[d];delete n[d];let h;f!=null&&typeof f=="object"?{cols:h}=f:h=f;const x=d!==o?`-${d}`:"";h!=null&&c.push(`${u}${x}-${h}`)}),l.jsx(r,{ref:s,...n,className:Ee(t,i,...c)})});Gp.displayName="Row";function O_(){const e=()=>{H.info("This is a system notification",{origin:"test",context:{entity:"system",operation:"test",test:"system",code:"SYSTEM_NOTIFICATION",technicalDetails:"System notification test"},toastOptions:{autoClose:3e3}})},t=()=>{H.success("Operation completed successfully",{origin:"test",context:{entity:"test",operation:"create",test:"success",technicalDetails:"Success notification test"},toastOptions:{autoClose:3e3}})},r=()=>{try{throw new Error("This is a test error")}catch(a){const o=a instanceof Error?a.message:"Unknown error";H.error("An error occurred",a,{origin:"test",context:{entity:"test",operation:"delete",error:a instanceof Error?a.stack:String(a),test:"error",technicalDetails:o},toastOptions:{autoClose:5e3}})}},n=()=>{H.warning("This is a warning",{origin:"test",context:{entity:"test",operation:"update",test:"warning",technicalDetails:"Warning notification test"},toastOptions:{autoClose:4e3}})},s=()=>{H.info("Test item created",{origin:"test",context:{entity:"test",operation:"create",test:"functional",technicalDetails:"Additional details about the operation",data:{id:"123",name:"Test Item"}},toastOptions:{autoClose:4500}})},i=()=>{H.success("Test item was created",{origin:"test",context:{entity:"Test Item",operation:"create",id:"123"}}),H.success("Test item was updated",{origin:"test",context:{entity:"Test Item",operation:"update",id:"123"}}),H.success("Test item was deleted",{origin:"test",context:{entity:"Test Item",operation:"delete",id:"123"}}),H.success("Test items were fetched",{origin:"test",context:{entity:"Test Items",operation:"read",count:5}})};return l.jsxs(Kp,{className:"py-4",children:[l.jsx("h1",{className:"mb-4",children:"Notification System Test"}),l.jsxs(Gp,{className:"g-4",children:[l.jsx(ci,{md:6,lg:4,children:l.jsxs(no,{children:[l.jsx(Yn,{children:"System Notifications"}),l.jsxs(ln,{children:[l.jsx(pr,{variant:"outline-primary",className:"w-100 mb-2",onClick:e,children:"Test System Notification"}),l.jsx(pr,{variant:"outline-success",className:"w-100 mb-2",onClick:t,children:"Test Success Notification"}),l.jsx(pr,{variant:"outline-danger",className:"w-100 mb-2",onClick:r,children:"Test Error Notification"}),l.jsx(pr,{variant:"outline-warning",className:"w-100",onClick:n,children:"Test Warning Notification"})]})]})}),l.jsx(ci,{md:6,lg:4,children:l.jsxs(no,{children:[l.jsx(Yn,{children:"Functional Notifications"}),l.jsxs(ln,{children:[l.jsx(pr,{variant:"outline-info",className:"w-100 mb-3",onClick:s,children:"Test Functional Notification"}),l.jsx(pr,{variant:"outline-secondary",className:"w-100",onClick:i,children:"Test CRUD Notifications"})]})]})}),l.jsx(ci,{md:12,lg:4,children:l.jsxs(no,{children:[l.jsx(Yn,{children:"Notification Center"}),l.jsxs(ln,{children:[l.jsx("p",{className:"text-muted",children:"Check the notification center (bell icon) to see all notifications. Notifications will also appear as toasts at the top-right of the screen."}),l.jsxs("p",{className:"text-muted",children:[l.jsx("strong",{children:"Note:"})," System notifications with severity 'debug' will only appear in the console."]})]})]})})]})]})}const I_=()=>{const e=[{to:"/",label:"Dashboard",icon:l.jsx(zw,{size:20})},{to:"/events",label:"Events",icon:l.jsx(Rw,{size:20})},{to:"/wristbands",label:"Wristbands",icon:l.jsx(vl,{size:20})},{to:"/checkins",label:"Check-ins",icon:l.jsx(Dw,{size:20})},{to:"/access",label:"User Access",icon:l.jsx(va,{size:20})}];return l.jsxs("aside",{className:"hidden md:flex md:flex-col md:w-64 bg-white border-r border-gray-200",children:[l.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-200",children:l.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Event Admin"})}),l.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:l.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:e.map(t=>l.jsxs(Uc,{to:t.to,className:({isActive:r})=>`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${r?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[l.jsx("span",{className:"mr-3",children:t.icon}),t.label]},t.to))})}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs(Uc,{to:"/settings",className:"flex items-center px-4 py-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx(Vw,{size:20,className:"mr-3"}),"Settings"]})})]})},Xs=43200,md=1440,gd=Symbol.for("constructDateFrom");function bu(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&gd in e?e[gd](t):e instanceof Date?new e.constructor(t):new Date(t)}function R_(e){return bu(e,Date.now())}const $_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L_=(e,t,r)=>{let n;const s=$_[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function so(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const D_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U_={date:so({formats:D_,defaultWidth:"full"}),time:so({formats:A_,defaultWidth:"full"}),dateTime:so({formats:M_,defaultWidth:"full"})},z_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F_=(e,t,r,n)=>z_[e];function $n(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const B_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G_=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Q_={ordinalNumber:G_,era:$n({values:B_,defaultWidth:"wide"}),quarter:$n({values:W_,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$n({values:V_,defaultWidth:"wide"}),day:$n({values:q_,defaultWidth:"wide"}),dayPeriod:$n({values:H_,defaultWidth:"wide",formattingValues:K_,defaultFormattingWidth:"wide"})};function Ln(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?X_(o,f=>f.test(a)):J_(o,f=>f.test(a));let c;c=e.valueCallback?e.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}function J_(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function X_(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Y_(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const Z_=/^(\d+)(th|st|nd|rd)?/i,e1=/\d+/i,t1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},r1={any:[/^b/i,/^(a|c)/i]},n1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},s1={any:[/1/i,/2/i,/3/i,/4/i]},i1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},a1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},o1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},l1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},u1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},d1={ordinalNumber:Y_({matchPattern:Z_,parsePattern:e1,valueCallback:e=>parseInt(e,10)}),era:Ln({matchPatterns:t1,defaultMatchWidth:"wide",parsePatterns:r1,defaultParseWidth:"any"}),quarter:Ln({matchPatterns:n1,defaultMatchWidth:"wide",parsePatterns:s1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ln({matchPatterns:i1,defaultMatchWidth:"wide",parsePatterns:a1,defaultParseWidth:"any"}),day:Ln({matchPatterns:o1,defaultMatchWidth:"wide",parsePatterns:l1,defaultParseWidth:"any"}),dayPeriod:Ln({matchPatterns:u1,defaultMatchWidth:"any",parsePatterns:c1,defaultParseWidth:"any"})},f1={code:"en-US",formatDistance:L_,formatLong:U_,formatRelative:F_,localize:Q_,match:d1,options:{weekStartsOn:0,firstWeekContainsDate:1}};let h1={};function p1(){return h1}function tr(e,t){return bu(e,e)}function yd(e){const t=tr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ku(e,...t){const r=bu.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function di(e,t){const r=+tr(e)-+tr(t);return r<0?-1:r>0?1:r}function m1(e,t,r){const[n,s]=ku(r==null?void 0:r.in,e,t),i=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return i*12+a}function g1(e,t){const r=tr(e);return r.setHours(23,59,59,999),r}function y1(e,t){const r=tr(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function v1(e,t){const r=tr(e);return+g1(r)==+y1(r)}function x1(e,t,r){const[n,s,i]=ku(r==null?void 0:r.in,e,e,t),a=di(s,i),o=Math.abs(m1(s,i));if(o<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let u=di(s,i)===-a;v1(n)&&o===1&&di(n,i)===1&&(u=!1);const c=a*(o-+u);return c===0?0:c}function w1(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function _1(e,t){return+tr(e)-+tr(t)}function b1(e,t,r){const n=_1(e,t)/1e3;return w1(r==null?void 0:r.roundingMethod)(n)}function k1(e,t,r){const n=p1(),s=(r==null?void 0:r.locale)??n.locale??f1,i=2520,a=di(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a}),[u,c]=ku(r==null?void 0:r.in,...a>0?[t,e]:[e,t]),d=b1(c,u),f=(yd(c)-yd(u))/1e3,h=Math.round((d-f)/60);let x;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,o):d<10?s.formatDistance("lessThanXSeconds",10,o):d<20?s.formatDistance("lessThanXSeconds",20,o):d<40?s.formatDistance("halfAMinute",0,o):d<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):h===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",h,o);if(h<45)return s.formatDistance("xMinutes",h,o);if(h<90)return s.formatDistance("aboutXHours",1,o);if(h<md){const w=Math.round(h/60);return s.formatDistance("aboutXHours",w,o)}else{if(h<i)return s.formatDistance("xDays",1,o);if(h<Xs){const w=Math.round(h/md);return s.formatDistance("xDays",w,o)}else if(h<Xs*2)return x=Math.round(h/Xs),s.formatDistance("aboutXMonths",x,o)}if(x=x1(c,u),x<12){const w=Math.round(h/Xs);return s.formatDistance("xMonths",w,o)}else{const w=x%12,y=Math.trunc(x/12);return w<3?s.formatDistance("aboutXYears",y,o):w<9?s.formatDistance("overXYears",y,o):s.formatDistance("almostXYears",y+1,o)}}function j1(e,t){return k1(e,R_(e),t)}const S1=()=>{const[e,t]=b.useState(!1),{notifications:r,unreadCount:n,markAsRead:s,markAllAsRead:i,removeNotification:a}=xa(),o=b.useRef(null);b.useEffect(()=>{function d(f){o.current&&!o.current.contains(f.target)&&t(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const u=d=>{const f="w-5 h-5 mr-2";if(d.category==="system")switch(d.severity){case"error":case"critical":return l.jsx(Hw,{className:`${f} text-red-500`});case"warning":return l.jsx(Ow,{className:`${f} text-yellow-500`});case"info":case"debug":default:return l.jsx(Uw,{className:`${f} text-blue-500`})}else return l.jsx($w,{className:`${f} text-green-500`})},c=d=>{if(d.category==="system")return`System ${d.severity}`;{const f=d;return f.entity.charAt(0).toUpperCase()+f.entity.slice(1)}};return l.jsxs("div",{className:"relative",ref:o,children:[l.jsxs("button",{onClick:()=>{t(!e),!e&&n>0&&i()},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 relative","aria-label":"Notifications",children:[l.jsx(Iw,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}),n>0&&l.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:n>9?"9+":n})]}),e&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Notifications"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:i,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",disabled:r.length===0,children:"Mark all as read"}),l.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:l.jsx(ld,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No notifications"}):l.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(d=>{var f;return l.jsx("li",{className:`p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 ${d.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,onClick:()=>s(d.id),children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:u(d)}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c(d)}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[l.jsx(Aw,{className:"w-3 h-3 mr-1"}),j1(new Date(d.timestamp),{addSuffix:!0})]})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-700 dark:text-gray-300",children:d.category==="system"?typeof d.context=="object"&&d.context!==null&&((f=d.context)==null?void 0:f.message)||"System notification":d.message}),d.category==="functional"&&d.technicalDetails&&l.jsxs("details",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx("summary",{className:"cursor-pointer",children:"Details"}),l.jsx("pre",{className:"mt-1 p-2 bg-gray-100 dark:bg-gray-900 rounded overflow-auto max-h-32",children:d.technicalDetails})]})]}),l.jsx("button",{onClick:h=>{h.stopPropagation(),a(d.id)},className:"ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200","aria-label":"Dismiss notification",children:l.jsx(ld,{className:"w-4 h-4"})})]})},d.id)})})})]})]})},N1=({user:e})=>{const[t,r]=b.useState(!1),n=ir(),s=async()=>{await I.auth.signOut(),n("/login")};return l.jsx("header",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[l.jsx("div",{className:"flex items-center md:hidden",children:l.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-600","aria-label":"Open sidebar",children:l.jsx(Bw,{size:24})})}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"relative",children:l.jsx(S1,{})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",className:"flex items-center text-sm rounded-full focus:outline-none",onClick:()=>r(!t),children:l.jsxs("div",{className:"flex items-center px-2 py-1 rounded-full hover:bg-gray-100",children:[l.jsx("div",{className:"bg-blue-100 text-blue-800 flex items-center justify-center w-8 h-8 rounded-full",children:l.jsx(qw,{size:16})}),l.jsx("span",{className:"ml-2 text-gray-700 hidden sm:block",children:e==null?void 0:e.email}),l.jsx(Lw,{size:16,className:"ml-1 text-gray-500"})]})}),t&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 border border-gray-200",onBlur:()=>r(!1),children:l.jsxs("button",{onClick:s,className:"flex w-full items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[l.jsx(Fw,{size:16,className:"mr-2"}),"Sign out"]})})]})]})]})})},E1=({user:e})=>l.jsxs("div",{className:"flex h-screen bg-gray-100",children:[l.jsx(I_,{}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsx(N1,{user:e}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:l.jsx(hy,{})})]})]}),C1=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{I.auth.getSession().then(({data:{session:o}})=>{t(o),i((o==null?void 0:o.user)??null),n(!1)});const{data:{subscription:a}}=I.auth.onAuthStateChange((o,u)=>{t(u),i((u==null?void 0:u.user)??null)});return()=>a.unsubscribe()},[]),r?l.jsx(Tp,{}):l.jsxs(l.Fragment,{children:[l.jsx(Ew,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),l.jsx(jy,{children:l.jsxs(my,{children:[l.jsx(fe,{path:"/login",element:e?l.jsx(Ks,{to:"/"}):l.jsx(Cw,{})}),l.jsxs(fe,{element:e?l.jsx(E1,{user:s}):l.jsx(Ks,{to:"/login"}),children:[l.jsx(fe,{path:"/",element:l.jsx(Kw,{})}),l.jsx(fe,{path:"/events",element:l.jsx(u_,{})}),l.jsx(fe,{path:"/events/new",element:l.jsx(d_,{})}),l.jsx(fe,{path:"/events/:id",element:l.jsx(c_,{})}),l.jsx(fe,{path:"/events/:id/edit",element:l.jsx(f_,{})}),l.jsx(fe,{path:"/wristbands",element:l.jsx(h_,{})}),l.jsx(fe,{path:"/wristbands/new",element:l.jsx(p_,{})}),l.jsx(fe,{path:"/wristbands/:id/edit",element:l.jsx(m_,{})}),l.jsx(fe,{path:"/checkins",element:l.jsx(g_,{})}),l.jsx(fe,{path:"/access",element:l.jsx(y_,{})}),l.jsx(fe,{path:"/access/create",element:l.jsx(v_,{})}),l.jsx(fe,{path:"/access/:id/edit",element:l.jsx(x_,{})}),l.jsx(fe,{path:"/settings",element:l.jsx(w_,{})}),l.jsx(fe,{path:"/notification-test",element:l.jsx(O_,{})}),l.jsx(fe,{path:"*",element:l.jsx(Ks,{to:"/",replace:!0})})]}),l.jsx(fe,{path:"*",element:l.jsx(Ks,{to:"/login",replace:!0})})]})})]})},vd=document.getElementById("root");vd&&Rh(vd).render(l.jsx(V.StrictMode,{children:l.jsx(C1,{})}));
//# sourceMappingURL=index-DOIwNB3S.js.map
